(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?s:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("/6Yf"),o=n("qOnz"),s=n("mrSG"),a=n("q/0M"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.H)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.B)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),d=l("sessionStorage"),f=new a.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.G)(t),n=new o.d;n.update(e);var r=n.digest();return o.g.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=m.apply(null,i):n+="object"==typeof i?Object(o.H)(i):i,n+=" "}return n},y=null,v=!0,b=function(t,e){Object(o.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=a.a.VERBOSE,y=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===v&&(v=!1,null===y&&!0===d.get("logging_enabled")&&b(!0)),y){var n=m.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(s.f)([t],Object(s.e)(e)))}},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));f.error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));throw f.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",x="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===T||e===x)return-1;if(e===T||t===x)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.H)(e))},P=function(t){if("object"!=typeof t||null===t)return Object(o.H)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.H)(e[i]),r+=":",r+=P(t[e[i]]);return r+"}"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function j(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var N=function(t){var e,n,r,i,s;Object(o.e)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(R.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout(function(){throw E("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},L=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),V=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B="websocket",H="long_polling",z=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if(Object(o.e)("string"==typeof e,"typeof type must == string"),Object(o.e)("object"==typeof n,"typeof params must == object"),e===B)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==H)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return j(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var G=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.k)(this.counters_)},t}(),K={},Q={};function $(t){var e=t.toString();return K[e]||(K[e]=new G),K[e]}var Y=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&M(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),J="start",X="close",Z=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=$(e),this.urlFn=function(t){return W(e,H,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Y(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.x)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===J)n.id=o,n.password=a;else{if(i!==X)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.x)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.H)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.h)(e),r=k(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.x)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.H)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.x)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.x)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),et="";function nt(t){et=t}var rt=null;"undefined"!=typeof MozWebSocket?rt=MozWebSocket:"undefined"!=typeof WebSocket&&(rt=WebSocket);var it=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=$(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.x)()&&"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),W(t,B,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.x)()){var r={headers:{"User-Agent":"Firebase/5/"+et+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new rt(this.connURL,[],r)}else this.mySock=new rt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==rt&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.B)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.H)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ot=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Z,it]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=it&&it.isAvailable(),o=i&&!it.previouslyFailed();if(e.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[it];else{var a=this.transports_=[];try{for(var u=Object(s.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),st=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new ot(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=L(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?O("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),L(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):L(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),at=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ut=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(s.f)([],Object(s.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.e)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ct=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.v)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ut),lt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ht(){return new lt("")}function dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ft(t){return t.pieces_.length-t.pieceNum_}function pt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new lt(t.pieces_,e)}function gt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mt(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new lt(e,0)}function bt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof lt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new lt(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){var n=dt(t),r=dt(e);if(null===n)return e;if(n===r)return wt(pt(t),pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ot(t,e){for(var n=yt(t,0),r=yt(e,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ct(t,e){if(ft(t)!==ft(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Et(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ft(t)>ft(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(){return function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.F)(this.parts_[n]);Tt(this)}}();function Tt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xt(t))}function xt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var It,At,Dt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ut),Pt=1e3,kt=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Pt,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.x)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Dt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ct.getInstance().on("online",l.onOnline_,l),l}return Object(s.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.H)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.i)(t,"w")){var n=Object(o.E)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.p)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.A)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.H)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):O("Unrecognized action received from server: "+Object(o.H)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new st(s,a.repoInfo_,a.applicationId_,n,r,i,function(t){E(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},u))}).then(null,function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&E(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.t)(this.interruptReasons_)&&(this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return P(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new lt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(s.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,Object(s.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.x)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+et.replace(/\./g,"-")]=1,Object(o.v)()?t["framework.cordova"]=1:Object(o.y)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ct.getInstance().currentlyOnline();return Object(o.t)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(at),jt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Nt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new jt(T,t),r=new jt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return jt.MIN},t}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return It},set:function(t){It=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(x,It)},e.prototype.makePost=function(t,e){return Object(o.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new jt(t,It)},e.prototype.toString=function(){return".key"},e}(Nt),Ft=new Rt,Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Lt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Lt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}();function qt(t,e){return I(t.name,e.name)}function Bt(t,e){return I(t,e)}var Ht,zt,Wt,Gt,Kt,Qt=function(t){return"number"==typeof t?"number:"+N(t):"string:"+t},$t=function(t){if(t.isLeafNode()){var e=t.val();Object(o.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.i)(e,".sv"),"Priority must be a string or number.")}else Object(o.e)(t===At||t.isEmpty(),"priority of unexpected type.");Object(o.e)(t===At||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Yt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$t(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _t(e)?this:".priority"===dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=dt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===ft(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Qt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?N(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Jt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(x,new Yt("[PRIORITY-POST]",Wt))},e.prototype.makePost=function(t,e){var n=zt(t);return new jt(e,new Yt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Nt)),Xt=Math.log(2),Zt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),te=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Lt(s,o.node,Lt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Lt(s,o.node,Lt.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Lt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Lt.BLACK):(a(h,Lt.BLACK),a(h,Lt.RED))}return o}(new Zt(t.length));return new Vt(r||e,o)},ee={},ne=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.e)(ee&&Jt,"ChildrenNode.ts has not been loaded"),Gt=Gt||new t({".priority":ee},{".priority":Jt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.E)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(o.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.e)(e!==Ft,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(jt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=a?te(i,e.getCompare()):ee;var l=e.toString(),h=Object(s.a)({},this.indexSet_);h[l]=e;var d=Object(s.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.C)(this.indexes_,function(t,i){var s=Object(o.E)(r.indexSet_,i);if(Object(o.e)(s,"Missing index implementation for "+i),t===ee){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(jt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),te(a,s.getCompare())}return ee}var l=n.get(e.name),h=t;return l&&(h=h.remove(new jt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.C)(this.indexes_,function(t){if(t===ee)return t;var r=n.get(e.name);return r?t.remove(new jt(e.name,r)):t}),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$t(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Kt||(Kt=new t(new Vt(Bt),null,ne.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Kt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Kt:e},t.prototype.getChild=function(t){var e=dt(t);return null===e?this:this.getImmediateChild(e).getChild(pt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new jt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Kt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=dt(t);if(null===n)return e;Object(o.e)(".priority"!==dt(t)||1===ft(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(pt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,jt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,jt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===Ft||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ft||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ft?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Vt(Bt),re.EMPTY_NODE,ne.Default)||this}return Object(s.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function oe(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yt(t,oe(e));if(t instanceof Array){var n=re.EMPTY_NODE;return j(t,function(e,r){if(Object(o.i)(t,e)&&"."!==e.substring(0,1)){var i=oe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(oe(e))}var r=[],i=!1;if(j(t,function(t,e){if("."!==t.substring(0,1)){var n=oe(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new jt(t,n)))}}),0===r.length)return re.EMPTY_NODE;var s=te(r,qt,function(t){return t.name},Bt);if(i){var a=te(r,Jt.getCompare());return new re(s,oe(e),new ne({".priority":a},{".priority":Jt}))}return new re(s,oe(e),ne.Default)}Object.defineProperties(jt,{MIN:{value:new jt(T,re.EMPTY_NODE)},MAX:{value:new jt(x,ie)}}),Rt.__EMPTY_NODE=re.EMPTY_NODE,Yt.__childrenNodeConstructor=re,At=ie,Wt=ie,zt=oe;var se,ae,ue=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.e)(!_t(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=oe(t),r=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new jt(e,r)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,ie);return new jt(x,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Nt),ce=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return jt.MAX},e.prototype.makePost=function(t,e){var n=oe(t);return new jt(e,n)},e.prototype.toString=function(){return".value"},e}(Nt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",he=(se=0,ae=[],function(t){var e,n=t===se;se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(o.e)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ae[e];e--)ae[e]=0;ae[e]++}else for(e=0;e<12;e++)ae[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=le.charAt(ae[e]);return Object(o.e)(20===i.length,"nextPushId: Length should be 20."),i}),de=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return x;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},fe=function(t){if("-2147483648"===t)return T;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function ge(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function me(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(me(e,a)):Object(o.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ge(e,n)):s.trackChildChange(ye(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(me(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye(e,r,i))}else n.trackChildChange(ge(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new jt(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new jt(t,e))||(r=r.updateImmediateChild(t,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new be(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new jt(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.e)(u.numChildren()===this.limit_,"");var c=new jt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ye(e,n,d)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me(e,d));var g=u.updateImmediateChild(e,re.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ge(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(me(l.name,l.node)),i.trackChildChange(ge(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,re.EMPTY_NODE)):t},t}(),we=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Oe(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Ce(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Ee(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Se(t,e,n){var r;return t.index_===Ft?("string"==typeof e&&(e=de(e)),r=Ee(t,e,n)):r=Ee(t,e,null==n?x:de(n)),r.startAfterSet_=!0,r}function Te(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xe(t,e,n){var r;return t.index_===Ft?("string"==typeof e&&(e=fe(e)),r=Te(t,e,n)):r=Te(t,e,null==n?T:fe(n)),r.endBeforeSet_=!0,r}function Ie(t,e){var n=t.copy();return n.index_=e,n}function Ae(t){var e,n={};return t.isDefault()||(t.index_===Jt?e="$priority":t.index_===ce?e="$value":t.index_===Ft?e="$key":(Object(o.e)(t.index_ instanceof ue,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.H)(e),t.startSet_&&(n.startAt=Object(o.H)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.H)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.H)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.H)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var De=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(s.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.e)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Ae(t.getQueryParams());this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.E)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Ae(t.getQueryParams()),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.D)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.B)(u.responseText)}catch(e){E("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&E("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()})},e}(at),Pe=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function ke(){return{value:null,children:new Map}}function je(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=dt(e);t.children.has(r)||t.children.set(r,ke()),je(t.children.get(r),e=pt(e),n)}}function Ne(t,e){if(_t(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Jt,function(e,n){je(t,new lt(e),n)}),Ne(t,e)}if(t.children.size>0){var r=dt(e);return e=pt(e),t.children.has(r)&&Ne(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Re(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Re(r,new lt(e.toString()+"/"+t),n)})}var Fe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s.a)({},t);return this.last_&&j(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fe(t);var n=1e4+2e4*Math.random();L(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;j(e,function(e,i){i>0&&Object(o.i)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),L(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ue(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ve,qe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Le.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lt(e));return new t(ht(),n,this.revert)}return Object(o.e)(dt(this.path)===e,"operationForChild called for unrelated child."),new t(pt(this.path),this.affectedTree,this.revert)},t}(),Be=function(){function t(t,e){this.source=t,this.path=e,this.type=Le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,ht()):new t(this.source,pt(this.path))},t}(),He=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Le.OVERWRITE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,ht(),this.snap.getImmediateChild(e)):new t(this.source,pt(this.path),this.snap)},t}(),ze=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Le.MERGE}return t.prototype.operationForChild=function(e){if(_t(this.path)){var n=this.children.subtree(new lt(e));return n.isEmpty()?null:n.value?new He(this.source,ht(),n.value):new t(this.source,ht(),n)}return Object(o.e)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,pt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),We=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;var e=dt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ge=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function Ke(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new jt(e.childName,e.snapshotNode),i=new jt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Qe(t,e){return{eventCache:t,serverCache:e}}function $e(t,e,n,r){return Qe(new We(e,n,r),t.serverCache)}function Ye(t,e,n,r){return Qe(t.eventCache,new We(e,n,r))}function Je(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xe(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ze=function(){function t(t,e){void 0===e&&(Ve||(Ve=new Vt(A)),e=Ve),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return j(e,function(t,e){n=n.set(new lt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ht(),value:this.value};if(_t(t))return null;var n=dt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(pt(t),e);return null!=i?{path:bt(new lt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(_t(e))return this;var n=dt(e),r=this.children.get(n);return null!==r?r.subtree(pt(e)):new t(null)},t.prototype.set=function(e,n){if(_t(e))return new t(n,this.children);var r=dt(e),i=(this.children.get(r)||new t(null)).set(pt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(_t(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=dt(e),r=this.children.get(n);if(r){var i=r.remove(pt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_t(t))return this.value;var e=dt(t),n=this.children.get(e);return n?n.get(pt(t)):null},t.prototype.setTree=function(e,n){if(_t(e))return n;var r,i=dt(e),o=(this.children.get(i)||new t(null)).setTree(pt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ht(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(bt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ht(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_t(t))return null;var i=dt(t),o=this.children.get(i);return o?o.findOnPath_(pt(t),bt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ht(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_t(e))return this;this.value&&r(n,this.value);var i=dt(e),o=this.children.get(i);return o?o.foreachOnPath_(pt(e),bt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ht(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(bt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),tn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ze(null))},t}();function en(t,e,n){if(_t(e))return new tn(new Ze(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=wt(i,e);return o=o.updateChild(s,n),new tn(t.writeTree_.set(i,o))}var a=new Ze(n),u=t.writeTree_.setTree(e,a);return new tn(u)}function nn(t,e,n){var r=t;return j(n,function(t,n){r=en(r,bt(e,t),n)}),r}function rn(t,e){if(_t(e))return tn.empty();var n=t.writeTree_.setTree(e,new Ze(null));return new tn(n)}function on(t,e){return null!=sn(t,e)}function sn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function an(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jt,function(t,n){e.push(new jt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new jt(t,n.value))}),e}function un(t,e){if(_t(e))return t;var n=sn(t,e);return new tn(null!=n?new Ze(n):t.writeTree_.subtree(e))}function cn(t){return t.writeTree_.isEmpty()}function ln(t,e){return hn(ht(),t.writeTree_,e)}function hn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(bt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(bt(t,".priority"),r)),n}function dn(t,e){return Cn(e,t)}function fn(t,e){if(t.snap)return Et(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Et(bt(t.path,n),e))return!0;return!1}function pn(t){return t.visible}function gn(t,e,n){for(var r=tn.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)Et(n,a)?r=en(r,u=wt(n,a),s.snap):Et(a,n)&&(u=wt(a,n),r=en(r,ht(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(Et(n,a))r=nn(r,u=wt(n,a),s.children);else if(Et(a,n))if(_t(u=wt(a,n)))r=nn(r,ht(),s.children);else{var c=Object(o.E)(s.children,dt(u));if(c){var l=c.getChild(pt(u));r=en(r,ht(),l)}}}}}return r}function mn(t,e,n,r,i){if(r||i){var o=un(t.visibleWrites,e);return!i&&cn(o)?n:i||null!=n||on(o,ht())?ln(gn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Et(t.path,e)||Et(e,t.path))},e),n||re.EMPTY_NODE):null}var s=sn(t.visibleWrites,e);if(null!=s)return s;var a=un(t.visibleWrites,e);return cn(a)?n:null!=n||on(a,ht())?ln(a,n||re.EMPTY_NODE):null}function yn(t,e,n,r){return mn(t.writeTree,t.treePath,e,n,r)}function vn(t,e){return function(t,e,n){var r=re.EMPTY_NODE,i=sn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=un(t.visibleWrites,e);return n.forEachChild(Jt,function(t,e){var n=ln(un(o,new lt(t)),e);r=r.updateImmediateChild(t,n)}),an(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return an(un(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function bn(t,e,n,r){return function(t,e,n,r,i){Object(o.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=bt(e,n);if(on(t.visibleWrites,s))return null;var a=un(t.visibleWrites,s);return cn(a)?i.getChild(n):ln(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function _n(t,e){return function(t,e){return sn(t.visibleWrites,e)}(t.writeTree,bt(t.treePath,e))}function wn(t,e,n){return function(t,e,n,r){var i=bt(e,n),o=sn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function On(t,e){return Cn(bt(t.treePath,e),t.writeTree)}function Cn(t,e){return{treePath:t,writeTree:e}}var En=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ye(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,me(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,ge(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Sn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Tn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new We(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xe(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=un(t.visibleWrites,e),c=sn(u,ht());if(null!=c)a=c;else{if(null==n)return[];a=ln(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function xn(t,e,n,r,i,s){var a=e.eventCache;if(null!=_n(r,n))return e;var u=void 0,c=void 0;if(_t(n))if(Object(o.e)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Xe(e),h=vn(r,l instanceof re?l:re.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=yn(r,Xe(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=dt(n);if(".priority"===f){Object(o.e)(1===ft(n),"Can't have a priority with additional path components");var p=a.getNode(),g=bn(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=pt(n),y=void 0;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();var v=bn(r,n,a.getNode(),c);y=null!=v?a.getNode().getImmediateChild(f).updateChild(m,v):a.getNode().getImmediateChild(f)}else y=wn(r,f,e.serverCache);u=null!=y?t.filter.updateChild(a.getNode(),f,y,m,i,s):a.getNode()}}return $e(e,u,a.isFullyInitialized()||_t(n),t.filter.filtersNodes())}function In(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(_t(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=dt(n);if(!c.isCompleteForPath(n)&&ft(n)>1)return e;var f=pt(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,Sn,null)}var g=Ye(e,u,c.isFullyInitialized()||_t(n),l.filtersNodes());return xn(t,g,n,i,new Tn(i,g,o),a)}function An(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new Tn(i,e,o);if(_t(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=$e(e,u,!0,t.filter.filtersNodes());else{var h=dt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=$e(e,u,c.isFullyInitialized(),c.isFiltered());else{var d=pt(n),f=c.getNode().getImmediateChild(h),p=void 0;if(_t(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===gt(d)&&g.getChild(vt(d)).isEmpty()?g:g.updateChild(d,r):re.EMPTY_NODE}a=f.equals(p)?e:$e(e,t.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Dn(t,e){return t.eventCache.isCompleteForChild(e)}function Pn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function kn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=_t(n)?r:new Ze(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Pn(0,e.serverCache.getNode().getImmediateChild(n),r);c=In(t,c,new lt(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Pn(0,e.serverCache.getNode().getImmediateChild(n),r);c=In(t,c,new lt(n),h,i,o,s,a)}}),c}var jn,Nn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ve(r.getIndex()),o=(n=r).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new _e(n):new be(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(re.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(re.EMPTY_NODE,a.getNode(),null),l=new We(u,s.isFullyInitialized(),i.filtersNodes()),h=new We(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qe(h,l),this.eventGenerator_=new Ge(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Rn(t,e){var n=Xe(t.viewCache_);return n&&(t.query.getQueryParams().loadsAllData()||!_t(e)&&!n.getImmediateChild(dt(e)).isEmpty())?n.getChild(e):null}function Fn(t){return 0===t.eventRegistrations_.length}function Mn(t,e,n){var r=[];if(n){Object(o.e)(null==e,"A cancel should cancel all event registrations.");var i=t.query.path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Ln(t,e,n,r){e.type===Le.MERGE&&null!==e.source.queryId&&(Object(o.e)(Xe(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.e)(Je(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=function(t,e,n,r,i){var s,a,u=new En;if(n.type===Le.OVERWRITE){var c=n;c.source.fromUser?s=An(t,e,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_t(c.path),s=In(t,e,c.path,c.snap,r,i,a,u))}else if(n.type===Le.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,u){var c=bt(n,r);Dn(e,dt(c))&&(a=An(t,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=bt(n,r);Dn(e,dt(c))||(a=An(t,a,c,u,i,o,s))}),a}(t,e,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=kn(t,e,l.path,l.children,r,i,a,u))}else if(n.type===Le.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=_n(r,n))return e;var u=new Tn(r,e,i),c=e.eventCache.getNode(),l=void 0;if(_t(n)||".priority"===dt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=yn(r,Xe(e));else{var d=e.serverCache.getNode();Object(o.e)(d instanceof re,"serverChildren would be complete if leaf node"),h=vn(r,d)}l=t.filter.updateFullNode(c,h=h,s)}else{var f=dt(n),p=wn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(c,f,p,pt(n),u,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(c,f,re.EMPTY_NODE,pt(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=yn(r,Xe(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=_n(r,ht()),$e(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=_n(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(_t(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return In(t,e,n,u.getNode().getChild(n),i,o,a,s);if(_t(n)){var c=new Ze(null);return u.getNode().forEachChild(Ft,function(t,e){c=c.set(new lt(t),e)}),kn(t,e,n,c,i,o,a,s)}return e}var l=new Ze(null);return r.foreach(function(t,e){var r=bt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),kn(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Le.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return xn(t,Ye(e,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered()),n,r,Sn,i)}(t,e,n.path,r,u)}var d=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Je(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe(Je(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,s=u.viewCache,Object(o.e)(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.e)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.e)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Un(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Un(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Ke(t,i,"child_removed",e,r,n),Ke(t,i,"child_added",e,r,n),Ke(t,i,"child_moved",o,r,n),Ke(t,i,"child_changed",e,r,n),Ke(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Vn=function(){return function(){this.views=new Map}}();function qn(t,e,n,r){var i,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.e)(null!=c,"SyncTree gave us an op for an invalid query."),Ln(c,e,n,r)}var l=[];try{for(var h=Object(s.g)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Ln(c=d.value,e,n,r))}catch(f){i={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function Bn(t,e,n,r,i){var o=e.queryIdentifier(),s=t.views.get(o);if(!s){var a=yn(n,i?r:null),u=!1;a?u=!0:r instanceof re?(a=vn(n,r),u=!1):(a=re.EMPTY_NODE,u=!1);var c=Qe(new We(a,u,!1),new We(r,i,!1));return new Nn(e,c)}return s}function Hn(t){var e,n,r=[];try{for(var i=Object(s.g)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query.getQueryParams().loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function zn(t,e){var n,r,i=null;try{for(var o=Object(s.g)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||Rn(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Wn(t,e){if(e.getQueryParams().loadsAllData())return Qn(t);var n=e.queryIdentifier();return t.views.get(n)}function Gn(t,e){return null!=Wn(t,e)}function Kn(t){return null!=Qn(t)}function Qn(t){var e,n;try{for(var r=Object(s.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query.getQueryParams().loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var $n=1,Yn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Jn(t,e,n,r,i){return function(t,e,n,r,i){Object(o.e)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=en(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?rr(t,new He({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Xn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&fn(u,r.path)?i=!1:Et(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=gn(t.allWrites,pn,ht()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=rn(t.visibleWrites,r.path):j(r.children,function(e){t.visibleWrites=rn(t.visibleWrites,bt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ze(null);return null!=r.snap?i=i.set(ht(),!0):j(r.children,function(t){i=i.set(new lt(t),!0)}),rr(t,new qe(r.path,i,n))}return[]}function Zn(t,e,n){return rr(t,new He({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function tr(t,e,n,r){var i=e.path,a=t.syncPointTree_.get(i),u=[];if(a&&("default"===e.queryIdentifier()||Gn(a,e))){var c=function(t,e,n,r){var i,a,u=e.queryIdentifier(),c=[],l=[],h=Kn(t);if("default"===u)try{for(var d=Object(s.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(s.e)(f.value,2),m=g[0];l=l.concat(Mn(p=g[1],n,r)),Fn(p)&&(t.views.delete(m),p.query.getQueryParams().loadsAllData()||c.push(p.query))}}catch(y){i={error:y}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(Mn(p,n,r)),Fn(p)&&(t.views.delete(u),p.query.getQueryParams().loadsAllData()||c.push(p.query)));return h&&!Kn(t)&&c.push(new(Object(o.e)(jn,"Reference.ts has not been loaded"),jn)(e.database,e.path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),d=t.syncPointTree_.findOnPath(i,function(t,e){return Kn(e)});if(h&&!d){var f=t.syncPointTree_.subtree(i);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Kn(e))return[Qn(e)];var r=[];return e&&(r=Hn(e)),j(n,function(t,e){r=r.concat(e)}),r})}(f),g=0;g<p.length;++g){var m=p[g],y=m.query,v=sr(t,m);t.listenProvider_.startListening(dr(y),ar(t,y),v.hashFn,v.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(dr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ur(e));t.listenProvider_.stopListening(dr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=ur(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function er(t,e,n){var r=e.path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=wt(t,r);i=i||zn(e,n),s=s||Kn(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Kn(u),i=i||zn(u,ht())):(u=new Vn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=re.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=zn(e,ht());n&&(i=i.updateImmediateChild(t,n))}));var c=Gn(u,e);if(!c&&!e.getQueryParams().loadsAllData()){var l=ur(e);Object(o.e)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=$n++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Bn(t,e,r,i,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,function(t,e){r.push(ge(t,e))}),n.isFullyInitialized()&&r.push(pe(n.getNode())),Un(t,r,n.getNode(),e)}(s,n)}(u,e,n,dn(t.pendingWriteTree_,r),i,a);if(!c&&!s){var f=Wn(u,e);d=d.concat(function(t,e,n){var r=e.path,i=ar(t,e),s=sr(t,n),a=t.listenProvider_.startListening(dr(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.e)(!Kn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!_t(t)&&e&&Kn(e))return[Qn(e).query];var r=[];return e&&(r=r.concat(Hn(e).map(function(t){return t.query}))),j(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(dr(h),ar(t,h))}return a}(t,e,f))}return d}function nr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=zn(n,wt(t,e));if(r)return r});return mn(r,e,i,n,!0)}function rr(t,e){return ir(e,t.syncPointTree_,null,dn(t.pendingWriteTree_,ht()))}function ir(t,e,n,r){if(_t(t.path))return or(t,e,n,r);var i=e.get(ht());null==n&&null!=i&&(n=zn(i,ht()));var o=[],s=dt(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=On(r,s);o=o.concat(ir(a,u,c,l))}return i&&(o=o.concat(qn(i,t,r,n))),o}function or(t,e,n,r){var i=e.get(ht());null==n&&null!=i&&(n=zn(i,ht()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=On(r,e),u=t.operationForChild(e);u&&(o=o.concat(or(u,i,s,a)))}),i&&(o=o.concat(qn(i,t,r,n))),o}function sr(t,e){var n=e.query,r=ar(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=cr(t,n);if(r){var i=lr(r),o=i.path,s=i.queryId,a=wt(o,e);return hr(t,o,new Be(Ue(s),a))}return[]}(t,n.path,r):function(t,e){return rr(t,new Be({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return tr(t,n,null,i)}}}function ar(t,e){var n=ur(e);return t.queryToTagMap.get(n)}function ur(t){return t.path.toString()+"$"+t.queryIdentifier()}function cr(t,e){return t.tagToQueryMap.get(e)}function lr(t){var e=t.indexOf("$");return Object(o.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new lt(t.substr(0,e))}}function hr(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.e)(r,"Missing sync point for query tag that we're tracking"),qn(r,n,dn(t.pendingWriteTree_,e),null)}function dr(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var fr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),pr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=bt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return nr(this.syncTree_,this.path_)},t}(),gr=function(t,e,n){return t&&"object"==typeof t?(Object(o.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?mr(t[".sv"],e,n):"object"==typeof t[".sv"]?yr(t[".sv"],e):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},mr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+t)}},yr=function(t,e,n){t.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.e)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},vr=function(t,e,n,r){return _r(e,new pr(n,t),r)},br=function(t,e,n){return _r(t,new fr(e),n)};function _r(t,e,n){var r,i=t.getPriority().val(),o=gr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=gr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Yt(a,oe(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Yt(o))),u.forEachChild(Jt,function(t,i){var o=_r(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var wr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function Or(t,e){for(var n=e instanceof lt?e:new lt(e),r=t,i=dt(n);null!==i;){var s=Object(o.E)(r.node.children,i)||{children:{},childCount:0};r=new wr(i,r,s),i=dt(n=pt(n))}return r}function Cr(t){return t.node.value}function Er(t,e){t.node.value=e,Ar(t)}function Sr(t){return t.node.childCount>0}function Tr(t,e){j(t.node.children,function(n,r){e(new wr(n,t,r))})}function xr(t,e,n,r){n&&!r&&e(t),Tr(t,function(t){xr(t,e,!0,r)}),n&&r&&e(t)}function Ir(t){return new lt(null===t.parent?t.name:Ir(t.parent)+"/"+t.name)}function Ar(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Cr(t)&&!Sr(t)}(n),i=Object(o.i)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ar(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ar(t))}(t.parent,t.name,t)}var Dr=/[\[\].#$\/\u0000-\u001F\u007F]/,Pr=/[\[\].#$\u0000-\u001F\u007F]/,kr=10485760,jr=function(t){return"string"==typeof t&&0!==t.length&&!Dr.test(t)},Nr=function(t){return"string"==typeof t&&0!==t.length&&!Pr.test(t)},Rr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.i)(t,".sv")},Fr=function(t,e,n,r,i){i&&void 0===n||Mr(Object(o.m)(t,e,i),n,r)},Mr=function(t,e,n){var r=n instanceof lt?new St(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+xt(r));if("function"==typeof e)throw new Error(t+"contains a function "+xt(r)+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+xt(r));if("string"==typeof e&&e.length>kr/3&&Object(o.F)(e)>kr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+xt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(j(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!jr(e)))throw new Error(t+" contains an invalid key ("+e+") "+xt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;u=e,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(u),a.byteLength_+=Object(o.F)(u),Tt(a),Mr(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.F)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+xt(r)+" in addition to actual children.")}},Lr=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.m)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];j(n,function(t,e){var n=new lt(t);if(Mr(s,e,bt(r,n)),".priority"===gt(n)&&!Rr(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=yt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!jr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ot);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Et(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},Ur=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.m)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rr(n))throw new Error(Object(o.m)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vr=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},qr=function(t,e,n,r){if(!(r&&void 0===n||jr(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Br=function(t,e,n,r){if(!(r&&void 0===n||Nr(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hr=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Br(t,e,n,r)},zr=function(t,e){if(".info"===dt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Wr=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!jr(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Nr(t)}(r))throw new Error(Object(o.m)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Gr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(t,e,r)+"must be a boolean.")},Kr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Qr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ct(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function $r(t,e,n){Qr(t,n),Jr(t,function(t){return Ct(t,e)})}function Yr(t,e,n){Qr(t,n),Jr(t,function(t){return Et(t,e)||Et(e,t)})}function Jr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Xr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&_("event: "+n.toString()),M(r)}}}var Zr="repo_interrupt",ti=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ke(),this.transactionQueueTree_=new wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function ei(t){var e=t.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ni(t){return(e=(e={timestamp:ei(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ri(t,e,n,r,i){t.dataUpdateCount++;var s=new lt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Object(o.C)(n,function(t){return oe(t)});a=function(t,e,n,r){var i=cr(t,r);if(i){var o=lr(i),s=o.path,a=o.queryId,u=wt(s,e),c=Ze.fromObject(n);return hr(t,s,new ze(Ue(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=oe(n);a=function(t,e,n,r){var i=cr(t,r);if(null!=i){var o=lr(i),s=o.path,a=o.queryId,u=wt(s,e);return hr(t,s,new He(Ue(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=Object(o.C)(n,function(t){return oe(t)});a=function(t,e,n){var r=Ze.fromObject(n);return rr(t,new ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=oe(n);a=Zn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=Oi(t,s)),Yr(t.eventQueue_,d,a)}function ii(t,e){oi(t,"connected",e),!1===e&&function(t){yi(t,"onDisconnectEvents");var e=ni(t),n=ke();Re(t.onDisconnect_,ht(),function(r,i){var o=vr(r,i,t.serverSyncTree_,e);je(n,r,o)});var r=[];Re(n,ht(),function(e,n){r=r.concat(Zn(t.serverSyncTree_,e,n));var i=xi(t,e);Oi(t,i)}),t.onDisconnect_=ke(),Yr(t.eventQueue_,ht(),r)}(t)}function oi(t,e,n){var r=new lt("/.info/"+e),i=oe(n);t.infoData_.updateSnapshot(r,i);var o=Zn(t.infoSyncTree_,r,i);Yr(t.eventQueue_,r,o)}function si(t){return t.nextWriteId_++}function ai(t,e,n,r,i){yi(t,"set",{path:e.toString(),value:n,priority:r});var o=ni(t),s=oe(n,r),a=nr(t.serverSyncTree_,e),u=br(s,a,o),c=si(t),l=Jn(t.serverSyncTree_,e,u,c,!0);Qr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||E("set at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,c,!o);Yr(t.eventQueue_,e,s),vi(0,i,n,r)});var h=xi(t,e);Oi(t,h),Yr(t.eventQueue_,h,[])}function ui(t,e,n,r){yi(t,"update",{path:e.toString(),value:n});var i=!0,s=ni(t),a={};if(j(n,function(n,r){i=!1,a[n]=vr(bt(e,n),oe(r),t.serverSyncTree_,s)}),i)_("update() called with empty data.  Don't do anything."),vi(0,r,"ok",void 0);else{var u=si(t),c=function(t,e,n,r){!function(t,e,n,r){Object(o.e)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=nn(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ze.fromObject(n);return rr(t,new ze({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,u);Qr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||E("update at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,u,!o),a=s.length>0?Oi(t,e):e;Yr(t.eventQueue_,a,s),vi(0,r,n,i)}),j(n,function(n){var r=xi(t,bt(e,n));Oi(t,r)}),Yr(t.eventQueue_,e,[])}}function ci(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Ne(t.onDisconnect_,e),vi(0,n,r,i)})}function li(t,e,n,r){var i=oe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&je(t.onDisconnect_,e,i),vi(0,r,n,o)})}function hi(t,e,n,r,i){var o=oe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&je(t.onDisconnect_,e,o),vi(0,i,n,r)})}function di(t,e,n,r){if(Object(o.t)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void vi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&j(n,function(n,r){var i=oe(r);je(t.onDisconnect_,bt(e,n),i)}),vi(0,r,i,o)})}function fi(t,e,n){var r;r=".info"===dt(e.path)?er(t.infoSyncTree_,e,n):er(t.serverSyncTree_,e,n),$r(t.eventQueue_,e.path,r)}function pi(t,e,n){var r;r=".info"===dt(e.path)?tr(t.infoSyncTree_,e,n):tr(t.serverSyncTree_,e,n),$r(t.eventQueue_,e.path,r)}function gi(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Zr)}function mi(t){t.persistentConnection_&&t.persistentConnection_.resume(Zr)}function yi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),_.apply(void 0,Object(s.f)([r],Object(s.e)(e)))}function vi(t,e,n,r){e&&M(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function bi(t,e,n,r,i,s){yi(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:p(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=_i(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Mr("transaction failed: Data returned ",c,a.path),a.status=0;var l=Or(t.transactionQueueTree_,e),h=Cr(l)||[];h.push(a),Er(l,h);var d=void 0;"object"==typeof c&&null!==c&&Object(o.i)(c,".priority")?(d=Object(o.E)(c,".priority"),Object(o.e)(Rr(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(nr(t.serverSyncTree_,e)||re.EMPTY_NODE).getPriority().val();var f=ni(t),g=oe(c,d),m=br(g,u,f);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=si(t);var y=Jn(t.serverSyncTree_,e,m,a.currentWriteId,a.applyLocally);Yr(t.eventQueue_,e,y),wi(t,t.transactionQueueTree_)}}function _i(t,e,n){return nr(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function wi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ti(t,e),Cr(e)){var n=Ei(t,e);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=_i(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=wt(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){yi(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Xn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(Ti(t,Or(t.transactionQueueTree_,e)),wi(t,t.transactionQueueTree_),Yr(t.eventQueue_,e,i),a=0;a<o.length;a++)M(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(E("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Oi(t,e)}},a)}(t,Ir(e),n)}else Sr(e)&&Tr(e,function(e){wi(t,e)})}function Oi(t,e){var n=Ci(t,e),r=Ir(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=wt(n,c.path),h=!1;if(Object(o.e)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else{var d=_i(t,c.path,s);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Mr("transaction failed: Data returned ",f,c.path);var p=oe(f);"object"==typeof f&&null!=f&&Object(o.i)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=c.currentWriteId,m=ni(t),y=br(p,d,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=si(t),s.splice(s.indexOf(g),1),i=(i=i.concat(Jn(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Xn(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0))}Yr(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(Ti(t,t.transactionQueueTree_),u=0;u<r.length;u++)M(r[u]);wi(t,t.transactionQueueTree_)}}(t,Ei(t,n),r),r}function Ci(t,e){var n,r=t.transactionQueueTree_;for(n=dt(e);null!==n&&void 0===Cr(r);)r=Or(r,n),n=dt(e=pt(e));return r}function Ei(t,e){var n=[];return Si(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function Si(t,e,n){var r=Cr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Tr(e,function(e){Si(t,e,n)})}function Ti(t,e){var n=Cr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Er(e,n.length>0?n:void 0)}Tr(e,function(e){Ti(t,e)})}function xi(t,e){var n=Ir(Ci(t,e)),r=Or(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){Ii(t,e)}),Ii(t,r),xr(r,function(e){Ii(t,e)}),n}function Ii(t,e){var n=Cr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.e)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.e)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Xn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Er(e,void 0):n.length=s+1,Yr(t.eventQueue_,Ir(e),i),a=0;a<r.length;a++)M(r[a])}}var Ai,Di=function(t,e){var n=Pi(t),r=n.namespace;return"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new z(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new lt(n.pathString)}},Pi=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(s.g)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},ki=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.I)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.I)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.I)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.I)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.I)("DataSnapshot.child",0,1,arguments.length),e=String(e),Br("DataSnapshot.child",1,e,!1);var n=new lt(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Jt)},t.prototype.hasChild=function(t){Object(o.I)("DataSnapshot.hasChild",1,1,arguments.length),Br("DataSnapshot.hasChild",1,t,!1);var e=new lt(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.I)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.I)("DataSnapshot.forEach",1,1,arguments.length),Object(o.J)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Jt))})},t.prototype.hasChildren=function(){return Object(o.I)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.I)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.I)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ji=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.I)("OnDisconnect.cancel",0,1,arguments.length),Object(o.J)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return ci(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.I)("OnDisconnect.remove",0,1,arguments.length),zr("OnDisconnect.remove",this.path_),Object(o.J)("OnDisconnect.remove",1,t,!0);var e=new o.a;return li(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.I)("OnDisconnect.set",1,2,arguments.length),zr("OnDisconnect.set",this.path_),Fr("OnDisconnect.set",1,t,this.path_,!1),Object(o.J)("OnDisconnect.set",2,e,!0);var n=new o.a;return li(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.I)("OnDisconnect.setWithPriority",2,3,arguments.length),zr("OnDisconnect.setWithPriority",this.path_),Fr("OnDisconnect.setWithPriority",1,t,this.path_,!1),Ur("OnDisconnect.setWithPriority",2,e,!1),Object(o.J)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return hi(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.I)("OnDisconnect.update",1,2,arguments.length),zr("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("OnDisconnect.update",1,t,this.path_,!1),Object(o.J)("OnDisconnect.update",2,e,!0);var i=new o.a;return di(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),Ni=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.H)(this.snapshot.exportVal())},t}(),Ri=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Fi=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ni("value",this,new ki(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Ri(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Mi=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.i)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Ri(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.e)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ni(t.type,this,new ki(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Li=function(){function t(t,e,n,r){this.database=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r,this.repo=t.repo_}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.e)(Ai,"Reference.ts has not been loaded"),Ai},set:function(t){Ai=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ft){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==x)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!Rr(e)||null!=n&&!Rr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(t.getIndex()instanceof ue||t.getIndex()===ce,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.I)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.database,this.path)},t.prototype.on=function(e,n,r,i){Object(o.I)("Query.on",2,4,arguments.length),Vr("Query.on",1,e,!1),Object(o.J)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Fi(t,e||null,n||null);fi(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Mi(t,e,n);fi(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(o.I)("Query.off",0,3,arguments.length),Vr("Query.off",1,t,!0),Object(o.J)("Query.off",2,e,!0),Object(o.K)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new Fi(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Mi(i,null,n||null));pi(this.repo,this,r)},t.prototype.get=function(){var t,e,n,r=this;return(t=this.repo,e=this,n=function(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=wt(t,n);r=r||zn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||zn(i,ht()):(i=new Vn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new We(r,!0,!1):null;return Je(Bn(i,e,dn(t.pendingWriteTree_,e.path),o?s.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e),null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=oe(n),i=Zn(t.serverSyncTree_,e.path,r);return $r(t.eventQueue_,e.path,i),Promise.resolve(r)},function(n){return yi(t,"get for query "+Object(o.H)(e)+" failed: "+n),Promise.reject(new Error(n))})).then(function(t){return new ki(t,r.getRef(),r.getQueryParams().getIndex())})},t.prototype.once=function(e,n,r,i){var s=this;Object(o.I)("Query.once",1,4,arguments.length),Vr("Query.once",1,e,!1),Object(o.J)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch(function(){});var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.I)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.database,this.path,Oe(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.I)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.database,this.path,Ce(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.I)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Br("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new lt(e);if(_t(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ue(n),i=Ie(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.database,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.I)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=Ie(this.queryParams_,Ft);return t.validateQueryEndpoints_(e),new t(this.database,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.I)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=Ie(this.queryParams_,Jt);return t.validateQueryEndpoints_(e),new t(this.database,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.I)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=Ie(this.queryParams_,ce);return t.validateQueryEndpoints_(e),new t(this.database,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.I)("Query.startAt",0,2,arguments.length),Fr("Query.startAt",1,e,this.path,!0),qr("Query.startAt",2,n,!0);var r=Ee(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.database,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.I)("Query.startAfter",0,2,arguments.length),Fr("Query.startAfter",1,e,this.path,!1),qr("Query.startAfter",2,n,!0);var r=Se(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.database,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.I)("Query.endAt",0,2,arguments.length),Fr("Query.endAt",1,e,this.path,!0),qr("Query.endAt",2,n,!0);var r=Te(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.database,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.I)("Query.endBefore",0,2,arguments.length),Fr("Query.endBefore",1,e,this.path,!1),qr("Query.endBefore",2,n,!0);var r=xe(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.database,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.I)("Query.equalTo",1,2,arguments.length),Fr("Query.equalTo",1,t,this.path,!1),qr("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.I)("Query.toString",0,0,arguments.length),this.repo.toString()+mt(this.path)},t.prototype.toJSON=function(){return Object(o.I)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=P(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.I)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=Ct(this.path,e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.J)(t,3,r.cancel,!0),r.context=n,Object(o.K)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.m)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ui=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.I)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Vi=function(t){function e(e,n){return t.call(this,e,n,new we,!1)||this}return Object(s.c)(e,t),e.prototype.getKey=function(){return Object(o.I)("Reference.key",0,0,arguments.length),_t(this.path)?null:gt(this.path)},e.prototype.child=function(t){return Object(o.I)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof lt||(null===dt(this.path)?Hr("Reference.child",1,t,!1):Br("Reference.child",1,t,!1)),new e(this.database,bt(this.path,t))},e.prototype.getParent=function(){Object(o.I)("Reference.parent",0,0,arguments.length);var t=vt(this.path);return null===t?null:new e(this.database,t)},e.prototype.getRoot=function(){Object(o.I)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.set=function(t,e){Object(o.I)("Reference.set",1,2,arguments.length),zr("Reference.set",this.path),Fr("Reference.set",1,t,this.path,!1),Object(o.J)("Reference.set",2,e,!0);var n=new o.a;return ai(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.I)("Reference.update",1,2,arguments.length),zr("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",1,t,this.path,!1),Object(o.J)("Reference.update",2,e,!0);var i=new o.a;return ui(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.I)("Reference.setWithPriority",2,3,arguments.length),zr("Reference.setWithPriority",this.path),Fr("Reference.setWithPriority",1,t,this.path,!1),Ur("Reference.setWithPriority",2,e,!1),Object(o.J)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return ai(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.I)("Reference.remove",0,1,arguments.length),zr("Reference.remove",this.path),Object(o.J)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,n,r){var i=this;if(Object(o.I)("Reference.transaction",1,3,arguments.length),zr("Reference.transaction",this.path),Object(o.J)("Reference.transaction",1,t,!1),Object(o.J)("Reference.transaction",2,n,!0),Gr("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var s=new o.a;"function"==typeof n&&s.promise.catch(function(){});var a=function(t,r,o){if(t)s.reject(t),"function"==typeof n&&n(t,r,null);else{var a=new ki(o,new e(i.database,i.path),Jt);s.resolve(new Ui(r,a)),"function"==typeof n&&n(null,r,a)}},u=function(){},c=new e(this.database,this.path);c.on("value",u);var l=function(){c.off("value",u)};return bi(this.repo,this.path,t,a,l,r),s.promise},e.prototype.setPriority=function(t,e){Object(o.I)("Reference.setPriority",1,2,arguments.length),zr("Reference.setPriority",this.path),Ur("Reference.setPriority",1,t,!1),Object(o.J)("Reference.setPriority",2,e,!0);var n=new o.a;return ai(this.repo,bt(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.I)("Reference.push",0,2,arguments.length),zr("Reference.push",this.path),Fr("Reference.push",1,t,this.path,!0),Object(o.J)("Reference.push",2,e,!0);var n,r=ei(this.repo),i=he(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),s},e.prototype.onDisconnect=function(){return zr("Reference.onDisconnect",this.path),new ji(this.repo,this.path)},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Li);Li.__referenceConstructor=Vi,function(t){Object(o.e)(!jn,"__referenceConstructor has already been defined"),jn=t}(Vi);var qi={},Bi=!1;function Hi(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=Di(i,r),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=Di(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):s=!a.repoInfo.secure;var l=r&&s?new V:new U(t,e);Wr("Invalid Firebase Database URL",1,a),_t(a.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n){var r=Object(o.E)(qi,e.name);r||(qi[e.name]=r={});var i=Object(o.E)(r,t.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ti(t,Bi,e,n),r[t.toURLString()]=i,i}(u,t,l);return new zi(h)}var zi=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(s.b)(e,void 0,void 0,function(){return Object(s.d)(this,function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(o.E)(qi,e.app.name))&&Object(o.E)(n,e.key)===e||C("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),gi(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof ti||C("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=$(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new De(t.repoInfo_,function(e,n,r,i){ri(t,e,n,r,i)},t.authTokenProvider_),setTimeout(function(){return ii(t,!0)},0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.H)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kt(t.repoInfo_,t.app.options.appId,function(e,n,r,i){ri(t,e,n,r,i)},function(e){ii(t,e)},function(e){!function(t,e){j(e,function(e,n){oi(t,e,n)})}(t,e)},t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(n=function(){return new Me(t.stats_,t.server_)},r=t.repoInfo_.toString(),Q[r]||(Q[r]=n()),Q[r]),t.infoData_=new Pe,t.infoSyncTree_=new Yn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=Zn(t.infoSyncTree_,e.path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),oi(t,"connected",!1),t.serverSyncTree_=new Yn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Yr(t.eventQueue_,e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Vi(this,ht())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?C("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new z(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new V)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.I)("database.ref",0,1,arguments.length),t instanceof Vi?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.I)(e,1,1,arguments.length);var n=Di(t,this.repo_.repoInfo_.nodeAdmin);Wr(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||C(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&C("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.I)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),gi(this.repo_)},t.prototype.goOnline=function(){Object(o.I)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),mi(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Wi=Object.freeze({__proto__:null,forceLongPolling:function(){it.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return it.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Fe(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);j(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;nt(t.version);var u=new i.c("auth-internal",new i.b("database-standalone"));return u.setComponent(new i.a("auth-internal",function(){return r},"PRIVATE")),{instance:Hi(e,u,n,a),namespace:o}}}),Gi=kt;kt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},kt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ki=Object.freeze({__proto__:null,DataConnection:Gi,RealTimeConnection:st,hijackHash:function(t){var e=kt.prototype.put;return kt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){kt.prototype.put=e}},ConnectionTarget:z,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){Bi=t}(t)}}),Qi=zi.ServerValue;!function(e){nt(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",function(t,e){var n=e.instanceIdentifier;return Hi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),n,void 0)},"PUBLIC").setServiceProps({Reference:Vi,Query:Li,Database:zi,DataSnapshot:ki,enableLogging:b,INTERNAL:Wi,ServerValue:Qi,TEST_ACCESS:Ki}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.7"),Object(o.x)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",function(){return tn}),n.d(e,"b",function(){return eu}),n.d(e,"c",function(){return Ya}),n.d(e,"d",function(){return Qa}),n.d(e,"e",function(){return $a}),n.d(e,"f",function(){return Qu}),n.d(e,"g",function(){return Lu}),n.d(e,"h",function(){return Zs}),n.d(e,"i",function(){return du}),n.d(e,"j",function(){return Cs}),n.d(e,"k",function(){return iu}),n.d(e,"l",function(){return xs}),n.d(e,"m",function(){return pr}),n.d(e,"n",function(){return Pa}),n.d(e,"o",function(){return Qi}),n.d(e,"p",function(){return wn}),n.d(e,"q",function(){return T}),n.d(e,"r",function(){return Ze}),n.d(e,"s",function(){return lo}),n.d(e,"t",function(){return Gs}),n.d(e,"u",function(){return Qs}),n.d(e,"v",function(){return ru}),n.d(e,"w",function(){return la}),n.d(e,"x",function(){return Vu}),n.d(e,"y",function(){return ca}),n.d(e,"z",function(){return ju}),n.d(e,"A",function(){return gu}),n.d(e,"B",function(){return On}),n.d(e,"C",function(){return tu}),n.d(e,"D",function(){return Za}),n.d(e,"E",function(){return Ds}),n.d(e,"F",function(){return As}),n.d(e,"G",function(){return vr}),n.d(e,"H",function(){return ks}),n.d(e,"I",function(){return cr}),n.d(e,"J",function(){return Cn}),n.d(e,"K",function(){return Hu}),n.d(e,"L",function(){return oa}),n.d(e,"M",function(){return Ou}),n.d(e,"N",function(){return en}),n.d(e,"O",function(){return Ns}),n.d(e,"P",function(){return js}),n.d(e,"Q",function(){return da}),n.d(e,"R",function(){return k}),n.d(e,"S",function(){return Nu}),n.d(e,"T",function(){return y}),n.d(e,"U",function(){return Pu}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return vn}),n.d(e,"X",function(){return Du}),n.d(e,"Y",function(){return Gu}),n.d(e,"Z",function(){return Su}),n.d(e,"ab",function(){return nu}),n.d(e,"bb",function(){return Yi}),n.d(e,"cb",function(){return cs}),n.d(e,"db",function(){return ar}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return jn}),n.d(e,"gb",function(){return Rn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return Mn}),n.d(e,"jb",function(){return Fn}),n.d(e,"kb",function(){return Ln}),n.d(e,"lb",function(){return os}),n.d(e,"mb",function(){return Wu}),n.d(e,"nb",function(){return ss}),n.d(e,"ob",function(){return as}),n.d(e,"pb",function(){return Nn}),n.d(e,"qb",function(){return M}),n.d(e,"rb",function(){return wo}),n.d(e,"sb",function(){return Fo}),n.d(e,"tb",function(){return No}),n.d(e,"ub",function(){return Ro}),n.d(e,"vb",function(){return is}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return kn}),n.d(e,"zb",function(){return fo}),n.d(e,"Ab",function(){return bt}),n.d(e,"Bb",function(){return _s}),n.d(e,"Cb",function(){return ti}),n.d(e,"Db",function(){return Eo}),n.d(e,"Eb",function(){return Go}),n.d(e,"Fb",function(){return za}),n.d(e,"Gb",function(){return Q}),n.d(e,"Hb",function(){return et}),n.d(e,"Ib",function(){return m}),n.d(e,"Jb",function(){return v}),n.d(e,"Kb",function(){return X}),n.d(e,"Lb",function(){return nt}),n.d(e,"Mb",function(){return xo}),n.d(e,"Nb",function(){return ko}),n.d(e,"Ob",function(){return Po}),n.d(e,"Pb",function(){return Do}),n.d(e,"Qb",function(){return jo}),n.d(e,"Rb",function(){return $e}),n.d(e,"Sb",function(){return ts}),n.d(e,"Tb",function(){return yn}),n.d(e,"Ub",function(){return Ye}),n.d(e,"Vb",function(){return Ka}),n.d(e,"Wb",function(){return Mo}),n.d(e,"Xb",function(){return Wa}),n.d(e,"Yb",function(){return Vo}),n.d(e,"Zb",function(){return Aa}),n.d(e,"ac",function(){return Da}),n.d(e,"bc",function(){return Io}),n.d(e,"cc",function(){return qo}),n.d(e,"dc",function(){return xa}),n.d(e,"ec",function(){return Ha}),n.d(e,"fc",function(){return Ht}),n.d(e,"gc",function(){return lr}),n.d(e,"hc",function(){return Z}),n.d(e,"ic",function(){return To}),n.d(e,"jc",function(){return Jo}),n.d(e,"kc",function(){return Xo}),n.d(e,"lc",function(){return Zo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const y=m;function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return _(t,O)||_(t,E)}function _(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(S))?t[C]:null}const O=u({"\u0275prov":u}),C=u({"\u0275inj":u}),E=u({ngInjectableDef:u}),S=u({ngInjectorDef:u});var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let x;function I(t){const e=x;return x=t,e}function A(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&T.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function D(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),k=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,M=j||F||N||R,L={},U=[],V=u({"\u0275cmp":u}),q=u({"\u0275dir":u}),B=u({"\u0275pipe":u}),H=u({"\u0275mod":u}),z=u({"\u0275loc":u}),W=u({"\u0275fac":u}),G=u({__NG_ELEMENT_ID__:u});let K=0;function Q(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||U,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||k.Emulated,id:"c",styles:t.styles||U,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map($):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Y):null,n})}function $(t){return rt(t)||function(t){return t[q]||null}(t)}function Y(t){return function(t){return t[B]||null}(t)}const J={};function X(t){const e={type:t.type,bootstrap:t.bootstrap||U,declarations:t.declarations||U,imports:t.imports||U,exports:t.exports||U,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{J[t.id]=t.type}),e}function Z(t,e){return D(()=>{const n=it(t,!0);n.declarations=e.declarations||U,n.imports=e.imports||U,n.exports=e.exports||U})}function tt(t,e){if(null==t)return L;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const et=Q;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[V]||null}function it(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ot=20,st=10;function at(t){return Array.isArray(t)&&"object"==typeof t[1]}function ut(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function dt(t){return null!==t.template}function ft(t,e){return t.hasOwnProperty(W)?t[W]:null}class pt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function gt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gt(t)}function yt(t,e){const n=e?` in ${e}`:"";throw new pt("201",`No provider for ${mt(t)} found${n}`)}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),wt}function wt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===L)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:L,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===L),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Et;function St(t){Et=t}function Tt(t){return!!t.listen}bt.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==Et?Et:"undefined"!=typeof document?document:void 0};function It(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return It(e[t])}function Dt(t,e){return It(e[t.index])}function Pt(t,e){return t.data[e]}function kt(t,e){const n=e[t];return at(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Nt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:se(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ut.bindingsEnabled}function qt(){return Ut.lFrame.lView}function Bt(){return Ut.lFrame.tView}function Ht(t){Ut.lFrame.contextLView=t}function zt(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Ut.lFrame.currentTNode}function Gt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Ut.lFrame.isParent}function Qt(){return Ut.isInCheckNoChangesMode}function $t(t){Ut.isInCheckNoChangesMode=t}function Yt(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return Ut.lFrame.bindingIndex++}function Xt(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zt(e)}function Zt(t){Ut.lFrame.currentDirectiveIndex=t}function te(){return Ut.lFrame.currentQueryIndex}function ee(t){Ut.lFrame.currentQueryIndex=t}function ne(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function re(t,e,n){if(n&T.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&T.Host||(r=ne(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function ie(t){const e=oe(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?se(t):e}function se(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ae(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ue=ae;function ce(){const t=ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Ut.lFrame.selectedIndex}function he(t){Ut.lFrame.selectedIndex=t}function de(){const t=Ut.lFrame;return Pt(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pe(t,e,n){ye(t,e,3,n)}function ge(t,e,n,r){(3&t[2])===n&&ye(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ye(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ve(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const be=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ce(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Se(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Te(t){return t!==be}function xe(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function De(t){const e=Ae;return Ae=t,e}let Pe=0;function ke(t,e){const n=Ne(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,je(r.data,t),je(e,null),je(r.blueprint,null));const i=Re(t,e),o=t.injectorIndex;if(Te(i)){const t=xe(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ne(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Re(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return be;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return be}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Me(t,e,n){if(n&T.Optional)return t;yt(e,"NodeInjector")}function Le(t,e,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const i=t[9],o=I(void 0);try{return i?i.get(e,r,n&T.Optional):A(e,r,n&T.Optional)}finally{I(o)}}return Me(r,e,n)}function Ue(t,e,n,r=T.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:qe:e}(n);if("function"==typeof o){if(!re(e,t,r))return r&T.Host?Me(i,n,r):Le(e,n,r,i);try{const t=o();if(null!=t||r&T.Optional)return t;yt(n)}finally{ue()}}else if("number"==typeof o){let i=null,s=Ne(t,e),a=be,u=r&T.Host?e[16][6]:null;for((-1===s||r&T.SkipSelf)&&(a=-1===s?Re(t,e):e[s+8],a!==be&&Ge(r,!1)?(i=e[1],s=xe(a),e=Ie(a,e)):s=-1);-1!==s;){const t=e[1];if(We(o,s,t.data)){const t=Be(s,e,n,i,r,u);if(t!==Ve)return t}a=e[s+8],a!==be&&Ge(r,e[1].data[s+8]===u)&&We(o,s,e)?(i=t,s=xe(a),e=Ie(a,e)):s=-1}}}return Le(e,n,r,i)}const Ve={};function qe(){return new Ke(zt(),qt())}function Be(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=He(a,s,n,null==r?lt(a)&&Ae:r!=s&&0!=(3&a.type),i&T.Host&&o===a);return null!==u?ze(e,s,u,a):Ve}function He(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&dt(t)&&t.type===n)return u}return null}function ze(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;s.resolving&&function(t,e){throw new pt("200",`Circular dependency in DI detected for ${t}`)}(mt(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?I(s.injectImpl):null;re(t,r,T.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&I(u),De(a),s.resolving=!1,ue()}}return i}function We(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ge(t,e){return!(t&T.Self||t&T.Host&&e)}class Ke{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ue(this._tNode,this._lView,t,void 0,e)}}function Qe(t){const e=t;if(g(t))return()=>{const t=Qe(p(e));return t?t():null};let n=ft(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function $e(t){return D(()=>{const e=t.prototype.constructor,n=e[W]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Je="__parameters__";function Xe(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=m({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tn=new Ze("AnalyzeForEntryComponents"),en=Function;function nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),nn(r,e)):e!==t&&e.push(r)}return e}function rn(t,e){t.forEach(t=>Array.isArray(t)?rn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function an(t,e,n){let r=cn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=cn(t,e);if(n>=0)return t[1|n]}function cn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ln={},hn=/\n/gm,dn="__source",fn=u({provide:String,useValue:u});let pn;function gn(t){const e=pn;return pn=t,e}function mn(t,e=T.Default){if(void 0===pn)throw new Error("inject() must be called from an injection context");return null===pn?A(t,void 0,e):pn.get(t,e&T.Optional?null:void 0,e)}function yn(t,e=T.Default){return(x||mn)(p(t),e)}const vn=yn;function bn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=T.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(yn(t,n))}else e.push(yn(r))}return e}function _n(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const wn=_n(Xe("Inject",t=>({token:t})),-1),On=_n(Xe("Optional"),8),Cn=_n(Xe("SkipSelf"),4);let En;function Sn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,M.trustedTypes))try{En=M.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class Tn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xn extends Tn{getTypeName(){return"HTML"}}class In extends Tn{getTypeName(){return"Style"}}class An extends Tn{getTypeName(){return"Script"}}class Dn extends Tn{getTypeName(){return"URL"}}class Pn extends Tn{getTypeName(){return"ResourceURL"}}function kn(t){return t instanceof Tn?t.changingThisBreaksApplicationSecurity:t}function jn(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof Tn&&t.getTypeName()||null}function Rn(t){return new xn(t)}function Fn(t){return new In(t)}function Mn(t){return new An(t)}function Ln(t){return new Dn(t)}function Un(t){return new Pn(t)}class Vn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Sn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Sn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Sn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Bn)||t.match(Hn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Wn("area,br,col,hr,img,wbr"),Qn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$n=Wn("rp,rt"),Yn=Gn($n,Qn),Jn=Gn(Kn,Gn(Qn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn($n,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Xn=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Wn("srcset"),tr=Gn(Xn,Zn,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Wn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!tr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Xn[o]&&(s=zn(s)),Zn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function ar(t,e){let n=null;try{sr=sr||function(t){const e=new qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Sn(""),"text/html")}catch(t){return!1}}()?new Vn(e):e}(t);let r=e?String(e):"";n=sr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==o);return Sn((new nr).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":jn(t,"URL")?kn(t):zn(gt(t))}function hr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class pr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||fr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}function gr(t,e){t.__ngContext__=e}const mr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function yr(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function br(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return ut(e)?e[3]:e}function wr(t){return Cr(t[13])}function Or(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!ut(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let o,s=!1;ut(r)?o=r:at(r)&&(s=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Pr(e,n,a):Dr(e,n,a,i||null,!0):1===t&&null!==n?Dr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=jr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==It(n)&&Er(e,t,r,o,i);for(let s=st;s<n.length;s++){const i=n[s];Lr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Sr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Tr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Tr(o,r),e>0&&(t[n-1][4]=r[4]);const s=sn(t,st+e);Lr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ir(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(at(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)at(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),at(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):It(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ut(e[3])){n!==e[3]&&Tr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Pr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function kr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Pr(t,e,n)}function jr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===k.None||e===k.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)kr(o,i,n[a],s,!1);else kr(o,i,n,s,!1)}function Rr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Fr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Rr(t,n);{const n=t[e.index];return ut(n)?Fr(-1,n):It(n)}}if(32&n)return br(e,t)()||It(t[e.index]);{const n=t[16],r=n[6],i=_r(n),o=r.projection[e.projection];return null!=o?Rr(i,o):Rr(t,e.next)}}return null}function Fr(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Rr(t,r)}return e[7]}function Mr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&gr(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Mr(t,e,n.child,r,i,o,!1),Er(e,t,i,a,o);else if(32&u){const s=br(n,r);let u;for(;u=s();)Er(e,t,i,u,o);Er(e,t,i,a,o)}else 16&u?Ur(t,e,r,n,i,o):Er(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lr(t,e,n,r,i,o){Mr(n,r,t.firstChild,e,i,o,!1)}function Ur(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Er(e,t,i,a[u],o);else Mr(t,e,a,s[3],i,o,!0)}function Vr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Br(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Hr="ng-template";function zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Br(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Wr(t){return 4===t.type&&t.value!==Hr}function Gr(t,e,n){return e===(4!==t.type||n?t.value:Hr)}function Kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Gr(t,u,n)||""===u&&1===e.length){if(Qr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!zr(t.attrs,c,n)){if(Qr(r))return!1;s=!0}continue}const l=$r(8&r?"class":u,i,Wr(t),n);if(-1===l){if(Qr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Br(e,c,0)||2&r&&c!==t){if(Qr(r))return!1;s=!0}}}}else{if(!s&&!Qr(r)&&!Qr(u))return!1;if(s&&Qr(u))continue;s=!1,r=u|1&r}}return Qr(r)||s}function Qr(t){return 0==(1&t)}function $r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Yr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Kr(t,e[r],n))return!0;return!1}function Jr(t,e){return t?":not("+e.trim()+")":e}function Xr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Qr(s)||(e+=Jr(o,i),i=""),r=s,o=o||!Qr(r);n++}return""!==i&&(e+=Jr(o,i)),e}const Zr={};function ti(t){ei(Bt(),qt(),le()+t,Qt())}function ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ge(e,r,0,n)}he(n)}function ni(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ii(t){return 2|t}function oi(t){return(131068&t)>>2}function si(t,e){return-131069&t|e<<2}function ai(t){return 1|t}function ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ee(i),n.contentQueries(2,e[o],o)}}}function ci(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function li(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Wt(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Gt(o,!0),o}function hi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function di(t,e,n){ie(e);try{const r=t.viewQuery;null!==r&&qi(1,r,n);const i=t.template;null!==i&&gi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ui(t,e),t.staticViewQueries&&qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ce()}}function fi(t,e,n,r){const i=e[2];if(256==(256&i))return;ie(e);const o=Qt();try{Mt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&gi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ge(e,n,0,null),me(e,0)}if(function(t){for(let e=wr(t);null!==e;e=Or(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=Or(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&fi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&pe(e,n)}else{const n=t.contentHooks;null!==n&&ge(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)he(~r);else{const i=r,o=n[++t],s=n[++t];Xt(o,i),s(2,e[i])}}}finally{he(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ni(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&qi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&pe(e,n)}else{const n=t.viewHooks;null!==n&&ge(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{ce()}}function pi(t,e,n,r){const i=e[10],o=!Qt(),s=Nt(e);try{o&&!s&&i.begin&&i.begin(),s&&di(t,e,r),fi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function gi(t,e,n,r,i){const o=le();try{he(-1),2&r&&e.length>ot&&ei(t,e,ot,Qt()),n(r,i)}finally{he(o)}}function mi(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ke(n,e),gr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=dt(r);o&&Di(e,n,r);const u=ze(e,t,a,n);gr(u,e),null!==s&&Pi(0,a-i,u,r,0,s),o&&(kt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{he(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Zt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Si(r,i)}}finally{he(-1),Zt(s)}}(t,e,n))}function yi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bi(t,e,n,r,i,o,s,a,u,c){const l=ot+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zr);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function _i(t,e,n,r){const i=Hi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&zi(t).push(r,i.length-1))}function wi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oi(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Gi(t,n,c,r,i),lt(e)&&function(t,e){const n=kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):Ce(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ci(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Yr(n,s.selectors,!1)&&(i||(i=[]),Fe(ke(n,e),t,s.type),dt(s)?(Ti(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ii(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=hi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ee(n.mergedAttrs,c.hostAttrs),Ai(t,n,e,u,c),xi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Wr(e)?null:ki(n,i);o.push(c),s=wi(n,u,s),a=wi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new pt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),i}function Ei(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Si(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ti(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function xi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;dt(e)&&(n[""]=t)}}function Ii(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ai(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ft(i.type)),s=new _e(o,dt(i),null);t.blueprint[r]=s,n[r]=s,Ei(t,e,0,r,hi(t,n,i.hostVars,Zr),i)}function Di(t,e,n){const r=Dt(e,t),i=vi(n),o=t[10],s=Mi(t,ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ni(t,e){const n=kt(e,t);if(Rt(n)){const t=n[1];80&n[2]?fi(t,n,t.template,n[8]):n[5]>0&&Ri(n)}}function Ri(t){for(let n=wr(t);null!==n;n=Or(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];fi(t,e,t.template,e[8])}else e[5]>0&&Ri(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=kt(e[n],t);Rt(r)&&r[5]>0&&Ri(r)}}function Fi(t,e){const n=kt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Li(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ui(t,e,n){const r=e[10];r.begin&&r.begin();try{fi(t,e,t.template,n)}catch(i){throw Wi(e,i),i}finally{r.end&&r.end()}}function Vi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];pi(i,r,i.template,n)}}(t[8])}function qi(t,e,n){ee(0),e(t,n)}const Bi=(()=>Promise.resolve(null))();function Hi(t){return t[7]||(t[7]=[])}function zi(t){return t.cleanup||(t.cleanup=[])}function Wi(t,e){const n=t[9],r=n?n.get(pr,null):null;r&&r.handleError(e)}function Gi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ki(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Qi=new Ze("INJECTOR",-1);class $i{get(t,e=ln){if(e===ln){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Yi=new Ze("Set Injector scope."),Ji={},Xi={},Zi=[];let to;function eo(){return void 0===to&&(to=new $i),to}function no(t,e=null,n=null,r){return new ro(t,n,e||eo(),r)}class ro{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&rn(e,n=>this.processProvider(n,t,e)),rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Qi,so(void 0,this));const o=this.records.get(Yi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ln,n=T.Default){this.assertNotDestroyed();const r=gn(this);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ze)&&b(t);e=n&&this.injectableDefInScope(n)?so(io(t),Ji):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?eo():this.parent).get(t,e=n&T.Optional&&e===ln?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[dn]&&i.unshift(e[dn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{gn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];rn(r,t=>this.processProvider(t,n,r||Zi))}}this.injectorDefTypes.add(o),this.records.set(o,so(r.factory,Ji));const a=r.providers;if(null!=a&&!s){const e=t;rn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=uo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ao(t)?so(void 0,t.useValue):so(oo(t),Ji)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=so(void 0,Ji,!0),e.factory=()=>bn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ji&&(e.value=Xi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function io(t){const e=b(t),n=null!==e?e.factory:ft(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof Ze)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[E]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function oo(t,e,n){let r;if(uo(t)){const e=p(t);return ft(e)||io(e)}if(ao(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...bn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ft(e)||io(e);r=()=>new e(...bn(t.deps))}var i;return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ao(t){return null!==t&&"object"==typeof t&&fn in t}function uo(t){return"function"==typeof t}const co=function(t,e,n){return function(t,e=null,n=null,r){const i=no(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let lo=(()=>{class t{static create(t,e){return Array.isArray(t)?co(t,e,""):co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ln,t.NULL=new $i,t.\u0275prov=m({token:t,providedIn:"any",factory:()=>yn(Qi)}),t.__NG_ELEMENT_ID__=-1,t})();function ho(t,e){fe(jt(t)[1],zt())}function fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(dt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=po(t.inputs),e.declaredInputs=po(t.declaredInputs),e.outputs=po(t.outputs);const n=i.hostBindings;n&&yo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&go(t,o),s&&mo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),dt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ee(i.hostAttrs,n=Ee(n,i.hostAttrs))}}(r)}function po(t){return t===L?{}:t===U?[]:t}function go(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function mo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let vo=null;function bo(){if(!vo){const t=M.Symbol;if(t&&t.iterator)vo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vo=n)}}}return vo}class _o{constructor(t){this.wrapped=t}static wrap(t){return new _o(t)}static unwrap(t){return _o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof _o}}function wo(t){return!!Oo(t)&&(Array.isArray(t)||!(t instanceof Map)&&bo()in t)}function Oo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){const i=qt();return Co(i,Jt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?gt(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(de(),i,t,e,n,r)),Eo}function So(t,e,n,r){return Co(t,Jt(),n)?e+gt(n)+r:Zr}function To(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+ot,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=li(e,t,4,s||null,Ft(c,a));Ci(e,n,l,Ft(c,u)),fe(e,l);const h=l.tViews=bi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gt(h,!1);const d=u[11].createComment("");Nr(c,u,d,h),gr(d,u),Mi(u,u[l]=ji(d,u,d,h)),ht(h)&&mi(c,u,h),null!=s&&yi(u,h,a)}function xo(t,e=T.Default){const n=qt();return null===n?yn(t,e):Ue(zt(),n,p(t),e)}function Io(t,e,n){const r=qt();return Co(r,Jt(),e)&&Oi(Bt(),de(),r,t,e,r[11],n,!1),Io}function Ao(t,e,n,r,i){const o=i?"class":"style";Gi(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=qt(),o=Bt(),s=ot+t,a=i[11],u=i[s]=Sr(a,e,Ut.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=li(e,t,2,i,Ft(a,o));return Ci(e,n,u,Ft(a,s)),null!==u.attrs&&Ki(u,u.attrs,!1),null!==u.mergedAttrs&&Ki(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Gt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&qr(a,u,h);const d=c.styles;null!==d&&Vr(a,u,d),64!=(64&c.flags)&&Nr(o,i,u,c),0===Ut.lFrame.elementDepthCount&&gr(u,i),Ut.lFrame.elementDepthCount++,ht(c)&&(mi(o,i,c),function(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function Po(){let t=zt();Kt()?Ut.lFrame.isParent=!1:(t=t.parent,Gt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(fe(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ao(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ao(n,e,qt(),e.stylesWithoutHost,!1)}function ko(t,e,n,r){Do(t,e,n,r),Po()}function jo(){return qt()}function No(t){return!!t&&"function"==typeof t.then}function Ro(t){return!!t&&"function"==typeof t.subscribe}const Fo=Ro;function Mo(t,e,n=!1,r){const i=qt(),o=Bt(),s=zt();return function(t,e,n,r,i,o,s=!1,a){const u=ht(r),c=t.firstCreatePass&&zi(t),l=Hi(e);let h=!0;if(3&r.type){const d=Dt(r,e),f=a?a(d):L,p=f.target||d,g=l.length,m=a?t=>a(It(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Uo(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Uo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Uo(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Mo}function Lo(t,e,n){try{return!1!==e(n)}catch(r){return Wi(t,r),!1}}function Uo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?kt(t.index,e):e;0==(32&e[2])&&Li(s);let a=Lo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Lo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vo(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function qo(t,e,n){return Bo(t,"",e,"",n),qo}function Bo(t,e,n,r,i){const o=qt(),s=So(o,e,n,r);return s!==Zr&&Oi(Bt(),de(),o,t,s,o[11],i,!1),Bo}const Ho=[];function zo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ri(o):oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Wo(t[a],e)&&(u=!0,t[a+1]=r?ai(n):ii(n)),a=r?ri(n):oi(n)}u&&(t[n+1]=r?ii(o):ai(o))}function Wo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cn(t,e)>=0}function Go(t,e){return function(t,e,n,r){const i=qt(),o=Bt(),s=function(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[le()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Qo(n=Ko(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ko(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==oi(r))return t[ri(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ko(null,t,e,n[1],r),n=Qo(n,e.attrs,r),function(t,e,n,r){t[ri(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Qo(r,t[o].hostAttrs,true);return Qo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ri(s),u=oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||cn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ri(t[a+1]);t[r+1]=ni(e,a),0!==e&&(t[e+1]=si(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ni(a,0),0!==a&&(t[a+1]=si(t[a+1],r)),a=r;else t[r+1]=ni(u,0),0===a?a=r:t[u+1]=si(t[u+1],r),u=r;l&&(t[r+1]=ii(t[r+1])),zo(t,c,r,!0),zo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&cn(o,e)>=0&&(n[r+1]=ai(n[r+1]))}(e,c,t,r),s=ni(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Zr&&Co(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Yo(1==(1&c)?$o(u,e,n,i,oi(c),s):void 0)||(Yo(o)||function(t){return 2==(2&t)}(c)&&(o=$o(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,At(le(),n),i,o))}(o,o.data[le()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(kn(t))),t}(e),true,s)}(t,e),Go}function Ko(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Qo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Qo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,s,!!n||e[++o]))}return void 0===t?null:t}function $o(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Zr&&(l=c?Ho:void 0);let h=c?un(l,r):u===r?l:void 0;if(o&&!Yo(h)&&(h=un(e,r)),Yo(h)&&(a=h,s))return a;const d=t[i+1];i=s?ri(d):oi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function Yo(t){return void 0!==t}function Jo(t,e=""){const n=qt(),r=Bt(),i=t+ot,o=r.firstCreatePass?li(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Gt(o,!1)}function Xo(t){return Zo("",t,""),Xo}function Zo(t,e,n){const r=qt(),i=So(r,t,e,n);return i!==Zr&&function(t,e,n){const r=At(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,le(),i),Zo}function ts(t,e,n){const r=qt();return Co(r,Jt(),e)&&Oi(Bt(),de(),r,t,e,r[11],n,!0),ts}const es=void 0;var ns=["en",[["a","p"],["AM","PM"],es],[["AM","PM"],es,es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",es,"{1} 'at' {0}",es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let rs={};function is(t,e,n){"string"!=typeof e&&(n=e,e=t[cs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),rs[e]=t,n&&(rs[e][cs.ExtraData]=n)}function os(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=us(e);if(n)return n;const r=e.split("-")[0];if(n=us(r),n)return n;if("en"===r)return ns;throw new Error(`Missing locale data for the locale "${t}".`)}function ss(t){return os(t)[cs.CurrencyCode]||null}function as(t){return os(t)[cs.PluralCase]}function us(t){return t in rs||(rs[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),rs[t]}var cs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ls="en-US";let hs=ls;function ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(hs=t.toLowerCase().replace(/_/g,"-"))}function fs(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)fs(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=uo(t)?t:p(t.provide),u=oo(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(uo(t)||!t.multi){const r=new _e(u,i,xo),f=ms(a,e,i?l:l+d,h);-1===f?(Fe(ke(c,s),o,a),ps(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ms(a,e,l+d,h),p=ms(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Fe(ke(c,s),o,a);const l=function(t,e,n,r,i){const o=new _e(t,n,xo);return o.multi=[],o.index=e,o.componentProviders=0,gs(o,i,r&&!n),o}(i?vs:ys,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ps(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ps(o,t,f>-1?f:p,gs(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ps(t,e,n,r){const i=uo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function gs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ys(t,e,n,r){return bs(this.multi,[])}function vs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),bs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],bs(i,o);return o}function bs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=dt(t);fs(n,r.data,r.blueprint,i,!0),fs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ws{}class Os{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Cs=(()=>{class t{}return t.NULL=new Os,t})();function Es(...t){}function Ss(t,e){return new xs(Dt(t,e))}const Ts=function(){return Ss(zt(),qt())};let xs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ts,t})();function Is(t){return t instanceof xs?t.nativeElement:t}class As{}let Ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=qt(),e=kt(zt().index,t);return function(t){return t[11]}(at(e)?e:t)};let ks=(()=>{class t{}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>null}),t})();class js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ns=new js("11.1.2");class Rs{constructor(){}supports(t){return wo(t)}create(t){return new Ms(t)}}const Fs=(t,e)=>e;class Ms{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qs(n,r,i)?e:n,s=qs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[bo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ls(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Vs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ls{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Vs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bs{constructor(){}supports(t){return t instanceof Map||Oo(t)}create(){return new Hs}}class Hs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Oo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new zs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class zs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ws(){return new Gs([new Rs])}let Gs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ws()),deps:[[t,new Cn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=m({token:t,providedIn:"root",factory:Ws}),t})();function Ks(){return new Qs([new Bs])}let Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ks()),deps:[[t,new Cn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=m({token:t,providedIn:"root",factory:Ks}),t})();function $s(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(It(o)),ut(o))for(let t=st;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&$s(e[1],e,n,r)}const s=n.type;if(8&s)$s(t,e,n.child,r);else if(32&s){const t=br(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=_r(t);$s(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ys{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $s(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ut(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),sn(e,n))}this._attachedToViewContainer=!1}Ir(this._lView[1],this._lView)}onDestroy(t){_i(this._lView[1],this._lView,null,t)}markForCheck(){Li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ui(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$t(!0);try{Ui(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Js extends Ys{constructor(t){super(t),this._view=t}detectChanges(){Vi(this._view)}checkNoChanges(){!function(t){$t(!0);try{Vi(t)}finally{$t(!1)}}(this._view)}get context(){return null}}const Xs=ta;let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xs,t.__ChangeDetectorRef__=!0,t})();function ta(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=kt(t.index,e);return new Ys(n,n)}return 47&t.type?new Ys(e[16],e):null}(zt(),qt(),t)}const ea=[new Bs],na=new Gs([new Rs]),ra=new Qs(ea),ia=function(){return ua(zt(),qt())};let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ia,t})();const sa=oa,aa=class extends sa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),di(e,n,t),new Ys(n)}};function ua(t,e){return 4&t.type?new aa(e,t,Ss(t,e)):null}class ca{}class la{}const ha=function(){return ya(zt(),qt())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t})();const fa=da,pa=class extends fa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new Ke(this._hostTNode,this._hostLView)}get parentInjector(){const t=Re(this._hostTNode,this._hostLView);if(Te(t)){const e=Ie(t,this._hostLView),n=xe(t);return new Ke(e[1].data[n+8],e)}return new Ke(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ga(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ca,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new pa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=st+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-st?(e[4]=n[i],on(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Fr(i,o),a=n[11],u=jr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Lr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),on(ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ga(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(sn(ma(this._lContainer),e),Ir(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=sn(ma(this._lContainer),e)?new Ys(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ga(t){return t[8]}function ma(t){return t[8]||(t[8]=[])}function ya(t,e){let n;const r=e[t.index];if(ut(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Dr(n,jr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Mi(e,n)}return new pa(n,t,e)}const va={};class ba extends Cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new Oa(e,this.ngModule)}}function _a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const wa=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mr});class Oa extends ws{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Xr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _a(this.componentDef.inputs)}get outputs(){return _a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,va,i);return o!==va||r===va?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(As,xt),s=i.get(ks,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===k.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Sr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:mr,clean:Bi,playerHandler:null,flags:0},d=bi(0,null,null,1,0,null,null,null,null,null),f=ci(null,d,h,l,null,null,o,a,s,i);let p,g;ie(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=li(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ki(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&qr(i,t,a.classes),null!==a.styles&&Vr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ci(n,vi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Fe(ke(a,n),s,e.type),Ti(s,a),Ii(a,n.length,1)),Mi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)we(a,c,["ng-version",Ns.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Qr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&qr(a,c,e.join(" "))}if(g=Pt(d,ot),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ai(t,r,e,hi(t,e,1,null),n));const i=ze(e,t,r.directiveStart,r);gr(i,e);const o=Dt(r,e);return o&&gr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(he(a.index),Ei(n[1],a,0,a.directiveStart,a.directiveEnd,e),Si(e,s)),s}(t,this.componentDef,f,h,[ho]),di(d,f,null)}finally{ce()}return new Ca(this.componentType,p,Ss(g,f),f,g)}}class Ca extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Js(r),this.componentType=t}get injector(){return new Ke(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ea=new Map;class Sa extends ca{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ba(this);const n=it(t),r=t[z]||null;r&&ds(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=no(t,e,[{provide:ca,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=lo.THROW_IF_NOT_FOUND,n=T.Default){return t===lo||t===ca||t===Qi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ta extends la{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const r=it(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Ea.get(i),n),Ea.set(i,n));const o=yr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Sa(this.moduleType,t)}}function xa(t,e,n,r){return Ia(qt(),Yt(),t,e,n,r)}function Ia(t,e,n,r,i,o){const s=e+n;return Co(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Zr?void 0:n}(t,s+1)}function Aa(t,e){const n=Bt();let r;const i=t+ot;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new pt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ft(r.type)),s=I(xo);try{const t=De(!1),e=o();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{I(s)}}function Da(t,e,n){const r=t+ot,i=qt(),o=function(t,e){return t[e]}(i,r);return function(t,e){return _o.isWrapped(e)&&(e=_o.unwrap(e),t[Ut.lFrame.bindingIndex]=Zr),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Ia(i,Yt(),e,o.transform,n,o):o.transform(n))}const Pa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function ka(){return this._results[bo()]()}class ja{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bo(),n=ja.prototype;n[e]||(n[e]=ka)}get changes(){return this._changes||(this._changes=new Pa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Na{constructor(t){this.queryList=t,this.matches=null}clone(){return new Na(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ra{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ra(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ga(t,e).matches&&this.queries[e].setDirty()}}class Fa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ma{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ma(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class La{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new La(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ua(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===oa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===xs||r===da||r===oa&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ua(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Va(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ss(t,e):4&t.type?ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===xs?Ss(e,t):n===oa?ua(e,t):n===da?ya(e,t):void 0}(t,e,r):ze(t,t[1],n,e)}function qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Va(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ba(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=qa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=st;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ba(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ba(n[1],n,i,r)}}}}}return r}function Ha(t){const e=qt(),n=Bt(),r=te();ee(r+1);const i=Ga(n,r);if(t.dirty&&Nt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ba(n,e,r,[]):qa(n,e,i,r);t.reset(o,Is),t.notifyOnChanges()}return!0}return!1}function za(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=zt();(function(t,e,n){null===t.queries&&(t.queries=new Ma),t.queries.track(new La(e,n))})(i,new Fa(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new ja(4==(4&n));_i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ra),e[19].queries.push(new Na(r))}(i,qt(),n)}function Wa(){return t=qt(),e=te(),t[19].queries[e].queryList;var t,e}function Ga(t,e){return t.queries.getByIndex(e)}function Ka(t=T.Default){const e=ta(!0);if(null!=e||t&T.Optional)return e;yt("ChangeDetectorRef")}const Qa=new Ze("Application Initializer");let $a=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Es,this.reject=Es,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();No(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yn(Qa,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const Ya=new Ze("AppId"),Ja={provide:Ya,useFactory:function(){return`${Xa()}${Xa()}${Xa()}`},deps:[]};function Xa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Za=new Ze("Platform Initializer"),tu=new Ze("Platform ID"),eu=new Ze("appBootstrapListener");let nu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const ru=new Ze("LocaleId"),iu=new Ze("DefaultCurrencyCode");class ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const su=function(t){return new Ta(t)},au=su,uu=function(t){return Promise.resolve(su(t))},cu=function(t){const e=su(t),n=yr(it(t).declarations).reduce((t,e)=>{const n=rt(e);return n&&t.push(new Oa(n)),t},[]);return new ou(e,n)},lu=cu,hu=function(t){return Promise.resolve(cu(t))};let du=(()=>{class t{constructor(){this.compileModuleSync=au,this.compileModuleAsync=uu,this.compileModuleAndAllComponentsSync=lu,this.compileModuleAndAllComponentsAsync=hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const fu=(()=>Promise.resolve(0))();function pu(t){"undefined"==typeof Zone?fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pa(!1),this.onMicrotaskEmpty=new Pa(!1),this.onStable=new Pa(!1),this.onError=new Pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),yu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return bu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),_u(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return bu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_u(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mu,Es,Es);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _u(t){t._nesting--,yu(t)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pa,this.onMicrotaskEmpty=new Pa,this.onStable=new Pa,this.onError=new Pa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ou=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yn(gu))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})(),Cu=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();class Eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Su(t){xu=t}let Tu,xu=new Eu,Iu=!0,Au=!1;function Du(){return Au=!0,Iu}function Pu(){if(Au)throw new Error("Cannot enable prod mode after platform setup.");Iu=!1}const ku=new Ze("AllowMultipleToken");class ju{constructor(t,e){this.name=t,this.token=e}}function Nu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ze(r);return(e=[])=>{let o=Ru();if(!o||o.injector.get(ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Yi,useValue:"platform"});!function(t){if(Tu&&!Tu.destroyed&&!Tu.injector.get(ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tu=t.get(Fu);const e=t.get(Za,null);e&&e.forEach(t=>t())}(lo.create({providers:t,name:r}))}return function(t){const e=Ru();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ru(){return Tu&&!Tu.destroyed?Tu:null}let Fu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wu:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:Du(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:gu,useValue:n}];return n.run(()=>{const e=lo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(pr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Uu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return No(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get($a);return t.runInitializers(),t.donePromise.then(()=>(ds(i.injector.get(ru,ls)||ls),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Mu({},e);return function(t,e,n){const r=new Ta(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Lu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yn(lo))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){return Array.isArray(e)?e.reduce(Mu,t):Object.assign(Object.assign({},t),e)}let Lu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ws?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ca),i=n.create(lo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ou,null),a=s&&i.injector.get(Cu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Uu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Du()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Uu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yn(gu),yn(nu),yn(lo),yn(pr),yn(Cs),yn($a))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Uu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vu{}class qu{}const Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Bu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yn(du),yn(qu,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Wu=function(t){return null},Gu=Nu(null,"core",[{provide:tu,useValue:"unknown"},{provide:Fu,deps:[lo]},{provide:Cu,deps:[]},{provide:nu,deps:[]}]),Ku=[{provide:Lu,useClass:Lu,deps:[gu,nu,lo,pr,Cs,$a]},{provide:wa,deps:[gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$a,useClass:$a,deps:[[new On,Qa]]},{provide:du,useClass:du,deps:[]},Ja,{provide:Gs,useFactory:function(){return na},deps:[]},{provide:Qs,useFactory:function(){return ra},deps:[]},{provide:ru,useFactory:function(t){return ds(t=t||"undefined"!=typeof $localize&&$localize.locale||ls),t},deps:[[new wn(ru),new On,new Cn]]},{provide:iu,useValue:"USD"}];let Qu=(()=>{class t{constructor(t){}}return t.\u0275mod=X({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(yn(Lu))},providers:Ku}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SjWa:function(t,e,n){self,t.exports=(()=>{"use strict";var t={311:(t,e,n)=>{n.r(e),n.d(e,{default:()=>pt});var r={};function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(r),n.d(r,{CREATED:()=>H,DESTROYED:()=>K,IDLE:()=>W,MOUNTED:()=>z,MOVING:()=>G});var o=Object.keys;function s(t,e){o(t).some(function(n,r){return e(t[n],n,r)})}function a(t){return o(t).map(function(e){return t[e]})}function u(t){return"object"==typeof t}function c(t,e){var n=i({},t);return s(e,function(t,e){u(t)?(u(n[e])||(n[e]={}),n[e]=c(n[e],t)):n[e]=t}),n}function l(t){return Array.isArray(t)?t:[t]}function h(t,e,n){return Math.min(Math.max(t,e>n?n:e),e>n?e:n)}function d(t,e){var n=0;return t.replace(/%s/g,function(){return l(e)[n++]})}function f(t){var e=typeof t;return"number"===e&&t>0?parseFloat(t)+"px":"string"===e?t:""}function p(t){return t<10?"0"+t:t}function g(t,e){if("string"==typeof e){var n=b("div",{});E(n,{position:"absolute",width:e}),O(t,n),e=n.clientWidth,w(n)}return+e||0}function m(t,e){return t?t.querySelector(e.split(" ")[0]):null}function y(t,e){return v(t,e)[0]}function v(t,e){return t?a(t.children).filter(function(t){return I(t,e.split(" ")[0])||t.tagName===e}):[]}function b(t,e){var n=document.createElement(t);return s(e,function(t,e){return A(n,e,t)}),n}function _(t){var e=b("div",{});return e.innerHTML=t,e.firstChild}function w(t){l(t).forEach(function(t){if(t){var e=t.parentElement;e&&e.removeChild(t)}})}function O(t,e){t&&t.appendChild(e)}function C(t,e){if(t&&e){var n=e.parentElement;n&&n.insertBefore(t,e)}}function E(t,e){t&&s(e,function(e,n){null!==e&&(t.style[n]=e)})}function S(t,e,n){t&&l(e).forEach(function(e){e&&t.classList[n?"remove":"add"](e)})}function T(t,e){S(t,e,!1)}function x(t,e){S(t,e,!0)}function I(t,e){return!!t&&t.classList.contains(e)}function A(t,e,n){t&&t.setAttribute(e,n)}function D(t,e){return t?t.getAttribute(e):""}function P(t,e){l(e).forEach(function(e){l(t).forEach(function(t){return t&&t.removeAttribute(e)})})}function k(t){return t.getBoundingClientRect()}var j="slide",N="loop",R="fade";const F=function(t,e){var n,r;return{mount:function(){t.on("transitionend",function(t){t.target===n&&r&&r()},n=e.Elements.list)},start:function(i,o,s,a,u){var c=t.options,l=e.Controller.edgeIndex,h=c.speed;r=u,t.is(j)&&(0===s&&o>=l||s>=l&&0===o)&&(h=c.rewindSpeed||h),E(n,{transition:"transform "+h+"ms "+c.easing,transform:"translate("+a.x+"px,"+a.y+"px)"})}}},M=function(t,e){function n(n){var r=t.options;E(e.Elements.slides[n],{transition:"opacity "+r.speed+"ms "+r.easing})}return{mount:function(){n(t.index)},start:function(t,r,i,o,s){var a=e.Elements.track;E(a,{height:f(a.clientHeight)}),n(r),setTimeout(function(){s(),E(a,{height:""})})}}};function L(t){console.error("[SPLIDE] "+t)}function U(t,e){if(!t)throw new Error(e)}var V="splide",q={active:"is-active",visible:"is-visible",loading:"is-loading"},B={type:"slide",rewind:!1,speed:400,rewindSpeed:0,waitForTransition:!0,width:0,height:0,fixedWidth:0,fixedHeight:0,heightRatio:0,autoWidth:!1,autoHeight:!1,perPage:1,perMove:0,clones:0,start:0,focus:!1,gap:0,padding:0,arrows:!0,arrowPath:"",pagination:!0,autoplay:!1,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,lazyLoad:!1,preloadPages:1,easing:"cubic-bezier(.42,.65,.27,.99)",keyboard:"global",drag:!0,dragAngleThreshold:30,swipeDistanceThreshold:150,flickVelocityThreshold:.6,flickPower:600,flickMaxPages:1,direction:"ltr",cover:!1,accessibility:!0,slideFocus:!0,isNavigation:!1,trimSpace:!0,updateOnMove:!1,throttle:100,destroy:!1,breakpoints:!1,classes:{root:V,slider:V+"__slider",track:V+"__track",list:V+"__list",slide:V+"__slide",container:V+"__slide__container",arrows:V+"__arrows",arrow:V+"__arrow",prev:V+"__arrow--prev",next:V+"__arrow--next",pagination:V+"__pagination",page:V+"__pagination__page",clone:V+"__slide--clone",progress:V+"__progress",bar:V+"__progress__bar",autoplay:V+"__autoplay",play:V+"__play",pause:V+"__pause",spinner:V+"__spinner",sr:V+"__sr"},i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}},H=1,z=2,W=3,G=4,K=5;var Q="rtl",$="ttb",Y="update.slide",J=Math.floor,X=Math.abs;function Z(t,e){var n;return function(){n||(n=setTimeout(function(){t(),n=null},e))}}var tt=Math.abs,et="move.page",nt="updated.page refresh.page",rt="data-splide-lazy-srcset",it="aria-current",ot="aria-controls",st="aria-label",at="aria-hidden",ut="tabindex",ct={ltr:{ArrowLeft:"<",ArrowRight:">",Left:"<",Right:">"},rtl:{ArrowLeft:">",ArrowRight:"<",Left:">",Right:"<"},ttb:{ArrowUp:"<",ArrowDown:">",Up:"<",Down:">"}},lt="move.sync",ht="mouseup touchend",dt=[" ","Enter","Spacebar"],ft={Options:function(t){var e=D(t.root,"data-splide");if(e)try{t.options=JSON.parse(e)}catch(n){L(n.message)}return{mount:function(){t.State.is(H)&&(t.index=t.options.start)}}},Breakpoints:function(t){var e,n,r=t.options.breakpoints,i=Z(s,50),o=[];function s(){var i,s=(i=o.filter(function(t){return t.mql.matches})[0])?i.point:-1;if(s!==n){n=s;var a=t.State,u=r[s]||e,c=u.destroy;c?(t.options=e,t.destroy("completely"===c)):(a.is(K)&&t.mount(),t.options=u)}}return{required:r&&matchMedia,mount:function(){o=Object.keys(r).sort(function(t,e){return+t-+e}).map(function(t){return{point:t,mql:matchMedia("(max-width:"+t+"px)")}}),this.destroy(!0),addEventListener("resize",i),e=t.options,s()},destroy:function(t){t&&removeEventListener("resize",i)}}},Controller:function(t,e){var n,r,i={mount:function(){n=t.options,r=t.is(N),t.on("move",function(e){t.index=e}).on("updated refresh",function(e){n=e||n,t.index=h(t.index,0,i.edgeIndex)})},go:function(t,n){var r=this.trim(this.parse(t));e.Track.go(r,this.rewind(r),n)},parse:function(e){var r=t.index,o=String(e).match(/([+\-<>]+)(\d+)?/),s=o?o[1]:"",a=o?parseInt(o[2]):0;switch(s){case"+":r+=a||1;break;case"-":r-=a||1;break;case">":case"<":r=function(t,e,r){if(t>-1)return i.toIndex(t);var o=n.perMove,s=r?-1:1;return o?e+o*s:i.toIndex(i.toPage(e)+s)}(a,r,"<"===s);break;default:r=parseInt(e)}return r},toIndex:function(e){if(o())return e;var r=t.length,i=n.perPage,s=e*i;return r-i<=(s-=(this.pageLength*i-r)*J(s/r))&&s<r&&(s=r-i),s},toPage:function(e){if(o())return e;var r=t.length,i=n.perPage;return J(r-i<=e&&e<r?(r-1)/i:e/i)},trim:function(t){return r||(t=n.rewind?this.rewind(t):h(t,0,this.edgeIndex)),t},rewind:function(t){var e=this.edgeIndex;if(r){for(;t>e;)t-=e+1;for(;t<0;)t+=e+1}else t>e?t=0:t<0&&(t=e);return t},isRtl:function(){return n.direction===Q},get pageLength(){var e=t.length;return o()?e:Math.ceil(e/n.perPage)},get edgeIndex(){var e=t.length;return e?o()||n.isNavigation||r?e-1:e-n.perPage:0},get prevIndex(){var e=t.index-1;return(r||n.rewind)&&(e=this.rewind(e)),e>-1?e:-1},get nextIndex(){var e=t.index+1;return(r||n.rewind)&&(e=this.rewind(e)),t.index<e&&e<=this.edgeIndex||0===e?e:-1}};function o(){return!1!==n.focus}return i},Elements:function(t,e){var n=t.root,r=t.classes,i=[];if(!n.id){window.splide=window.splide||{};var o=window.splide.uid||0;window.splide.uid=++o,n.id="splide"+p(o)}var u={mount:function(){var e=this;this.init(),t.on("refresh",function(){e.destroy(),e.init()}).on("updated",function(){x(n,c()),T(n,c())})},destroy:function(){i.forEach(function(t){t.destroy()}),i=[],x(n,c())},init:function(){var t=this;!function(){u.slider=y(n,r.slider),u.track=m(n,"."+r.track),u.list=y(u.track,r.list),U(u.track&&u.list,"Track or list was not found."),u.slides=v(u.list,r.slide);var t=l(r.arrows);u.arrows={prev:m(t,"."+r.prev),next:m(t,"."+r.next)};var e=l(r.autoplay);u.bar=m(l(r.progress),"."+r.bar),u.play=m(e,"."+r.play),u.pause=m(e,"."+r.pause),u.track.id=u.track.id||n.id+"-track",u.list.id=u.list.id||n.id+"-list"}(),T(n,c()),this.slides.forEach(function(e,n){t.register(e,n,-1)})},register:function(e,n,r){var o=function(t,e,n,r){var i=t.options.updateOnMove,o="ready.slide updated.slide resized.slide moved.slide"+(i?" move.slide":""),s={slide:r,index:e,realIndex:n,container:y(r,t.classes.container),isClone:n>-1,mount:function(){var s=this;this.isClone||(r.id=t.root.id+"-slide"+p(e+1)),t.on(o,function(){return s.update()}).on(Y,c).on("click",function(){return t.emit("click",s)},r),i&&t.on("move.slide",function(t){t===n&&u(!0,!1)}),E(r,{display:""}),this.styles=D(r,"style")||""},destroy:function(){t.off(o).off(Y).off("click",r),x(r,a(q)),c(),P(this.container,"style")},update:function(){u(this.isActive(),!1),u(this.isVisible(),!0)},isActive:function(){return t.index===e},isVisible:function(){var e=this.isActive();if(t.is(R)||e)return e;var n=Math.ceil,i=k(t.Components.Elements.track),o=k(r);return t.options.direction===$?i.top<=o.top&&o.bottom<=n(i.bottom):i.left<=o.left&&o.right<=n(i.right)},isWithin:function(n,r){var i=Math.abs(n-e);return t.is(j)||this.isClone||(i=Math.min(i,t.length-i)),i<r}};function u(e,n){var i=n?"visible":"active",o=q[i];e?(T(r,o),t.emit(""+i,s)):I(r,o)&&(x(r,o),t.emit(n?"hidden":"inactive",s))}function c(){A(r,"style",s.styles)}return s}(t,n,r,e);o.mount(),i.push(o)},getSlide:function(t){return i.filter(function(e){return e.index===t})[0]},getSlides:function(t){return t?i:i.filter(function(t){return!t.isClone})},getSlidesByPage:function(n){var r=e.Controller.toIndex(n),o=t.options,s=!1!==o.focus?1:o.perPage;return i.filter(function(t){var e=t.index;return r<=e&&e<r+s})},add:function(t,e,n){if("string"==typeof t&&(t=_(t)),t instanceof Element){var r=this.slides[e];E(t,{display:"none"}),r?(C(t,r),this.slides.splice(e,0,t)):(O(this.list,t),this.slides.push(t)),function(t,e){var n=t.querySelectorAll("img"),r=n.length;if(r){var i=0;s(n,function(t){t.onload=t.onerror=function(){++i===r&&e()}})}else e()}(t,function(){n&&n(t)})}},remove:function(t){w(this.slides.splice(t,1)[0])},each:function(t){i.forEach(t)},get length(){return this.slides.length},get total(){return i.length}};function c(){var e=r.root,n=t.options;return[e+"--"+n.type,e+"--"+n.direction,n.drag?e+"--draggable":"",n.isNavigation?e+"--nav":"",q.active]}function l(t){return y(n,t)||y(u.slider,t)}return u},Track:function(t,e){var n,r,i,o=t.options.direction===$,s=t.is(R),a=t.options.direction===Q,u=!1,c=a?1:-1,l={sign:c,mount:function(){n=e.Layout,i=(r=e.Elements).list},mounted:function(){var e=this;s||(this.jump(0),t.on("mounted resize updated",function(){e.jump(t.index)}))},go:function(n,r,i){var o=f(n),a=t.index;t.State.is(G)&&u||(u=n!==r,i||t.emit("move",r,a,n),Math.abs(o-this.position)>=1||s?e.Transition.start(n,r,a,this.toCoord(o),function(){d(n,r,a,i)}):n!==a&&"move"===t.options.trimSpace?e.Controller.go(n+n-a,i):d(n,r,a,i))},jump:function(t){this.translate(f(t))},translate:function(t){E(i,{transform:"translate"+(o?"Y":"X")+"("+t+"px)"})},cancel:function(){t.is(N)?this.shift():this.translate(this.position),E(i,{transition:""})},shift:function(){var e=X(this.position),n=X(this.toPosition(0)),r=X(this.toPosition(t.length)),i=r-n;e<n?e+=i:e>r&&(e-=i),this.translate(c*e)},trim:function(e){return!t.options.trimSpace||t.is(N)?e:h(e,c*(n.totalSize()-n.size-n.gap),0)},toIndex:function(t){var e=this,n=0,i=1/0;return r.getSlides(!0).forEach(function(r){var o=r.index,s=X(e.toPosition(o)-t);s<i&&(i=s,n=o)}),n},toCoord:function(t){return{x:o?0:t,y:o?t:0}},toPosition:function(t){var e=n.totalSize(t)-n.slideSize(t)-n.gap;return c*(e+this.offset(t))},offset:function(e){var r=t.options.focus,i=n.slideSize(e);return"center"===r?-(n.size-i)/2:-(parseInt(r)||0)*(i+n.gap)},get position(){var t=o?"top":a?"right":"left";return k(i)[t]-(k(r.track)[t]-n.padding[t]*c)}};function d(e,n,r,o){E(i,{transition:""}),u=!1,s||l.jump(n),o||t.emit("moved",n,r,e)}function f(t){return l.trim(l.toPosition(t))}return l},Clones:function(t,e){var n=[],r=0,i=e.Elements,o={mount:function(){var e=this;t.is(N)&&(s(),t.on("refresh:before",function(){e.destroy()}).on("refresh",s).on("resize",function(){r!==a()&&(e.destroy(),t.refresh())}))},destroy:function(){w(n),n=[]},get clones(){return n},get length(){return n.length}};function s(){o.destroy(),function(t){var e=i.length,r=i.register;if(e){for(var o=i.slides;o.length<t;)o=o.concat(o);o.slice(0,t).forEach(function(t,o){var s=u(t);O(i.list,s),n.push(s),r(s,o+e,o%e)}),o.slice(-t).forEach(function(i,s){var a=u(i);C(a,o[0]),n.push(a),r(a,s-t,(e+s-t%e)%e)})}}(r=a())}function a(){var e=t.options;if(e.clones)return e.clones;var n=e.autoWidth||e.autoHeight?i.length:e.perPage,r=e.direction===$?"Height":"Width",o=g(t.root,e["fixed"+r]);return o&&(n=Math.ceil(i.track["client"+r]/o)),n*(e.drag?e.flickMaxPages+1:1)}function u(e){var n=e.cloneNode(!0);return T(n,t.classes.clone),P(n,"id"),n}return o},Layout:function(t,e){var n,r,i=e.Elements,s=t.options.direction===$,a=(n={mount:function(){t.on("resize load",Z(function(){t.emit("resize")},t.options.throttle),window).on("resize",c).on("updated refresh",u),u(),this.totalSize=s?this.totalHeight:this.totalWidth,this.slideSize=s?this.slideHeight:this.slideWidth},destroy:function(){P([i.list,i.track],"style")},get size(){return s?this.height:this.width}},r=s?function(t,e){var n,r,i=e.Elements,o=t.root;return{margin:"marginBottom",init:function(){this.resize()},resize:function(){n=i.track,this.gap=g(o,(r=t.options).gap);var e=r.padding,s=g(o,e.top||e),a=g(o,e.bottom||e);this.padding={top:s,bottom:a},E(n,{paddingTop:f(s),paddingBottom:f(a)})},totalHeight:function(e){void 0===e&&(e=t.length-1);var n=i.getSlide(e);return n?k(n.slide).bottom-k(i.list).top+this.gap:0},slideWidth:function(){return g(o,r.fixedWidth||this.width)},slideHeight:function(t){if(r.autoHeight){var e=i.getSlide(t);return e?e.slide.offsetHeight:0}return g(o,r.fixedHeight||(this.height+this.gap)/r.perPage-this.gap)},get width(){return n.clientWidth},get height(){var t=r.height||this.width*r.heightRatio;return U(t,'"height" or "heightRatio" is missing.'),g(o,t)-this.padding.top-this.padding.bottom}}}(t,e):function(t,e){var n,r=e.Elements,i=t.root,o=t.options;return{margin:"margin"+(o.direction===Q?"Left":"Right"),height:0,init:function(){this.resize()},resize:function(){n=r.track,this.gap=g(i,(o=t.options).gap);var e=o.padding,s=g(i,e.left||e),a=g(i,e.right||e);this.padding={left:s,right:a},E(n,{paddingLeft:f(s),paddingRight:f(a)})},totalWidth:function(e){void 0===e&&(e=t.length-1);var n=r.getSlide(e),i=0;if(n){var s=k(n.slide),a=k(r.list);i=o.direction===Q?a.right-s.left:s.right-a.left,i+=this.gap}return i},slideWidth:function(t){if(o.autoWidth){var e=r.getSlide(t);return e?e.slide.offsetWidth:0}return g(i,o.fixedWidth||(this.width+this.gap)/o.perPage-this.gap)},slideHeight:function(){return g(i,o.height||o.fixedHeight||this.width*o.heightRatio)},get width(){return n.clientWidth-this.padding.left-this.padding.right}}}(t,e),o(r).forEach(function(t){n[t]||Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}),n);function u(){a.init(),E(t.root,{maxWidth:f(t.options.width)}),i.each(function(t){t.slide.style[a.margin]=f(a.gap)}),c()}function c(){var e=t.options;a.resize(),E(i.track,{height:f(a.height)});var n=e.autoHeight?null:f(a.slideHeight());i.each(function(t){E(t.container,{height:n}),E(t.slide,{width:e.autoWidth?null:f(a.slideWidth(t.index)),height:t.container?null:n})}),t.emit("resized")}return a},Drag:function(t,e){var n,r,i,o,a=e.Track,u=e.Controller,c=t.options.direction===$,l=c?"y":"x",d={disabled:!1,mount:function(){var n=this,r=e.Elements,i=r.track;t.on("touchstart mousedown",f,i).on("touchmove mousemove",g,i,{passive:!1}).on("touchend touchcancel mouseleave mouseup dragend",m,i).on("mounted refresh",function(){s(r.list.querySelectorAll("img, a"),function(e){t.off("dragstart",e).on("dragstart",function(t){t.preventDefault()},e,{passive:!1})})}).on("mounted updated",function(){n.disabled=!t.options.drag})}};function f(t){d.disabled||o||p(t)}function p(t){n=a.toCoord(a.position),r=y(t,{}),i=r}function g(e){r&&(i=y(e,r),o?(e.cancelable&&e.preventDefault(),t.is(R)||a.translate(function(e){if(t.is(j)){var n=a.sign,r=n*a.trim(a.toPosition(0)),i=n*a.trim(a.toPosition(u.edgeIndex));(e*=n)<r?e=r-7*Math.log(r-e):e>i&&(e=i+7*Math.log(e-i)),e*=n}return e}(n[l]+i.offset[l]))):function(e){var n=e.offset;if(t.State.is(G)&&t.options.waitForTransition)return!1;var r=180*Math.atan(tt(n.y)/tt(n.x))/Math.PI;return c&&(r=90-r),r<t.options.dragAngleThreshold}(i)&&(t.emit("drag",r),o=!0,a.cancel(),p(e)))}function m(){r=null,o&&(t.emit("dragged",i),function(n){var r=n.velocity[l],i=tt(r);if(i>0){var o=t.options,s=t.index,c=r<0?-1:1,d=s;if(!t.is(R)){var f=a.position;i>o.flickVelocityThreshold&&tt(n.offset[l])<o.swipeDistanceThreshold&&(f+=c*Math.min(i*o.flickPower,e.Layout.size*(o.flickMaxPages||1))),d=a.toIndex(f)}d===s&&i>.1&&(d=s+c*a.sign),t.is(j)&&(d=h(d,0,u.edgeIndex)),u.go(d,o.isNavigation)}}(i),o=!1)}function y(t,e){var n=t.timeStamp,r=t.touches,i=r?r[0]:t,o=i.clientX,s=i.clientY,a=e.to||{},u=a.x,c=a.y,l={x:o-(void 0===u?o:u),y:s-(void 0===c?s:c)},h=n-(e.time||0);return{to:{x:o,y:s},offset:l,time:n,velocity:{x:l.x/h,y:l.y/h}}}return d},Click:function(t,e){var n=!1;function r(t){n&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}return{required:t.options.drag,mount:function(){t.on("click",r,e.Elements.track,{capture:!0}).on("drag",function(){n=!0}).on("dragged",function(){setTimeout(function(){n=!1})})}}},Autoplay:function(t,e,n){var r,i=[],o=e.Elements,s={required:t.options.autoplay,mount:function(){var e=t.options;o.slides.length>e.perPage&&(r=function(e,n,r){var i,o,s,a=window.requestAnimationFrame,u=!0,c=function e(c){u||(i||(i=c,s&&s<1&&(i-=s*n)),s=(o=c-i)/n,o>=n&&(i=0,s=1,t.go(">")),r&&r(s),a(e))};return{pause:function(){u=!0,i=0},play:function(t){i=0,t&&(s=0),u&&(u=!1,a(c))}}}(0,e.interval,function(e){t.emit(n+":playing",e),o.bar&&E(o.bar,{width:100*e+"%"})}),function(){var e=t.options,n=t.sibling,r=[t.root,n?n.root:null];e.pauseOnHover&&(a(r,"mouseleave",1,!0),a(r,"mouseenter",1,!1)),e.pauseOnFocus&&(a(r,"focusout",2,!0),a(r,"focusin",2,!1)),o.play&&t.on("click",function(){s.play(2),s.play(3)},o.play),o.pause&&a([o.pause],"click",3,!1),t.on("move refresh",function(){s.play()}).on("destroy",function(){s.pause()})}(),this.play())},play:function(e){void 0===e&&(e=0),(i=i.filter(function(t){return t!==e})).length||(t.emit(n+":play"),r.play(t.options.resetProgress))},pause:function(e){void 0===e&&(e=0),r.pause(),-1===i.indexOf(e)&&i.push(e),1===i.length&&t.emit(n+":pause")}};function a(e,n,r,i){e.forEach(function(e){t.on(n,function(){s[i?"play":"pause"](r)},e)})}return s},Cover:function(t,e){function n(t){e.Elements.each(function(e){var n=y(e.slide,"IMG")||y(e.container,"IMG");n&&n.src&&r(n,t)})}function r(t,e){E(t.parentElement,{background:e?"":'center/cover no-repeat url("'+t.src+'")'}),E(t,{display:e?"":"none"})}return{required:t.options.cover,mount:function(){t.on("lazyload:loaded",function(t){r(t,!1)}),t.on("mounted updated refresh",function(){return n(!1)})},destroy:function(){n(!0)}}},Arrows:function(t,e,n){var r,i,o,s=t.classes,a=t.root,u=e.Elements;function c(){var o=e.Controller,s=o.prevIndex,a=o.nextIndex,u=t.length>t.options.perPage||t.is(N);r.disabled=s<0||!u,i.disabled=a<0||!u,t.emit(n+":updated",r,i,s,a)}function l(e){return _('<button class="'+s.arrow+" "+(e?s.prev:s.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg"\tviewBox="0 0 40 40"\twidth="40"\theight="40"><path d="'+(t.options.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}return{required:t.options.arrows,mount:function(){i=u.arrows.next,(r=u.arrows.prev)&&i||!t.options.arrows||(r=l(!0),i=l(!1),o=!0,function(){var e=b("div",{class:s.arrows});O(e,r),O(e,i);var n=u.slider;C(e,("slider"===t.options.arrows&&n?n:a).firstElementChild)}()),r&&i&&t.on("click",function(){t.go("<")},r).on("click",function(){t.go(">")},i).on("mounted move updated refresh",c),this.arrows={prev:r,next:i}},mounted:function(){t.emit(n+":mounted",r,i)},destroy:function(){P([r,i],"disabled"),o&&w(r.parentElement)}}},Pagination:function(t,e,n){var r={},i=e.Elements,o={mount:function(){var e,n,a,u,c=t.options.pagination;if(c){e=t.options,a=b("ul",{class:(n=t.classes).pagination}),u=i.getSlides(!1).filter(function(t){return!1!==e.focus||t.index%e.perPage==0}).map(function(e,r){var o=b("li",{}),s=b("button",{class:n.page,type:"button"});return O(o,s),O(a,o),t.on("click",function(){t.go(">"+r)},s),{li:o,button:s,page:r,Slides:i.getSlidesByPage(r)}});var l=i.slider;O("slider"===c&&l?l:t.root,(r={list:a,items:u}).list),t.on(et,s)}t.off(nt).on(nt,function(){o.destroy(),t.options.pagination&&(o.mount(),o.mounted())})},mounted:function(){if(t.options.pagination){var e=t.index;t.emit(n+":mounted",r,this.getItem(e)),s(e,-1)}},destroy:function(){w(r.list),r.items&&r.items.forEach(function(e){t.off("click",e.button)}),t.off(et),r={}},getItem:function(t){return r.items[e.Controller.toPage(t)]},get data(){return r}};function s(e,i){var s=o.getItem(i),a=o.getItem(e),u=q.active;s&&x(s.button,u),a&&T(a.button,u),t.emit(n+":updated",r,s,a)}return o},LazyLoad:function(t,e,n){var r,i,o=t.options,a="sequential"===o.lazyLoad;function u(){i=[],r=0}function c(e){e=isNaN(e)?t.index:e,(i=i.filter(function(t){return!t.Slide.isWithin(e,o.perPage*(o.preloadPages+1))||(l(t.img,t.Slide),!1)}))[0]||t.off("moved."+n)}function l(e,n){T(n.slide,q.loading);var r=b("span",{class:t.classes.spinner});O(e.parentElement,r),e.onload=function(){d(e,r,n,!1)},e.onerror=function(){d(e,r,n,!0)},A(e,"srcset",D(e,rt)||""),A(e,"src",D(e,"data-splide-lazy")||"")}function h(){if(r<i.length){var t=i[r];l(t.img,t.Slide)}r++}function d(e,r,i,o){x(i.slide,q.loading),o||(w(r),E(e,{display:""}),t.emit(n+":loaded",e).emit("resize")),a&&h()}return{required:o.lazyLoad,mount:function(){t.on("mounted refresh",function(){u(),e.Elements.each(function(t){s(t.slide.querySelectorAll("[data-splide-lazy], ["+rt+"]"),function(e){e.src||e.srcset||(i.push({img:e,Slide:t}),E(e,{display:"none"}))})}),a&&h()}),a||t.on("mounted refresh moved."+n,c)},destroy:u}},Keyboard:function(t){var e;return{mount:function(){t.on("mounted updated",function(){var n=t.options,r=t.root,i=ct[n.direction],o=n.keyboard;e&&(t.off("keydown",e),P(r,ut)),o&&("focused"===o?(e=r,A(r,ut,0)):e=document,t.on("keydown",function(e){i[e.key]&&t.go(i[e.key])},e))})}}},Sync:function(t){var e=t.sibling,n=e&&e.options.isNavigation;function r(){t.on(lt,function(t,n,r){e.off(lt).go(e.is(N)?r:t,!1),i()})}function i(){e.on(lt,function(e,n,i){t.off(lt).go(t.is(N)?i:e,!1),r()})}function o(){e.Components.Elements.each(function(e){var n=e.slide,r=e.index;t.off(ht,n).on(ht,function(t){t.button&&0!==t.button||s(r)},n),t.off("keyup",n).on("keyup",function(t){dt.indexOf(t.key)>-1&&(t.preventDefault(),s(r))},n,{passive:!1})})}function s(n){t.State.is(W)&&e.go(n)}return{required:!!e,mount:function(){r(),i(),n&&(o(),t.on("refresh",function(){setTimeout(function(){o(),e.emit("navigation:updated",t)})}))},mounted:function(){n&&e.emit("navigation:mounted",t)}}},A11y:function(t,e){var n=t.i18n,r=e.Elements,i=[at,ut,ot,st,it,"role"];function o(e,n){A(e,at,!n),t.options.slideFocus&&A(e,ut,n?0:-1)}function s(t,e){var n=r.track.id;A(t,ot,n),A(e,ot,n)}function a(e,r,i,o){var s=t.index,a=o>-1&&s>o?n.first:n.next;A(e,st,i>-1&&s<i?n.last:n.prev),A(r,st,a)}function u(e,r){r&&A(r.button,it,!0),e.items.forEach(function(e){var r=t.options,i=d(!1===r.focus&&r.perPage>1?n.pageX:n.slideX,e.page+1),o=e.button,s=e.Slides.map(function(t){return t.slide.id});A(o,ot,s.join(" ")),A(o,st,i)})}function c(t,e,n){e&&P(e.button,it),n&&A(n.button,it,!0)}function l(t){r.each(function(e){var r=e.slide,i=e.realIndex;f(r)||A(r,"role","button");var o=i>-1?i:e.index,s=d(n.slideX,o+1),a=t.Components.Elements.getSlide(o);A(r,st,s),a&&A(r,ot,a.slide.id)})}function h(t,e){var n=t.slide;e?A(n,it,!0):P(n,it)}function f(t){return"BUTTON"===t.tagName}return{required:t.options.accessibility,mount:function(){t.on("visible",function(t){o(t.slide,!0)}).on("hidden",function(t){o(t.slide,!1)}).on("arrows:mounted",s).on("arrows:updated",a).on("pagination:mounted",u).on("pagination:updated",c).on("refresh",function(){P(e.Clones.clones,i)}),t.options.isNavigation&&t.on("navigation:mounted navigation:updated",l).on("active",function(t){h(t,!0)}).on("inactive",function(t){h(t,!1)}),["play","pause"].forEach(function(t){var e=r[t];e&&(f(e)||A(e,"role","button"),A(e,ot,r.track.id),A(e,st,n[t]))})},destroy:function(){var t=e.Arrows,n=t?t.arrows:{};P(r.slides.concat([n.prev,n.next,r.play,r.pause]),i)}}}},pt=function(t){var e,n;function r(e,n){return t.call(this,e,n,ft)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(function(){function t(t,e,n){var i;void 0===e&&(e={}),void 0===n&&(n={}),this.root=t instanceof Element?t:document.querySelector(t),U(this.root,"An invalid element/selector was given."),this.Components=null,this.Event=function(){var t=[];function e(t){t.elm&&t.elm.removeEventListener(t.event,t.handler,t.options)}return{on:function(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i={}),e.split(" ").forEach(function(e){r&&r.addEventListener(e,n,i),t.push({event:e,handler:n,elm:r,options:i})})},off:function(n,r){void 0===r&&(r=null),n.split(" ").forEach(function(n){t=t.filter(function(t){return!t||t.event!==n||t.elm!==r||(e(t),!1)})})},emit:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.forEach(function(t){t.elm||t.event.split(".")[0]!==e||t.handler.apply(t,r)})},destroy:function(){t.forEach(e),t=[]}}}(),this.State=(i=H,{set:function(t){i=t},is:function(t){return t===i}}),this.STATES=r,this._o=c(B,e),this._i=0,this._c=n,this._e={},this._t=null}var e,n=t.prototype;return n.mount=function(t,e){var n=this;void 0===t&&(t=this._e),void 0===e&&(e=this._t),this.State.set(H),this._e=t,this._t=e,this.Components=function(t,e,n){var r={};return s(e,function(e,n){r[n]=e(t,r,n.toLowerCase())}),n||(n=t.is(R)?M:F),r.Transition=n(t,r),r}(this,c(this._c,t),e);try{s(this.Components,function(t,e){var r=t.required;void 0===r||r?t.mount&&t.mount():delete n.Components[e]})}catch(i){return void L(i.message)}var r=this.State;return r.set(z),s(this.Components,function(t){t.mounted&&t.mounted()}),this.emit("mounted"),r.set(W),this.emit("ready"),E(this.root,{visibility:"visible"}),this.on("move drag",function(){return r.set(G)}).on("moved dragged",function(){return r.set(W)}),this},n.sync=function(t){return this.sibling=t,this},n.on=function(t,e,n,r){return void 0===n&&(n=null),void 0===r&&(r={}),this.Event.on(t,e,n,r),this},n.off=function(t,e){return void 0===e&&(e=null),this.Event.off(t,e),this},n.emit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.Event).emit.apply(e,[t].concat(r)),this},n.go=function(t,e){return void 0===e&&(e=this.options.waitForTransition),(this.State.is(W)||this.State.is(G)&&!e)&&this.Components.Controller.go(t,!1),this},n.is=function(t){return t===this._o.type},n.add=function(t,e){return void 0===e&&(e=-1),this.Components.Elements.add(t,e,this.refresh.bind(this)),this},n.remove=function(t){return this.Components.Elements.remove(t),this.refresh(),this},n.refresh=function(){return this.emit("refresh:before").emit("refresh").emit("resize"),this},n.destroy=function(t){var e=this;if(void 0===t&&(t=!0),!this.State.is(H))return a(this.Components).reverse().forEach(function(e){e.destroy&&e.destroy(t)}),this.emit("destroy",t),this.Event.destroy(),this.State.set(K),this;this.on("ready",function(){return e.destroy(t)})},(e=[{key:"index",get:function(){return this._i},set:function(t){this._i=parseInt(t)}},{key:"length",get:function(){return this.Components.Elements.length}},{key:"options",get:function(){return this._o},set:function(t){var e=this.State.is(H);e||this.emit("update"),this._o=c(this._o,t),e||this.emit("updated",this._o)}},{key:"classes",get:function(){return this._o.classes}},{key:"i18n",get:function(){return this._o.i18n}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}())}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(311)})()},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return E}),n.d(e,"c",function(){return C}),n.d(e,"d",function(){return M}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return k}),n.d(e,"j",function(){return L}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return B}),n.d(e,"n",function(){return K}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return P}),n.d(e,"q",function(){return m}),n.d(e,"r",function(){return y}),n.d(e,"s",function(){return b}),n.d(e,"t",function(){return N}),n.d(e,"u",function(){return _}),n.d(e,"v",function(){return p}),n.d(e,"w",function(){return g}),n.d(e,"x",function(){return O}),n.d(e,"y",function(){return v}),n.d(e,"z",function(){return w}),n.d(e,"A",function(){return D}),n.d(e,"B",function(){return x}),n.d(e,"C",function(){return R}),n.d(e,"D",function(){return F}),n.d(e,"E",function(){return j}),n.d(e,"F",function(){return G}),n.d(e,"G",function(){return W}),n.d(e,"H",function(){return I}),n.d(e,"I",function(){return q}),n.d(e,"J",function(){return H}),n.d(e,"K",function(){return z});var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function _(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function O(){return!1}var C=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return Object(r.c)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new C(i,a,r);return u},t}();function S(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function x(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}var A=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=x(c(o[0])||""),n=x(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},D=function(t){var e=A(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},P=function(t){var e=A(t).claims;return"object"==typeof e&&!0===e.admin};function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function R(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function F(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var M=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function L(t,e){var n=new U(t,e);return n.subscribe.bind(n)}var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function V(){}var q=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function B(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(B(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(B(t,e,r)+"must be a valid context object.")}var W=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},G=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function K(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)(u.Tb(u.C))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.k)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.2",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.l)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.l)(e,t)},createSubscribe:s.j,ErrorFactory:s.b,deepExtend:s.l}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.q)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.w)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.18",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Tb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Tb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Tb)(s).location;return new b(Object(r.Tb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(m),r.Tb(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Tb)(m),Object(r.Tb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.ob;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}const R=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let F=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(t)}'`)}(t,e);return e.replace(R,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"titlecase",type:t,pure:!0}),t})(),M=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function L(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new V(Object(r.Tb)(s),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,H||(H=document.createElement("a")),H.setAttribute("href",n),"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let H,z=null;const W=new r.r("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,s,r.s],multi:!0}];class K{static init(){Object(r.Z)(new K)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Q=new r.r("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Q),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function et(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?et(t,i,n):(i=i.replace(tt,t),n.push(i))}return n}function nt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($),r.Tb(X),r.Tb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nt(n)):this.eventManager.addEventListener(t,e,nt(n))}}class ot extends it{constructor(t,e,n,r){super(t),this.component=n;const i=et(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(tt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=et(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let at=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let dt=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lt.hasOwnProperty(e)&&(e=lt[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ft=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){B.makeCurrent(),K.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],pt=Object(r.S)(r.Y,"browser",ft),gt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Q,useClass:at,multi:!0,deps:[s,r.A,r.C]},{provide:Q,useClass:dt,multi:!0,deps:[s]},[],{provide:rt,useClass:rt,deps:[$,X,r.c]},{provide:r.F,useExisting:rt},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:$,useClass:$,deps:[Q,r.A]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:W,useExisting:r.c},G]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Tb(t,12))},providers:gt,imports:[M,r.f]}),t})();"undefined"!=typeof window&&window;var yt=n("HDdC"),vt=n("DH7j"),bt=n("lJxs"),_t=n("XoHu"),wt=n("Cfvw");function Ot(t,e){return new yt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(wt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ct=new r.r("NgValueAccessor"),Et={provide:Ct,useExisting:Object(r.V)(()=>St),multi:!0};let St=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Bb([Et])]}),t})();const Tt={provide:Ct,useExisting:Object(r.V)(()=>It),multi:!0},xt=new r.r("CompositionEventMode");let It=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(xt,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([Tt])]}),t})();function At(t){return null==t||0===t.length}function Dt(t){return null!=t&&"number"==typeof t.length}const Pt=new r.r("NgValidators"),kt=new r.r("NgAsyncValidators"),jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return At(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return At(t.value)||jt.test(t.value)?null:{email:!0}}static minLength(t){return e=>At(e.value)||!Dt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Dt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Nt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(At(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Rt);return 0==e.length?null:function(t){return Mt(Lt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Rt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(vt.a)(e))return Ot(e,null);if(Object(_t.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ot(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ot(t=1===t.length&&Object(vt.a)(t[0])?t[0]:t,null).pipe(Object(bt.a)(t=>e(...t)))}return Ot(t,null)}(Lt(t,e).map(Ft)).pipe(Object(bt.a)(Mt))}}}function Rt(t){return null!=t}function Ft(t){const e=Object(r.tb)(t)?Object(wt.a)(t):t;return Object(r.sb)(e),e}function Mt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Lt(t,e){return e.map(e=>e(t))}function Ut(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vt(t){return null!=t?Nt.compose(Ut(t)):null}function qt(t){return null!=t?Nt.composeAsync(Ut(t)):null}function Bt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ht(t){return t._rawValidators}function zt(t){return t._rawAsyncValidators}let Wt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),Gt=(()=>{class t extends Wt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Kt(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const Kt=r.Rb(Gt);class Qt extends Wt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Yt=(()=>{class t extends $t{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Qt,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),Jt=(()=>{class t extends $t{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gt,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();const Xt={provide:Ct,useExisting:Object(r.V)(()=>Zt),multi:!0};let Zt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([Xt])]}),t})();const te={provide:Ct,useExisting:Object(r.V)(()=>ne),multi:!0};let ee=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Qt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(ee),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([te])]}),t})();const re={provide:Ct,useExisting:Object(r.V)(()=>ie),multi:!0};let ie=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([re])]}),t})();const oe={provide:Ct,useExisting:Object(r.V)(()=>se),multi:!0};let se=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([oe])]}),t})();const ae={provide:Ct,useExisting:Object(r.V)(()=>ue),multi:!0};let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([ae])]}),t})();function ce(t,e){return[...e.path,t]}function le(t,e){fe(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ge(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ge(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function he(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function de(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fe(t,e,n){const r=Ht(t);null!==e.validator?t.setValidators(Bt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=zt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Bt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();de(e._rawValidators,n),de(e._rawAsyncValidators,n)}}function pe(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Ht(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=zt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};de(e._rawValidators,t),de(e._rawAsyncValidators,t)}return r}function ge(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function me(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const ye=[St,ie,Zt,se,ue,ne];function ve(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===It?n=t:(e=t,ye.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function be(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _e="VALID",we="INVALID",Oe="PENDING",Ce="DISABLED";function Ee(t){return(Ie(t)?t.validators:t)||null}function Se(t){return Array.isArray(t)?Vt(t):t||null}function Te(t,e){return(Ie(e)?e.asyncValidators:t)||null}function xe(t){return Array.isArray(t)?qt(t):t||null}function Ie(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ae{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Se(this._rawValidators),this._composedAsyncValidatorFn=xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_e}get invalid(){return this.status===we}get pending(){return this.status==Oe}get disabled(){return this.status===Ce}get enabled(){return this.status!==Ce}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Se(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xe(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Oe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ce,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_e,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==_e&&this.status!==Oe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ce:_e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Oe,this._hasOwnPendingAsyncValidator=!0;const e=Ft(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Pe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ke&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ce:this.errors?we:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oe)?Oe:this._anyControlsHaveStatus(we)?we:_e}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ie(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class De extends Ae{constructor(t=null,e,n){super(Ee(e),Te(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){be(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){be(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pe extends Ae{constructor(t,e,n){super(Ee(e),Te(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof De?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ke extends Ae{constructor(t,e,n){super(Ee(e),Te(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof De?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const je={provide:Qt,useExisting:Object(r.V)(()=>Re)},Ne=(()=>Promise.resolve(null))();let Re=(()=>{class t extends Qt{constructor(t,e,n,i){super(),this.control=new De,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=ve(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),me(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ce(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){le(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ne.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ne.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gt,9),r.Mb(Pt,10),r.Mb(kt,10),r.Mb(Ct,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([je]),r.zb,r.Ab]}),t})(),Fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Me=new r.r("NgModelWithFormControlWarning"),Le={provide:Gt,useExisting:Object(r.V)(()=>Ue)};let Ue=(()=>{class t extends Gt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pe(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return le(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){he(t.control||null,t,!1),be(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(he(t.control||null,t),e&&le(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){fe(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return pe(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fe(this.form,this,!1),this._oldForm&&pe(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Pt,10),r.Mb(kt,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Le]),r.zb,r.Ab]}),t})();const Ve={provide:Qt,useExisting:Object(r.V)(()=>qe)};let qe=(()=>{class t extends Qt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=ve(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),me(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ce(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gt,13),r.Mb(Pt,10),r.Mb(kt,10),r.Mb(Ct,10),r.Mb(Me,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Ve]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})(),Be=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),He=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Pe(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new De(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new ke(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof De||t instanceof Pe||t instanceof ke?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ze=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ee],imports:[Be]}),t})(),We=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Me,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[He,ee],imports:[Be]}),t})();var Ge=n("LRne"),Ke=n("XNiG"),Qe=n("9ppp");class $e extends Ke.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qe.a;return this._value}next(t){super.next(this._value=t)}}var Ye=n("z+Ro"),Je=n("7o/Q");class Xe extends Je.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ze extends Je.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var tn=n("SeVD");function en(t,e,n,r,i=new Ze(t,n,r)){if(!i.closed)return e instanceof yt.a?e.subscribe(i):Object(tn.a)(e)(i)}var nn=n("yCtX");const rn={};class on{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new sn(t,this.resultSelector))}}class sn extends Xe{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(rn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(en(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===rn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const an=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var un=n("bHdf");function cn(...t){return Object(un.a)(1)(Object(Ge.a)(...t))}var ln=n("EY2u");function hn(t){return new yt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(wt.a)(n):Object(ln.b)()).subscribe(e)})}var dn=n("zx2A");function fn(t,e){return"function"==typeof e?n=>n.pipe(fn((n,r)=>Object(wt.a)(t(n,r)).pipe(Object(bt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new pn(t))}class pn{constructor(t){this.project=t}call(t,e){return e.subscribe(new gn(t,this.project))}}class gn extends dn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new dn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(dn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const mn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function yn(t){return e=>0===t?Object(ln.b)():e.lift(new vn(t))}class vn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new bn(t,this.total))}}class bn extends Je.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _n(...t){const e=t[t.length-1];return Object(Ye.a)(e)?(t.pop(),n=>cn(t,n,e)):e=>cn(t,e)}function wn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new On(t,e,n))}}class On{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Cn(t,this.accumulator,this.seed,this.hasSeed))}}class Cn extends Je.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function En(t,e){return function(n){return n.lift(new Sn(t,e))}}class Sn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Tn(t,this.predicate,this.thisArg))}}class Tn extends Je.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function xn(t){return function(e){const n=new In(t),r=e.lift(n);return n.caught=r}}class In{constructor(t){this.selector=t}call(t,e){return e.subscribe(new An(t,this.selector,this.caught))}}class An extends dn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new dn.a(this);this.add(r);const i=Object(dn.c)(n,r);i!==r&&this.add(i)}}}var Dn=n("5+tZ");function Pn(t,e){return Object(Dn.a)(t,e,1)}function kn(t){return function(e){return 0===t?Object(ln.b)():e.lift(new jn(t))}}class jn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new Nn(t,this.total))}}class Nn extends Je.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Rn(t=Ln){return e=>e.lift(new Fn(t))}class Fn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mn(t,this.errorFactory))}}class Mn extends Je.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(VC){t=VC}this.destination.error(t)}}}function Ln(){return new an}function Un(t=null){return e=>e.lift(new Vn(t))}class Vn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qn(t,this.defaultValue))}}class qn extends Je.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Bn=n("SpAZ");function Hn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?En((e,n)=>t(e,n,r)):Bn.a,yn(1),n?Un(e):Rn(()=>new an))}var zn=n("vkgz"),Wn=n("quSY");function Gn(t){return e=>e.lift(new Kn(t))}class Kn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Qn(t,this.callback))}}class Qn extends Je.a{constructor(t,e){super(t),this.add(new Wn.a(e))}}class $n{constructor(t,e){this.id=t,this.url=e}}class Yn extends $n{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jn extends $n{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xn extends $n{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zn extends $n{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends $n{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends $n{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends $n{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rr extends $n{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends $n{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dr="primary";class fr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pr(t){return new fr(t)}function gr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!vr(t[i],e[i]))return!1;return!0}function vr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function br(t){return Array.prototype.concat.apply([],t)}function _r(t){return t.length>0?t[t.length-1]:null}function wr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Or(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(wt.a)(Promise.resolve(t)):Object(Ge.a)(t)}function Cr(t,e,n){return n?function(t,e){return yr(t,e)}(t.queryParams,e.queryParams)&&Er(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Sr(t.root,e.root)}function Er(t,e){if(!Dr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Er(t.children[n],e.children[n]))return!1}return!0}function Sr(t,e){return Tr(t,e,e.segments)}function Tr(t,e,n){if(t.segments.length>n.length)return!!Dr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Dr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Sr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Dr(t.segments,r)&&!!t.children.primary&&Tr(t.children.primary,e,i)}}class xr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return jr.serialize(this)}}class Ir{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nr(this)}}class Ar{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pr(this.parameters)),this._parameterMap}toString(){return qr(this)}}function Dr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Pr{}class kr{parse(t){const e=new Gr(t);return new xr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Rr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Mr(e)}=${Mr(t)}`).join("&"):`${Mr(e)}=${Mr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const jr=new kr;function Nr(t){return t.segments.map(t=>qr(t)).join("/")}function Rr(t,e){if(!t.hasChildren())return Nr(t);if(e){const e=t.children.primary?Rr(t.children.primary,!1):"",n=[];return wr(t.children,(t,e)=>{e!==dr&&n.push(`${e}:${Rr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return wr(t.children,(t,r)=>{r===dr&&(n=n.concat(e(t,r)))}),wr(t.children,(t,r)=>{r!==dr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===dr?[Rr(t.children.primary,!1)]:[`${n}:${Rr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Nr(t)}/${e[0]}`:`${Nr(t)}/(${e.join("//")})`}}function Fr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mr(t){return Fr(t).replace(/%3B/gi,";")}function Lr(t){return Fr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ur(t){return decodeURIComponent(t)}function Vr(t){return Ur(t.replace(/\+/g,"%20"))}function qr(t){return`${Lr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Lr(t)}=${Lr(e[t])}`).join("")}`;var e}const Br=/^[^\/()?;=#]+/;function Hr(t){const e=t.match(Br);return e?e[0]:""}const zr=/^[^=?&#]+/,Wr=/^[^?&#]+/;class Gr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ir(t,e)),n}parseSegment(){const t=Hr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ar(Ur(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hr(this.remaining);t&&(n=t,this.capture(n))}t[Ur(e)]=Ur(n)}parseQueryParam(t){const e=function(t){const e=t.match(zr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Vr(e),i=Vr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=dr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ir([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Kr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Qr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$r(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return $r(t,this._root).map(t=>t.value)}}function Qr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Qr(t,n);if(e)return e}return null}function $r(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$r(t,n);if(r.length)return r.unshift(e),r}return[]}class Yr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xr extends Kr{constructor(t,e){super(t),this.snapshot=e,ii(this,t)}toString(){return this.snapshot.toString()}}function Zr(t,e){const n=function(t,e){const n=new ni([],{},{},"",{},dr,e,null,t.root,-1,{});return new ri("",new Yr(n,[]))}(t,e),r=new $e([new Ar("",{})]),i=new $e({}),o=new $e({}),s=new $e({}),a=new $e(""),u=new ti(r,i,s,a,o,dr,e,n.root);return u.snapshot=n.root,new Xr(new Yr(u,[]),n)}class ti{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(bt.a)(t=>pr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(bt.a)(t=>pr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ei(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ni{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ri extends Kr{constructor(t,e){super(e),this.url=t,ii(this,e)}toString(){return oi(this._root)}}function ii(t,e){e.value._routerState=t,e.children.forEach(e=>ii(t,e))}function oi(t){const e=t.children.length>0?` { ${t.children.map(oi).join(", ")} } `:"";return`${t.value}${e}`}function si(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ai(t,e){return yr(t.params,e.params)&&function(t,e){return Dr(t,e)&&t.every((t,n)=>yr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ai(t.parent,e.parent))}function ui(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ui(t,e,r);return ui(t,e)})}(t,e,n);return new Yr(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ci(e,t),t}{const n=new ti(new $e((r=e.value).url),new $e(r.params),new $e(r.queryParams),new $e(r.fragment),new $e(r.data),r.outlet,r.component,r),i=e.children.map(e=>ui(t,e));return new Yr(n,i)}}var r}function ci(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ci(t.children[n],e.children[n])}function li(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hi(t){return"object"==typeof t&&null!=t&&t.outlets}function di(t,e,n,r,i){let o={};return r&&wr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new xr(n.root===t?e:fi(n.root,t,e),o,i)}function fi(t,e,n){const r={};return wr(t.children,(t,i)=>{r[i]=t===e?n:fi(t,e,n)}),new Ir(t.segments,r)}class pi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&li(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(hi);if(r&&r!==_r(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mi(t,e,n){if(t||(t=new Ir([],{})),0===t.segments.length&&t.hasChildren())return yi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(hi(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!wi(a,u,e))return o;r+=2}else{if(!wi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ir(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ir(t.segments.slice(r.pathIndex),t.children),yi(e,0,i)}return r.match&&0===i.length?new Ir(t.segments,{}):r.match&&!t.hasChildren()?vi(t,e,n):r.match?yi(t,0,i):vi(t,e,n)}function yi(t,e,n){if(0===n.length)return new Ir(t.segments,{});{const r=function(t){return hi(t[0])?t[0].outlets:{[dr]:t}}(n),i={};return wr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=mi(t.children[r],e,n))}),wr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ir(t.segments,i)}}function vi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(hi(o)){const t=bi(o.outlets);return new Ir(r,t)}if(0===i&&li(n[0])){r.push(new Ar(t.segments[e].path,_i(n[0]))),i++;continue}const s=hi(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&li(a)?(r.push(new Ar(s,_i(a))),i+=2):(r.push(new Ar(s,{})),i++)}return new Ir(r,{})}function bi(t){const e={};return wr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=vi(new Ir([],{}),0,t))}),e}function _i(t){const e={};return wr(t,(t,n)=>e[n]=`${t}`),e}function wi(t,e,n){return t==n.path&&yr(e,n.parameters)}class Oi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),si(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Jr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),wr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Jr(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Jr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new lr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ur(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(si(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ci(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ci(t){si(t.value),t.children.forEach(Ci)}class Ei{constructor(t,e){this.routes=t,this.module=e}}function Si(t){return"function"==typeof t}function Ti(t){return t instanceof xr}const xi=Symbol("INITIAL_VALUE");function Ii(){return fn(t=>function(...t){let e,n;return Object(Ye.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(vt.a)(t[0])&&(t=t[0]),Object(nn.a)(t,n).lift(new on(e))}(t.map(t=>t.pipe(yn(1),_n(xi)))).pipe(wn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==xi)return t;if(r===xi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ti(r))return r}return t},t)},xi),En(t=>t!==xi),Object(bt.a)(t=>Ti(t)?t:!0===t),yn(1)))}let Ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[So]},encapsulation:2}),t})();function Di(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Pi(r,ki(e,r))}}function Pi(t,e){t.children&&Di(t.children,e)}function ki(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ji(t){const e=t.children&&t.children.map(ji),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==dr&&(n.component=Ai),n}function Ni(t){return t.outlet||dr}function Ri(t,e){const n=t.filter(t=>Ni(t)===e);return n.push(...t.filter(t=>Ni(t)!==e)),n}const Fi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Mi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Fi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mr)(n,t,e);if(!i)return Object.assign({},Fi);const o={};wr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Li(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ui(t,e,n)&&Ni(n)!==dr)}(t,n,r)){const i=new Ir(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ni(o)!==dr){const n=new Ir([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ni(o)]=n}return i}(t,e,r,new Ir(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ui(t,e,n))}(t,n,r)){const o=new Ir(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ui(t,n,a)&&!i[Ni(a)]){const n=new Ir([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ni(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ir(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ui(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Vi(t,e,n,r){return!!(Ni(t)===r||r!==dr&&Ui(e,n,t))&&("**"===t.path||Mi(e,t,n).matched)}function qi(t,e,n){return 0===e.length&&!t.children[n]}class Bi{constructor(t){this.segmentGroup=t||null}}class Hi{constructor(t){this.urlTree=t}}function zi(t){return new yt.a(e=>e.error(new Bi(t)))}function Wi(t){return new yt.a(e=>e.error(new Hi(t)))}function Gi(t){return new yt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ki{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Li(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ir(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,dr).pipe(Object(bt.a)(t=>this.createUrlTree(Qi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xn(t=>{if(t instanceof Hi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Bi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,dr).pipe(Object(bt.a)(e=>this.createUrlTree(Qi(e),t.queryParams,t.fragment))).pipe(xn(t=>{if(t instanceof Bi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ir([],{[dr]:t}):t;return new xr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(bt.a)(t=>new Ir([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(wt.a)(r).pipe(Pn(r=>{const i=n.children[r],o=Ri(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(bt.a)(t=>({segment:t,outlet:r})))}),wn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?En((e,n)=>t(e,n,r)):Bn.a,kn(1),n?Un(e):Rn(()=>new an))}())}expandSegment(t,e,n,r,i,o){return Object(wt.a)(n).pipe(Pn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(xn(t=>{if(t instanceof Bi)return Object(Ge.a)(null);throw t}))),Hn(t=>!!t),xn((t,n)=>{if(t instanceof an||"EmptyError"===t.name){if(qi(e,r,i))return Object(Ge.a)(new Ir([],{}));throw new Bi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Vi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):zi(e):zi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wi(i):this.lineralizeSegments(n,i).pipe(Object(Dn.a)(n=>{const i=new Ir(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Mi(e,r,i);if(!s)return zi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Wi(l):this.lineralizeSegments(r,l).pipe(Object(Dn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(bt.a)(t=>(n._loadedConfig=t,new Ir(r,{})))):Object(Ge.a)(new Ir(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Mi(e,n,r);if(!o)return zi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Dn.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Li(e,s,u,o),l=new Ir(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(bt.a)(t=>new Ir(s,t)));if(0===o.length&&0===c.length)return Object(Ge.a)(new Ir(s,{}));const h=Ni(n)===i;return this.expandSegment(r,l,o,c,h?dr:i,!0).pipe(Object(bt.a)(t=>new Ir(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ge.a)(new Ei(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ge.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Dn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(bt.a)(t=>(e._loadedConfig=t,t))):function(t){return new yt.a(e=>e.error(gr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ge.a)(new Ei([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ge.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Si(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Si(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Or(o)});return Object(Ge.a)(i).pipe(Ii(),Object(zn.a)(t=>{if(!Ti(t))return;const e=gr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(bt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ge.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Gi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new xr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return wr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return wr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ir(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Qi(t){const e={};for(const n of Object.keys(t.children)){const r=Qi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ir(t.segments.concat(e.segments),e.children)}return t}(new Ir(t.segments,e))}class $i{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yi{constructor(t,e){this.component=t,this.route=e}}function Ji(t,e,n){const r=t._root;return Zi(r,e?e._root:null,n,[r.value])}function Xi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Jr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dr(t.url,e.url)||!yr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ai(t,e)||!yr(t.queryParams,e.queryParams);case"paramsChange":default:return!ai(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $i(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Zi(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yi(a.outlet.component,s))}else s&&to(e,a,i),i.canActivateChecks.push(new $i(r)),Zi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),wr(o,(t,e)=>to(t,n.getContext(e),i)),i}function to(t,e,n){const r=Jr(t),i=t.value;wr(r,(t,r)=>{to(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class eo{}function no(t){return new yt.a(e=>e.error(t))}class ro{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Li(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,dr);if(null===e)return null;const n=new ni([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yr(n,e),i=new ri(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ei(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Ri(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!io(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===dr?-1:e.value.outlet===dr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return qi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Vi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?_r(n).parameters:{};i=new ni(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(t),Ni(t),t.component,t,oo(e),so(e)+n.length,uo(t))}else{const r=Mi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new ni(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(t),Ni(t),t.component,t,oo(e),so(e)+o.length,uo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Li(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Yr(i,t)]}if(0===a.length&&0===c.length)return[new Yr(i,[])];const l=Ni(t)===r,h=this.processSegment(a,u,c,l?dr:r);return null===h?null:[new Yr(i,h)]}}function io(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function so(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ao(t){return t.data||{}}function uo(t){return t.resolve||{}}function co(t){return fn(e=>{const n=t(e);return n?Object(wt.a)(n).pipe(Object(bt.a)(()=>e)):Object(Ge.a)(e)})}class lo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ho=new r.r("ROUTES");class fo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(bt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ei(br(i.injector.get(ho,void 0,r.q.Self|r.q.Optional)).map(ji),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(wt.a)(this.loader.load(t)):Or(t()).pipe(Object(Dn.a)(t=>t instanceof r.w?Object(Ge.a)(t):Object(wt.a)(this.compiler.compileModuleAsync(t))))}}class po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new go,this.attachRef=null}}class go{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new po,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class mo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yo(t){throw t}function vo(t,e,n){return e.parse("/")}function bo(t,e){return Object(Ge.a)(null)}let _o=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ke.a,this.errorHandler=yo,this.malformedUriErrorHandler=vo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bo,afterPreactivation:bo},this.urlHandlingStrategy=new mo,this.routeReuseStrategy=new lo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.ab);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new xr(new Ir([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fo(s,a,t=>this.triggerEvent(new or(t)),t=>this.triggerEvent(new sr(t))),this.routerState=Zr(this.currentUrlTree,this.rootComponentType),this.transitions=new $e({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(En(t=>0!==t.id),Object(bt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),fn(t=>{let n=!1,r=!1;return Object(Ge.a)(t).pipe(Object(zn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ge.a)(t).pipe(fn(t=>{const n=this.transitions.getValue();return e.next(new Yn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ln.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,fn(t=>function(t,e,n,r,i){return new Ki(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(bt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(zn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Dn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ro(t,e,n,r,i,o).recognize();return null===s?no(new eo):Object(Ge.a)(s)}catch(VC){return no(VC)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(bt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(zn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yn(n,this.serializeUrl(r),i,o);e.next(a);const u=Zr(r,this.rootComponentType).snapshot;return Object(Ge.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ln.a}),co(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(zn.a)(t=>{const e=new er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(bt.a)(t=>Object.assign(Object.assign({},t),{guards:Ji(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Dn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ge.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(wt.a)(t).pipe(Object(Dn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ge.a)(!0);const s=o.map(o=>{const s=Xi(o,e,i);let a;if(function(t){return t&&Si(t.canDeactivate)}(s))a=Or(s.canDeactivate(t,e,n,r));else{if(!Si(s))throw new Error("Invalid CanDeactivate guard");a=Or(s(t,e,n,r))}return a.pipe(Hn())});return Object(Ge.a)(s).pipe(Ii())}(t.component,t.route,n,e,r)),Hn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Dn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(wt.a)(e).pipe(Pn(e=>cn(function(t,e){return null!==t&&e&&e(new ar(t)),Object(Ge.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new cr(t)),Object(Ge.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hn(()=>{const i=e.guards.map(i=>{const o=Xi(i,e.node,n);let s;if(function(t){return t&&Si(t.canActivateChild)}(o))s=Or(o.canActivateChild(r,t));else{if(!Si(o))throw new Error("Invalid CanActivateChild guard");s=Or(o(r,t))}return s.pipe(Hn())});return Object(Ge.a)(i).pipe(Ii())}));return Object(Ge.a)(i).pipe(Ii())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ge.a)(!0);const i=r.map(r=>hn(()=>{const i=Xi(r,e,n);let o;if(function(t){return t&&Si(t.canActivate)}(i))o=Or(i.canActivate(e,t));else{if(!Si(i))throw new Error("Invalid CanActivate guard");o=Or(i(e,t))}return o.pipe(Hn())}));return Object(Ge.a)(i).pipe(Ii())}(t,e.route,n))),Hn(t=>!0!==t,!0))}(r,o,t,e):Object(Ge.a)(n)),Object(bt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(zn.a)(t=>{if(Ti(t.guardsResult)){const e=gr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new nr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),En(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),co(t=>{if(t.guards.canActivateChecks.length)return Object(Ge.a)(t).pipe(Object(zn.a)(t=>{const e=new rr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),fn(t=>{let n=!1;return Object(Ge.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Dn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ge.a)(t);let o=0;return Object(wt.a)(n).pipe(Pn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ge.a)({});const o={};return Object(wt.a)(i).pipe(Object(Dn.a)(i=>function(t,e,n,r){const i=Xi(t,e,r);return Or(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(zn.a)(t=>{o[i]=t}))),kn(1),Object(Dn.a)(()=>Object.keys(o).length===i.length?Object(Ge.a)(o):ln.a))}(t._resolve,t,e,r).pipe(Object(bt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ei(t,n).resolve),null)))}(t.route,e,r,i)),Object(zn.a)(()=>o++),kn(1),Object(Dn.a)(e=>o===n.length?Object(Ge.a)(t):ln.a))})),Object(zn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(zn.a)(t=>{const e=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),co(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(bt.a)(t=>{const e=function(t,e,n){const r=ui(t,e._root,n?n._root:void 0);return new Xr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(zn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(bt.a)(t=>(new Oi(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(zn.a)({next(){n=!0},complete(){n=!0}}),Gn(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),xn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ti(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Xn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Zn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(gg){t.reject(gg)}}var i;return ln.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Di(t),this.config=t.map(ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return di(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return wr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new pi(n,e,r)}(n);if(o.toRoot())return di(e.root,new Ir([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new gi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new gi(t,t===e.root,0)}const r=li(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?yi(s.segmentGroup,s.index,o.commands):mi(s.segmentGroup,s.index,o.commands);return di(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ti(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(VC){e=this.malformedUriErrorHandler(VC,this.urlSerializer,t)}return e}isActive(t,e){if(Ti(t))return Cr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Cr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.N),r.Tb(Pr),r.Tb(go),r.Tb(w),r.Tb(r.s),r.Tb(r.x),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),wo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ke.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Co(this.skipLocationChange),replaceUrl:Co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Co(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(_o),r.Mb(ti),r.Ub("tabindex"),r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),Oo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ke.a,this.subscription=t.events.subscribe(t=>{t instanceof Jn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Co(this.skipLocationChange),replaceUrl:Co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Co(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(_o),r.Mb(ti),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.gc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function Co(t){return""===t||!!t}let Eo=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Jn&&this.update()})}ngAfterContentInit(){Object(Ge.a)(this.links.changes,this.linksWithHrefs.changes,Object(Ge.a)(null)).pipe(Object(un.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(wt.a)(e).pipe(Object(un.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(_o),r.Mb(r.l),r.Mb(r.E),r.Mb(r.h),r.Mb(wo,8),r.Mb(Oo,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,wo,1),r.Fb(n,Oo,1)),2&t){let t;r.ec(t=r.Xb())&&(e.links=t),r.ec(t=r.Xb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),So=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||dr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new To(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(go),r.Mb(r.Q),r.Mb(r.j),r.Ub("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class To{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ti?this.route:t===go?this.childContexts:this.parent.get(t,e)}}class xo{}class Io{preload(t,e){return Object(Ge.a)(null)}}let Ao=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new fo(e,n,e=>t.triggerEvent(new or(e)),e=>t.triggerEvent(new sr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof Jn),Pn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(wt.a)(n).pipe(Object(un.a)(),Object(bt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Dn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(_o),r.Tb(r.x),r.Tb(r.i),r.Tb(r.s),r.Tb(xo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Do=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new hr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(_o),r.Tb(U),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Po=new r.r("ROUTER_CONFIGURATION"),ko=new r.r("ROUTER_FORROOT_GUARD"),jo=[w,{provide:Pr,useClass:kr},{provide:_o,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new _o(null,t,e,n,r,i,s,br(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Pr,go,w,r.s,r.x,r.i,ho,Po,[class{},new r.B],[class{},new r.B]]},go,{provide:ti,useFactory:function(t){return t.routerState.root},deps:[_o]},{provide:r.x,useClass:r.K},Ao,Io,class{preload(t,e){return e().pipe(xn(()=>Object(Ge.a)(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function No(){return new r.z("Router",_o)}let Ro=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[jo,Uo(e),{provide:ko,useFactory:Lo,deps:[[_o,new r.B,new r.J]]},{provide:Po,useValue:n||{}},{provide:m,useFactory:Mo,deps:[a,[new r.p(v),new r.B],Po]},{provide:Do,useFactory:Fo,deps:[_o,U,Po]},{provide:xo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Io},{provide:r.z,multi:!0,useFactory:No},[Vo,{provide:r.d,multi:!0,useFactory:qo,deps:[Vo]},{provide:Ho,useFactory:Bo,deps:[Vo]},{provide:r.b,multi:!0,useExisting:Ho}]]}}static forChild(e){return{ngModule:t,providers:[Uo(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Tb(ko,8),r.Tb(_o,8))}}),t})();function Fo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Do(t,e,n)}function Mo(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function Lo(t){return"guarded"}function Uo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ho,multi:!0,useValue:t}]}let Vo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ke.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_o),r=this.injector.get(Po);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ge.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Po),n=this.injector.get(Ao),i=this.injector.get(Do),o=this.injector.get(_o),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function qo(t){return t.appInitializer.bind(t)}function Bo(t){return t.bootstrapListener.bind(t)}const Ho=new r.r("Router Initializer");class zo{}class Wo{}class Go{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Go;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Go?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ko{encodeKey(t){return Qo(t)}encodeValue(t){return Qo(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qo(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class $o{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ko,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $o({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Yo(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Jo(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Xo(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Zo{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Go),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new $o,this.urlWithParams=e}serializeBody(){return null===this.body?null:Yo(this.body)||Jo(this.body)||Xo(this.body)||"string"==typeof this.body?this.body:this.body instanceof $o?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xo(this.body)?null:Jo(this.body)?this.body.type||null:Yo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $o?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Zo(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var ts=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class es{constructor(t,e=200,n="OK"){this.headers=t.headers||new Go,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ns extends es{constructor(t={}){super(t),this.type=ts.ResponseHeader}clone(t={}){return new ns({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rs extends es{constructor(t={}){super(t),this.type=ts.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class is extends es{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function os(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ss=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Zo)r=t;else{let i,o;i=n.headers instanceof Go?n.headers:new Go(n.headers),n.params&&(o=n.params instanceof $o?n.params:new $o({fromObject:n.params})),r=new Zo(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ge.a)(r).pipe(Pn(t=>this.handler.handle(t)));if(t instanceof Zo||"events"===n.observe)return i;const o=i.pipe(En(t=>t instanceof rs));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(bt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new $o).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,os(n,e))}post(t,e,n={}){return this.request("POST",t,os(n,e))}put(t,e,n={}){return this.request("PUT",t,os(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(zo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class as{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const us=new r.r("HTTP_INTERCEPTORS");let cs=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ls=/^\)\]\}',?\n/;class hs{}let ds=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),fs=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Go(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ns({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ls,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new rs({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new is({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new is({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:ts.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:ts.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:ts.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(hs))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ps=new r.r("XSRF_COOKIE_NAME"),gs=new r.r("XSRF_HEADER_NAME");class ms{}let ys=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s),r.Tb(r.C),r.Tb(ps))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),vs=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ms),r.Tb(gs))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),bs=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(us,[]);this.chain=t.reduceRight((t,e)=>new as(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Wo),r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_s=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:vs,useClass:cs}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ps,useValue:e.cookieName}:[],e.headerName?{provide:gs,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[vs,{provide:us,useExisting:vs,multi:!0},{provide:ms,useClass:ys},{provide:ps,useValue:"XSRF-TOKEN"},{provide:gs,useValue:"X-XSRF-TOKEN"}]}),t})(),ws=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ss,{provide:zo,useClass:bs},fs,{provide:Wo,useExisting:fs},ds,{provide:hs,useExisting:ds}],imports:[[_s.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Os=n("D0XW"),Cs=n("VRyK"),Es=n("w1tV");function Ss(t,e){return n=>n.lift(new Ts(t,e))}class Ts{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xs(t,this.compare,this.keySelector))}}class xs extends Je.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Is{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new As(t,this.observables,this.project))}}class As extends Xe{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(en(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Ds{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Ps(t,this.predicate))}}class Ps extends Je.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var ks=n("spgP"),js=(n("6Uf2"),n("pxpQ")),Ns=n("qgXg"),Rs=n("Ylt2");class Fs extends Ke.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ms(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Qe.a;if(this.isStopped||this.hasError?o=Wn.a.EMPTY:(this.observers.push(t),o=new Rs.a(this,t)),r&&t.add(t=new js.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ns.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Ms{constructor(t,e){this.time=t,this.value=e}}function Ls(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Fs(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Us(t,e){return e?fn(()=>t,e):fn(()=>t)}var Vs=n("tf+s");const qs=new r.r("angularfire2.auth.use-emulator"),Bs=new r.r("angularfire2.auth.settings"),Hs=new r.r("angularfire2.auth.tenant-id"),zs=new r.r("angularfire2.auth.langugage-code"),Ws=new r.r("angularfire2.auth.use-device-language"),Gs=new r.r("angularfire.auth.persistence");let Ks=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ks.d(i),d=Object(ks.h)(h),f=new Ke.a,p=Object(Ge.a)(void 0).pipe(Object(js.b)(h.outsideAngular),fn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(bt.a)(()=>Object(ks.g)(t,i,e)),Object(bt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ks.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ls({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ge.a)(null);else{p.pipe(Hn()).subscribe();const t=p.pipe(fn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Ls({bufferSize:1,refCount:!1})),e=t=>new yt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(fn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(fn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Us(n),Object(Vs.a)(h.outsideAngular),Object(js.b)(h.insideAngular)),this.user=t.pipe(Us(r),Object(Vs.a)(h.outsideAngular),Object(js.b)(h.insideAngular)),this.idToken=this.user.pipe(fn(t=>t?Object(wt.a)(t.getIdToken()):Object(Ge.a)(null))),this.idTokenResult=this.user.pipe(fn(t=>t?Object(wt.a)(t.getIdTokenResult()):Object(Ge.a)(null))),this.credential=Object(Cs.a)(t,f,this.authState.pipe(En(t=>!t))).pipe(Object(bt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Vs.a)(h.outsideAngular),Object(js.b)(h.insideAngular))}return Object(ks.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ks.c),r.Tb(ks.b,8),r.Tb(r.C),r.Tb(r.A),r.Tb(qs,8),r.Tb(Bs,8),r.Tb(Hs,8),r.Tb(zs,8),r.Tb(Ws,8),r.Tb(Gs,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ks.c),Object(r.Tb)(ks.b,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(qs,8),Object(r.Tb)(Bs,8),Object(r.Tb)(Hs,8),Object(r.Tb)(zs,8),Object(r.Tb)(Ws,8),Object(r.Tb)(Gs,8))},token:t,providedIn:"any"}),t})();Object(ks.e)(Ks,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var Qs=n("Jgta");function $s(t){return null==t}function Ys(t){return"function"==typeof t.set}function Js(t,e){return Ys(e)?e:t.ref(e)}function Xs(t,e){if("string"==typeof t)return e.stringCase();if(Ys(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Zs(t,e,n="on",r=Os.b){return new yt.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(bt.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(Es.a)())}function ta(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function ea(t,e){const{payload:n,prevKey:r,key:i}=e,o=ta(t,i),s=function(t,e){if($s(e))return 0;{const n=ta(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function na(t){return($s(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ra(t,e,n){return function(t,e,n){return Zs(t,"value","once",n).pipe(fn(r=>{const i=[Object(Ge.a)(r)];return e.forEach(e=>i.push(Zs(t,e,"on",n))),Object(Cs.a)(...i).pipe(wn(ea,[]))}),Ss())}(t,e=na(e),n)}function ia(t,e,n){const r=(e=na(e)).map(e=>Zs(t,e,"on",n));return Object(Cs.a)(...r)}function oa(t,e){return function(n,r){return Xs(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function sa(t,e){return function(){return Zs(t,"value","on",e)}}const aa=new r.r("angularfire2.realtimeDatabaseURL"),ua=new r.r("angularfire2.database.use-emulator");let ca=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ks.d(i),this.keepUnstableUntilFirst=Object(ks.h)(this.schedulers);const a=o,u=Object(ks.g)(t,i,e);!Qs.a.auth&&s&&Object(ks.j)(),this.database=Object(ks.f)(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Js(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:oa(r,"update"),set:oa(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?Xs(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>ra(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>ia(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return Zs(t,"value","on",e).pipe(Object(bt.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Is(t,n))}}(e),Object(bt.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new Ds(r))),Object(bt.a)(t=>t.actions));var r}(t,ia(t,e).pipe(wn((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>ra(t,r,n).pipe(Object(bt.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>Js(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>sa(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>sa(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(bt.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ks.c),r.Tb(ks.b,8),r.Tb(aa,8),r.Tb(r.C),r.Tb(r.A),r.Tb(ua,8),r.Tb(qs,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ks.c),Object(r.Tb)(ks.b,8),Object(r.Tb)(aa,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(ua,8),Object(r.Tb)(qs,8))},token:t,providedIn:"any"}),t})(),la=(()=>{class t{constructor(t,e){this._HttpClient=t,this._AngularFireDatabase=e,this.addNew=new $e(null),this.totalprice=new $e(null),this.totalamount=new $e(null),this.myprcent=new $e(null),this.deletbtn=new $e(null),this.veez=new $e(null),this.showbag=new $e(null),this.hidebag=new $e(null),this.realtimecart=new $e(null),this.realtimedelet=new $e(null),this.arra=[],this.link="https://e-commarce-cd02e-default-rtdb.firebaseio.com/refoo.json",this.mycart=JSON.parse(localStorage.getItem("cart"))||[],this.calcuamount(this.mycart)}calcuamount(t){if(0==t.length)this.totalprice.next(0),this.totalamount.next(0),this.myprcent.next(0);else{let e=0,n=0;t.forEach(t=>{e+=t.price*t.amount,n+=t.amount}),this.totalprice.next(e),this.totalamount.next(n),this.myprcent.next(e/100*100)}}showbagFun(){this.showbag.next(!0)}hidebagFun(){this.hidebag.next(!0)}sendThisToDelet(t){this.deletbtn.next(t)}realtime(t){this.realtimecart.next(t)}deletdiv(t){this.realtimedelet.next(t)}additem(t){this.arra=JSON.parse(localStorage.getItem("cart"))||[],this.arra.push(t),this.addNew.next(this.arra),this.savetolocal(this.addNew.value)}onload(){this.addNew.next(JSON.parse(localStorage.getItem("cart"))||[])}deleteitem(t){let e=this.addNew.value.filter(e=>e.id!=t.id);this.addNew.next(e)}savetolocal(t){localStorage.setItem("cart",JSON.stringify(t))}getalldata(){return this._HttpClient.get("https://e-commarce-cd02e-default-rtdb.firebaseio.com/refoo.json")}getadminpass(){return this._HttpClient.get("https://e-commarce-cd02e-default-rtdb.firebaseio.com/refoo.json")}deletefromfire(t){this._HttpClient.delete(`https://e-commarce-cd02e-default-rtdb.firebaseio.com/refoo/${t}.json`).subscribe(t=>{})}updatefire(t,e){this._AngularFireDatabase.list("refoo").set(`${t}`,e)}senddata(t){this._HttpClient.post("https://e-commarce-cd02e-default-rtdb.firebaseio.com/refoo.json/",t).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ss),r.Tb(ca))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ha{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new da(t,this.dueTime,this.scheduler))}}class da extends Je.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fa,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function fa(t){t.debouncedNext()}var pa=n("zIRd"),ga=n("mrSG"),ma=n("qOnz"),ya=n("/6Yf"),va="firebasestorage.googleapis.com",ba=function(t){function e(n,r){var i=t.call(this,_a(n),"Firebase Storage: "+r+" ("+_a(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(ga.c)(e,t),e.prototype._codeEquals=function(t){return _a(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(ma.c);function _a(t){return"storage/"+t}function wa(){return new ba("unknown","An unknown error occurred, please check the error payload for server response.")}function Oa(){return new ba("canceled","User canceled the upload/download.")}function Ca(){return new ba("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ea(t){return new ba("invalid-argument",t)}function Sa(){return new ba("app-deleted","The Firebase app was deleted.")}function Ta(t){return new ba("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xa(t,e){return new ba("invalid-format","String does not match format '"+t+"': "+e)}function Ia(t){throw new ba("internal-error","Internal error: "+t)}var Aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Da=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Pa(t,e){switch(t){case Aa.RAW:return new Da(ka(e));case Aa.BASE64:case Aa.BASE64URL:return new Da(ja(t,e));case Aa.DATA_URL:return new Da((n=new Na(e)).base64?ja(Aa.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(VC){throw xa(Aa.DATA_URL,"Malformed data URL.")}return ka(e)}(n.rest),new Na(e).contentType)}var n;throw wa()}function ka(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ja(t,e){switch(t){case Aa.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw xa(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Aa.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(VC){throw xa(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Na=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw xa(Aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Ra={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fa(t){switch(t){case"running":case"pausing":case"canceling":return Ra.RUNNING;case"paused":return Ra.PAUSED;case"success":return Ra.SUCCESS;case"canceled":return Ra.CANCELED;case"error":default:return Ra.ERROR}}var Ma=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),La=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ma.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ma.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ma.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Ia("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Ia("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Ia("cannot .getStatus() before sending");try{return this.xhr_.status}catch(VC){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Ia("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ua=function(){function t(){}return t.prototype.createXhrIo=function(){return new La},t}(),Va=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(VC){return new t(e,"")}if(""===n.path)return n;throw new ba("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=va.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new ba("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),qa=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Ba(t){return"string"==typeof t||t instanceof String}function Ha(t){return za()&&t instanceof Blob}function za(){return"undefined"!=typeof Blob}function Wa(t,e,n,r){if(r<e)throw Ea("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Ea("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Ga(t){return"https://"+va+"/v0"+t}function Ka(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Qa=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(VC){o(VC)}else null!==s?((r=wa()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Sa():Oa():new ba("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new $a(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new $a(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ma.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new $a(s,n))}else{var a=n.getErrorCode()===Ma.ABORT;e(!1,new $a(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(ga.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(ga.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),$a=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Ya(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ja(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ya();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(za())return new Blob(t);throw new ba("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Xa=function(){function t(t,e){var n=0,r="";Ha(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ha(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(za()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Ja.apply(null,r))}var i=e.map(function(t){return Ba(t)?Pa(Aa.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Za(t){var e,n;try{e=JSON.parse(t)}catch(VC){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function tu(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function eu(t,e){return e}var nu=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||eu}}(),ru=null;function iu(){if(ru)return ru;var t=[];t.push(new nu("bucket")),t.push(new nu("generation")),t.push(new nu("metageneration")),t.push(new nu("name","fullPath",!0));var e=new nu("name");e.xform=function(t,e){return function(t){return!Ba(t)||t.length<2?t:tu(t)}(e)},t.push(e);var n=new nu("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new nu("timeCreated")),t.push(new nu("updated")),t.push(new nu("md5Hash",null,!0)),t.push(new nu("cacheControl",null,!0)),t.push(new nu("contentDisposition",null,!0)),t.push(new nu("contentEncoding",null,!0)),t.push(new nu("contentLanguage",null,!0)),t.push(new nu("contentType",null,!0)),t.push(new nu("metadata","customMetadata",!0)),ru=t}function ou(t,e,n){var r=Za(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Va(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function su(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var au=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function uu(t){if(!t)throw wa()}function cu(t,e){return function(n,r){var i=ou(t,r,e);return uu(null!==i),i}}function lu(t){return function(e,n){var r;return(r=401===e.getStatus()?new ba("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ba("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ba("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function hu(t){var e=lu(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new ba("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function du(t,e,n){var r=Ga(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new au(r,"GET",cu(t,n),i);return o.errorHandler=hu(e),o}function fu(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var pu=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function gu(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(VC){uu(!1)}return uu(!!n&&-1!==(e||["active"]).indexOf(n)),n}var mu=262144,yu=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function vu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var bu=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=iu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=fu(e,r,i),a={name:s.fullPath},u=Ga(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=su(s,n),h=new au(u,"POST",function(t){var e;gu(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(VC){uu(!1)}return uu(Ba(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=lu(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new au(n,"POST",function(t){var e=gu(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(VC){uu(!1)}n||uu(!1);var i=Number(n);return uu(!isNaN(i)),new pu(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=lu(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=mu*this._chunkMultiplier,n=new pu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new pu(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ba("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw Ca();var p=new au(n,"POST",function(t,n){var i,s=gu(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?cu(e,o)(t,n):null,new pu(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=lu(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(VC){return t._error=VC,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){mu*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=du(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=fu(e,r,i),c=su(u,n),l=Xa.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Ca();var h={name:u.fullPath},d=Ga(o),f=t.maxUploadRetryTime,p=new au(d,"POST",cu(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=lu(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Oa(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Fa(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new yu(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Fa(this._state)){case Ra.SUCCESS:vu(this._resolve.bind(null,this.snapshot))();break;case Ra.CANCELED:case Ra.ERROR:vu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Fa(this._state)){case Ra.RUNNING:case Ra.PAUSED:t.next&&vu(t.next.bind(t,this.snapshot))();break;case Ra.SUCCESS:t.complete&&vu(t.complete.bind(t))();break;case Ra.CANCELED:case Ra.ERROR:t.error&&vu(t.error.bind(t,this._error))();break;default:t.error&&vu(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),_u=function(){function t(t,e){this._service=t,this._location=e instanceof Va?e:Va.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Va(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return tu(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Va(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Ta(t)},t}();function wu(t){var e={prefixes:[],items:[]};return Ou(t,e).then(function(){return e})}function Ou(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:return[4,Cu(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ou(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Cu(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Wa("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Ga(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new au(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Za(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new Va(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new Va(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return uu(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=lu(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function Eu(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Va(t._location.bucket,n);return new _u(t.storage,r)}function Su(t){return/^[A-Za-z]+:\/\//.test(t)}function Tu(t,e){if(t instanceof Iu){var n=t;if(null==n._bucket)throw new ba("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new _u(n,n._bucket);return null!=e?Tu(r,e):r}if(void 0!==e){if(e.includes(".."))throw Ea('`path` param cannot contain ".."');return Eu(t,e)}return t}function xu(t,e){if(e&&Su(e)){if(t instanceof Iu)return new _u(t,e);throw Ea("To use ref(service, url), the first argument must be a Storage instance.")}return Tu(t,e)}var Iu=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Va.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:Va.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Wa("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Wa("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new _u(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new qa(Sa());var r=function(t,e,n,r,i){var o=Ka(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new Qa(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function Au(t,e){return xu(t,e)}var Du,Pu,ku=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ju=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ku(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new ku(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new ku(t,i,i._ref))}:{next:e.next?function(t){return e.next(new ku(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Nu=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ru(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ru(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ru=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Eu(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ju(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new bu(t,new Xa(e),n)}(t,e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Aa.RAW),this._throwIfRoot("putString");var r=Pa(e,t),i=Object(ga.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ju(new bu(this._delegate,new Xa(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,wu(t)).then(function(t){return new Nu(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Cu(t,e)}(this._delegate,t||void 0).then(function(t){return new Nu(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=du(t.storage,t._location,iu()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Ga(e.fullServerUrl()),o=su(n,r),s=t.maxOperationRetryTime,a=new au(i,"PATCH",cu(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=hu(e),a}(t.storage,t._location,e,iu()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t,e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Ga(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new au(r,"GET",function(t,e){return function(n,r){var i=ou(t,r,e);return uu(null!==i),function(t,e){var n=Za(e);if(null===n)return null;if(!Ba(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Ga("/b/"+i(t.bucket)+"/o/"+i(n))+Ka({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=hu(e),o}(t.storage,t._location,iu()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new ba("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Ga(e.fullServerUrl()),r=new au(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=hu(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Ta(t)},t}(),Fu=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Su(t))throw Ea("ref() expected a child path but got a URL, use refFromURL instead.");return new Ru(Au(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Su(t))throw Ea("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Va.makeFromUrl(t)}catch(VC){throw Ea("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ru(Au(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Mu(t){const e=function(t){return new yt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Os.a){return n=>n.lift(new ha(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(bt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Lu(t,e,n){return{getDownloadURL:()=>Object(Ge.a)(void 0).pipe(Object(js.b)(e.outsideAngular),fn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ge.a)(void 0).pipe(Object(js.b)(e.outsideAngular),fn(()=>t.getMetadata()),n),delete:()=>Object(wt.a)(t.delete()),child:r=>Lu(t.child(r),e,n),updateMetadata:e=>Object(wt.a)(t.updateMetadata(e)),put:(e,n)=>Mu(t.put(e,n)),putString:(e,n,r)=>Mu(t.putString(e,n,r)),listAll:()=>Object(wt.a)(t.listAll())}}Pu={TaskState:Ra,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Aa,Storage:Iu,Reference:Ru},(Du=pa.a).INTERNAL.registerComponent(new ya.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new Fu(r,new Iu(r,i,new Ua,n,pa.a.SDK_VERSION))},"PUBLIC").setServiceProps(Pu).setMultipleInstances(!0)),Du.registerVersion("@firebase/storage","0.4.6");const Uu=new r.r("angularfire2.storageBucket"),Vu=new r.r("angularfire2.storage.maxUploadRetryTime"),qu=new r.r("angularfire2.storage.maxOperationRetryTime");let Bu=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ks.d(i),this.keepUnstableUntilFirst=Object(ks.h)(this.schedulers);const a=Object(ks.g)(t,i,e);this.storage=Object(ks.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Lu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Lu(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Lu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ks.c),r.Tb(ks.b,8),r.Tb(Uu,8),r.Tb(r.C),r.Tb(r.A),r.Tb(Vu,8),r.Tb(qu,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ks.c),Object(r.Tb)(ks.b,8),Object(r.Tb)(Uu,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(Vu,8),Object(r.Tb)(qu,8))},token:t,providedIn:"any"}),t})(),Hu=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),zu=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Bu],imports:[Hu]}),t})(),Wu=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[M]]}),t})(),Gu=(()=>{class t{get nativeWindow(){return"undefined"!=typeof window?window:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(r.T)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ku=(()=>{class t{constructor(t){this.itemRevealedSource=new Ke.a,this.itemRevealed$=this.itemRevealedSource.asObservable(),this.window=t.nativeWindow}init(t){if(this.window){const e=t||{};e.callback=()=>this.itemRevealedSource.next(),new WOW(e).init()}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Gu))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(r.T)({factory:function(){return new t(Object(r.W)(Gu))},token:t,providedIn:"root"}),t})();function Qu(t,e){1&t&&(r.Pb(0,"small",47),r.jc(1,"Wrong password"),r.Ob())}function $u(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",42),r.Pb(1,"div",43),r.Pb(2,"input",44),r.Wb("ngModelChange",function(e){return r.fc(t),r.Yb().adminpasss=e}),r.Ob(),r.Pb(3,"div",45),r.Wb("click",function(){return r.fc(t),r.Yb().checkpassword()}),r.jc(4,"submit"),r.Ob(),r.ic(5,Qu,2,0,"small",46),r.Ob(),r.Ob()}if(2&t){const t=r.Yb();r.Cb(2),r.bc("ngModel",t.adminpasss),r.Cb(3),r.bc("ngIf",t.hidemassage)}}function Yu(t,e){if(1&t&&(r.Pb(0,"div",48),r.Pb(1,"button",33),r.jc(2),r.Zb(3,"titlecase"),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.Cb(2),r.kc(r.ac(3,1,t))}}function Ju(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",49),r.Pb(1,"div",50),r.Pb(2,"div",51),r.Pb(3,"div",52),r.Nb(4,"img",53),r.Ob(),r.Pb(5,"div",54),r.Pb(6,"h6",55),r.jc(7),r.Ob(),r.Pb(8,"h6",56),r.jc(9),r.Zb(10,"titlecase"),r.Ob(),r.Pb(11,"h6",56),r.jc(12),r.Ob(),r.Ob(),r.Pb(13,"div",57),r.Pb(14,"button",58),r.Wb("click",function(){r.fc(t);const n=e.$implicit;return r.Yb().update(n,n.id)}),r.jc(15,"update"),r.Ob(),r.Pb(16,"button",59),r.jc(17,"delete"),r.Ob(),r.Ob(),r.Ob(),r.Pb(18,"div",60),r.Pb(19,"div",61),r.Pb(20,"div",62),r.Pb(21,"div",63),r.Pb(22,"h5",64),r.jc(23,"--Confirm Deleting--"),r.Ob(),r.Pb(24,"button",65),r.Pb(25,"span",66),r.jc(26,"\xd7"),r.Ob(),r.Ob(),r.Ob(),r.Pb(27,"div",67),r.jc(28," Confirm... to delete this items from database "),r.Ob(),r.Pb(29,"div",68),r.Pb(30,"button",69),r.jc(31,"Close"),r.Ob(),r.Pb(32,"button",70),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().delete(n,i.id)}),r.jc(33,"Confirm"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(34,"div",71),r.Pb(35,"div",61),r.Pb(36,"div",62),r.Pb(37,"div",63),r.Pb(38,"h5",64),r.jc(39,"Update Items"),r.Ob(),r.Pb(40,"button",65),r.Pb(41,"span",66),r.jc(42,"\xd7"),r.Ob(),r.Ob(),r.Ob(),r.Pb(43,"div",67),r.Pb(44,"div",16),r.Pb(45,"input",17),r.Wb("ngModelChange",function(e){return r.fc(t),r.Yb().updatetitle=e}),r.Ob(),r.Ob(),r.Pb(46,"div",18),r.Pb(47,"input",19),r.Wb("ngModelChange",function(e){return r.fc(t),r.Yb().updateprice=e}),r.Ob(),r.Ob(),r.Pb(48,"div",20),r.Pb(49,"div",21),r.Pb(50,"span",22),r.jc(51,"Upload"),r.Ob(),r.Ob(),r.Pb(52,"div",23),r.Pb(53,"input",24),r.Wb("change",function(e){return r.fc(t),r.Yb().updateimg(e)}),r.Ob(),r.Pb(54,"label",25),r.jc(55),r.Ob(),r.Ob(),r.Ob(),r.Pb(56,"div",18),r.Pb(57,"input",26),r.Wb("ngModelChange",function(e){return r.fc(t),r.Yb().updatecatogry=e}),r.Ob(),r.Ob(),r.Ob(),r.Pb(58,"div",68),r.Pb(59,"button",69),r.jc(60,"Close"),r.Ob(),r.Pb(61,"button",72),r.Wb("click",function(){return r.fc(t),r.Yb().sendupdate()}),r.jc(62,"Save changes"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit,n=r.Yb();r.Cb(4),r.bc("src",t.image,r.gc),r.Cb(3),r.kc(t.title),r.Cb(2),r.kc(r.ac(10,8,t.catogry)),r.Cb(3),r.lc("$",t.price,""),r.Cb(33),r.bc("ngModel",n.updatetitle),r.Cb(2),r.bc("ngModel",n.updateprice),r.Cb(8),r.kc(n.updatename),r.Cb(2),r.bc("ngModel",n.updatecatogry)}}function Xu(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ul",73),r.Pb(1,"li",74),r.Wb("click",function(){r.fc(t);const n=e.index;return r.Yb().ChangePage(12*n)}),r.Pb(2,"a",75),r.jc(3),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.index;r.Cb(3),r.kc(t)}}let Zu=(()=>{class t{constructor(t,e,n){this._SendGetService=t,this.storage=e,this.wowService=n,this.amount=1,this.pagearray=[],this.catogery=[],this.PageNumArray=[],this.hide=!0,this.hidemassage=!1,this.basePath="/uploads",this._SendGetService.getalldata().pipe(Object(bt.a)(t=>{const e=[];for(let n in t)e.push(Object.assign(Object.assign({},t[n]),{id:n}));return e})).subscribe(t=>{this.alldata=t,this.calculatpage(this.alldata),this.PageNumArray=this.alldata,this.alldata.forEach(t=>{this.catogery.push(t.catogry)}),this.catogery=[...new Set(this.catogery)],this.cululateTotalPrice(this.alldata)})}cululateTotalPrice(t){let e=0,n=0;t.forEach(t=>{e+=t.price,n+=t.amount}),this.totalamount=n,this.totalprice=e}calculatpage(t){this.pagearray=t.slice(0,12);let e=Math.ceil(t.length/12);this.mypagearray=Array(e)}catfilter(){document.querySelectorAll(".catbtn").forEach(t=>{t.addEventListener("click",()=>{let e=t.innerHTML.toLowerCase();if("all"===e)this.calculatpage(this.alldata),this.PageNumArray=this.alldata;else{let t=this.alldata.filter(t=>t.catogry.toLowerCase()==e);this.calculatpage(t),this.PageNumArray=t}})})}ChangePage(t){let e=t+12,n=[];for(let i=t;i<e;i++)n.push(this.PageNumArray[i]);let r=n.filter(t=>null!=t);this.pagearray=r}load(t){this.pathname=t.srcElement.files[0].name,this.pathfile=t.target.files[0]}senddata(){const t=`${this.basePath}/${this.pathname}`,e=this.storage.ref(t),n=this.storage.upload(t,this.pathfile);return n.snapshotChanges().pipe(Gn(()=>{e.getDownloadURL().subscribe(t=>{this.myoject={title:this.title,image:`${t}`,catogry:this.catogry,price:this.price,amount:this.amount},this._SendGetService.senddata(this.myoject),this.title="",this.image="",this.catogry="",this.pathname="",this.price=0})})).subscribe(),n.percentageChanges()}delete(t,e){t.path[6].remove(),this._SendGetService.deletefromfire(e)}updateimg(t){this.updatename=t.srcElement.files[0].name,this.updatefile=t.target.files[0],this.updateimagefire()}updateimagefire(){const t=`${this.basePath}/${this.updatename}`,e=this.storage.ref(t),n=this.storage.upload(t,this.updatefile);return n.snapshotChanges().pipe(Gn(()=>{e.getDownloadURL().subscribe(t=>{this.updateimage=t})})).subscribe(),n.percentageChanges()}update(t,e){this.updatetitle=t.title,this.updateimage=t.image,this.updatecatogry=t.catogry,this.updateprice=t.price,this.updateTagetId=e}sendupdate(){this._SendGetService.updatefire(this.updateTagetId,{title:this.updatetitle,image:this.updateimage,catogry:this.updatecatogry,price:this.updateprice,amount:this.amount}),this.updatetitle="",this.updateimage="",this.updatecatogry="",this.updateprice=0}checkpassword(){this._SendGetService.getadminpass().subscribe(t=>{t==this.adminpasss?(localStorage.setItem("adminpass",JSON.stringify(!1)),this.hide=!1):this.hidemassage=!0})}ngOnInit(){this.hide=JSON.parse(localStorage.getItem("adminpass")),this.wowService.init(),setTimeout(()=>{this.catfilter()},1e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la),r.Mb(Bu),r.Mb(Ku))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-addnewitems"]],decls:64,vars:10,consts:[["class","adminpass",4,"ngIf"],[1,"container","my-5"],[1,"banar","border","text-center"],[1,"mb-0","py-2"],[1,"row","mt-5"],[1,"col-md-6"],[1,"containinfo","text-center","py-4"],[1,"mb-3"],["id","accordionExample",1,"accordion","mt-5"],[1,"card","cardborder"],["id","headingOne",1,"card-header"],[1,"mb-0"],["type","button","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","btn-block","text-left"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordionExample",1,"collapse"],[1,"card-body"],[1,"container","w-75","text-center","mt-5"],[1,"form-group","mb-4","mt-5"],["type","text","name","","id","","aria-describedby","helpId","placeholder","title",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-4"],["type","number","name","","id","","aria-describedby","helpId","placeholder","price",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","inputGroupFileAddon01",1,"input-group-text"],[1,"custom-file"],["accept","*.jpg.png","type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["for","inputGroupFile01",1,"custom-file-label"],["type","text","name","","id","","aria-describedby","helpId","placeholder","catogry",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","my-5",2,"background-color","#8A61FD !important","color","rgb(255, 255, 255)",3,"click"],["id","headingTwo",1,"card-header"],["type","button","data-toggle","collapse","data-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","btn-link","btn-block","text-left","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-parent","#accordionExample",1,"collapse"],[1,"container"],[1,"divflex","mb-5","w-100",2,"display","flex"],[1,"btn","catbtn","text-light","border","mr-3","px-3"],["class","category ",4,"ngFor","ngForOf"],[1,"row","mb-5"],["class","col-md-4 p-1 wow animate__zoomIn","data-wow-duration","0.5s","data-wow-delay","s",4,"ngFor","ngForOf"],[1,"page"],["aria-label","Page navigation example"],[1,"div",2,"display","flex"],["class","pagination",4,"ngFor","ngForOf"],[1,"div",2,"height","1500px"],[1,"adminpass"],[1,"form-group"],["type","password","name","","id","","aria-describedby","helpId","placeholder","admin password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","mt-2","btn-danger",3,"click"],["id","helpId","class","form-text text-muted",4,"ngIf"],["id","helpId",1,"form-text","text-muted"],[1,"category"],["data-wow-duration","0.5s","data-wow-delay","s",1,"col-md-4","p-1","wow","animate__zoomIn"],[1,"contain","py-1","px-3","border",2,"background-color","#F2F2F2","border-radius","6px"],[1,"row"],[1,"col-md-3","col-3"],["alt","",1,"img-fluid",2,"border-radius","6px",3,"src"],[1,"col-md-6","col-6",2,"text-align","center"],[2,"font-size","small"],[2,"font-size","x-small"],[1,"col-md-3","col-3",2,"display","flex","align-items","center","flex-direction","column"],["data-toggle","modal","data-target","#exampleModal2","type","button",1,"btn","btn-sm","btn-info",3,"click"],["data-toggle","modal","data-target","#exampleModal",1,"btn","btn-sm","btn-danger","mt-3"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["data-dismiss","modal","type","button",1,"btn","btn-danger",3,"click"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button",1,"btn","btn-info",3,"click"],[1,"pagination"],[1,"page-item","pageclass",3,"click"],[1,"page-link"]],template:function(t,e){1&t&&(r.ic(0,$u,6,2,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"h4",3),r.jc(4,"Admin Panal"),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"div",5),r.Pb(7,"div",6),r.Pb(8,"h3",7),r.jc(9),r.Ob(),r.Pb(10,"h3"),r.jc(11,"Total Products"),r.Ob(),r.Ob(),r.Ob(),r.Pb(12,"div",5),r.Pb(13,"div",6),r.Pb(14,"h3",7),r.jc(15),r.Ob(),r.Pb(16,"h3"),r.jc(17,"Total Amount"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(18,"div",8),r.Pb(19,"div",9),r.Pb(20,"div",10),r.Pb(21,"h2",11),r.Pb(22,"button",12),r.jc(23," ADD NEW ITEMS "),r.Ob(),r.Ob(),r.Ob(),r.Pb(24,"div",13),r.Pb(25,"div",14),r.Pb(26,"div",15),r.Pb(27,"h4"),r.jc(28,"ADD NEW ITEMS"),r.Ob(),r.Pb(29,"div",16),r.Pb(30,"input",17),r.Wb("ngModelChange",function(t){return e.title=t}),r.Ob(),r.Ob(),r.Pb(31,"div",18),r.Pb(32,"input",19),r.Wb("ngModelChange",function(t){return e.price=t}),r.Ob(),r.Ob(),r.Pb(33,"div",20),r.Pb(34,"div",21),r.Pb(35,"span",22),r.jc(36,"Upload"),r.Ob(),r.Ob(),r.Pb(37,"div",23),r.Pb(38,"input",24),r.Wb("change",function(t){return e.load(t)}),r.Ob(),r.Pb(39,"label",25),r.jc(40),r.Ob(),r.Ob(),r.Ob(),r.Pb(41,"div",18),r.Pb(42,"input",26),r.Wb("ngModelChange",function(t){return e.catogry=t}),r.Ob(),r.Ob(),r.Pb(43,"div",27),r.Wb("click",function(){return e.senddata()}),r.jc(44,"SEND DATA"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(45,"div",9),r.Pb(46,"div",28),r.Pb(47,"h2",11),r.Pb(48,"button",29),r.jc(49," UPDATE & DELETE "),r.Ob(),r.Ob(),r.Ob(),r.Pb(50,"div",30),r.Pb(51,"div",14),r.Pb(52,"div",31),r.Pb(53,"div",32),r.Pb(54,"button",33),r.jc(55,"All"),r.Ob(),r.ic(56,Yu,4,3,"div",34),r.Ob(),r.Pb(57,"div",35),r.ic(58,Ju,63,10,"div",36),r.Ob(),r.Pb(59,"div",37),r.Pb(60,"nav",38),r.Pb(61,"div",39),r.ic(62,Xu,4,1,"ul",40),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(63,"div",41),r.Ob()),2&t&&(r.bc("ngIf",e.hide),r.Cb(9),r.kc(e.totalamount),r.Cb(6),r.lc("$",e.totalprice,""),r.Cb(15),r.bc("ngModel",e.title),r.Cb(2),r.bc("ngModel",e.price),r.Cb(8),r.kc(e.pathname),r.Cb(2),r.bc("ngModel",e.catogry),r.Cb(14),r.bc("ngForOf",e.catogery),r.Cb(2),r.bc("ngForOf",e.pagearray),r.Cb(4),r.bc("ngForOf",e.mypagearray))},directives:[k,It,Yt,Re,Zt,D],pipes:[F],styles:[".adminpass[_ngcontent-%COMP%]{background-color:#353535;width:100%;height:100vh;position:fixed;top:0;bottom:0;z-index:55;display:flex;justify-content:center;align-items:center}.banar[_ngcontent-%COMP%]{background-color:#f2f2f2}.banar[_ngcontent-%COMP%], .cardborder[_ngcontent-%COMP%], .containinfo[_ngcontent-%COMP%]{border-radius:12px}.containinfo[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#8a61fd}.catbtn[_ngcontent-%COMP%]{background-color:#8a61fd;cursor:pointer}.catbtn[_ngcontent-%COMP%]:hover{background-color:#a690e2}.between[_ngcontent-%COMP%]{width:100%;height:60px}.page[_ngcontent-%COMP%]{display:flex;justify-content:center}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.page-link[_ngcontent-%COMP%]{color:#8a61fd!important}.pageclass[_ngcontent-%COMP%]{cursor:pointer}.btn-link[_ngcontent-%COMP%]{color:#8a61fd}"]}),t})();function tc(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",28),r.Pb(1,"div",29),r.Pb(2,"div",30),r.Pb(3,"div",31),r.Nb(4,"img",32),r.Ob(),r.Pb(5,"div",33),r.Pb(6,"div",8),r.Pb(7,"p",34),r.jc(8),r.Ob(),r.Pb(9,"p",35),r.jc(10),r.Ob(),r.Ob(),r.Pb(11,"div",36),r.Pb(12,"div",37),r.Pb(13,"i",38),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().addminus(n,i.id)}),r.Ob(),r.Ob(),r.Pb(14,"div",39),r.jc(15),r.Ob(),r.Pb(16,"div",37),r.Pb(17,"i",40),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().addplus(n,i.id)}),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(18,"div",41),r.Pb(19,"div",42),r.jc(20),r.Ob(),r.Pb(21,"div",43),r.Wb("click",function(){r.fc(t);const n=e.$implicit;return r.Yb().deletediv(n.id)}),r.Nb(22,"i",44),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.Cb(4),r.bc("src",t.image,r.gc),r.Cb(4),r.kc(t.title),r.Cb(2),r.kc(t.catogry),r.Cb(5),r.kc(t.amount),r.Cb(5),r.lc("$",t.price,"")}}let ec=(()=>{class t{constructor(t,e,n){this._SendGetService=t,this._Router=e,this.wowService=n,this.showcarthere=document.querySelector(".showcarthere"),this.mycart=JSON.parse(localStorage.getItem("cart"))||[],this.veez=0,this._SendGetService.addNew.subscribe(t=>{this.showitem=t}),this._SendGetService.totalprice.subscribe(t=>{0==t&&(this.veez=0,this.totalprice=0,this.totalpriceandveez=0),t>0&&(this.veez=2,this.totalprice=t,this.totalpriceandveez=this.totalprice+this.veez),t>99.99&&(this.veez=0,this.totalprice=t,this.totalpriceandveez=this.totalprice+this.veez)})}addplus(t,e){let n=this._SendGetService.addNew.value.find(t=>t.id==e);n.amount+=1,t.path[2].children[1].innerHTML=n.amount,this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value)}addminus(t,e){let n=this._SendGetService.addNew.value.find(t=>t.id==e);1===n.amount?(this.deletediv(e),this._SendGetService.sendThisToDelet(e)):(n.amount-=1,t.path[2].children[1].innerHTML=n.amount,this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value))}deletediv(t){let e=this._SendGetService.addNew.value.find(e=>e.id===t);this.showcarthere=document.querySelector(".showcarthere"),this._SendGetService.sendThisToDelet(t),this._SendGetService.deleteitem(e),this.removefromcart(t)}removefromcart(t){let e=this._SendGetService.addNew.value.filter(e=>e.id!=t);this._SendGetService.addNew.next(e),this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value),this._SendGetService.deletdiv(t)}ngOnInit(){this.wowService.init(),this._SendGetService.myprcent.subscribe(t=>{document.getElementById("Noite2").style.width=`${t}%`}),this._Router.events.subscribe(t=>{t instanceof Jn&&window.scrollTo(0,0)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la),r.Mb(_o),r.Mb(Ku))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-cart"]],decls:48,vars:4,consts:[[1,"maincart","mt-5","pt-3"],[1,"container","border","p-4"],[1,"row"],[1,"col-md-7","col-12","px-4"],[1,"contain"],[2,"font-size","35px","font-weight","900"],[1,"row","mt-5"],[1,"col-md-12"],[1,"div"],[1,"fas","fa-truck","fa-lg","mb-3","mt-4"],[2,"font-size","15px","font-weight","700"],[1,"progress","mb-4"],["id","Noite2",1,"secundbar"],[1,"showcarthere"],["class","div wow animate__bounceInLeft","data-wow-duration","1s","data-wow-delay","s",4,"ngFor","ngForOf"],[1,"col-md-5","col-12","px-4","mt-5"],["data-wow-duration","1s","data-wow-delay","s",1,"contain","border","p-3","wow","animate__bounceInRight"],[2,"font-weight","900"],[1,"total","mt-5"],[1,"subtotal"],[1,"text"],[1,"mb-1"],[1,"subtotal",2,"color","#969696","font-size","smaller"],[1,"my-2"],[1,"subtotal","mb-4"],[1,"subtot","text-center","mt-5","mb-4"],["routerLink","/cart",1,"btn","Cartbtn","border1","px-4","text-light"],[1,"space"],["data-wow-duration","1s","data-wow-delay","s",1,"div","wow","animate__bounceInLeft"],[1,"col-md-12","mt-3"],[1,"row","py-2",2,"border-radius","12px","background-color","#f7f7f7"],[1,"col-md-2","col-2"],["routerLink","/oneproudect","alt","",1,"border","img-fluid",2,"border-radius","15px","cursor","pointer",3,"src"],[1,"col-md-7","col-7","px-3","pt-2",2,"display","flex","justify-content","space-between"],[1,"mb-1",2,"font-weight","800","font-size","12px"],[2,"color","rgb(128, 128, 128)","font-size","smaller"],[1,"div","rewer","border","ml-2",2,"height","25px","border-radius","20px","display","flex","justify-content","space-around"],[1,"1","pt-1",2,"font-size","12px","color","#969696"],[1,"fas","fa-minus",3,"click"],[1,"number",2,"font-size","13px","font-weight","900","color","#4d4d4d"],[1,"fas","fa-plus",3,"click"],[1,"col-md-3","col-3","pt-2","px-4",2,"display","flex","justify-content","space-between"],[1,"1","number",2,"font-size","15px","padding-top","2px","color","#4d4d4d"],[2,"color","#969696","cursor","pointer",3,"click"],[1,"closebtn","far","fa-times-circle"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"h2",5),r.jc(6,"Shopping Cart !"),r.Ob(),r.Pb(7,"div",6),r.Pb(8,"div",7),r.Pb(9,"div",8),r.Nb(10,"i",9),r.Pb(11,"p",10),r.jc(12,"Get Free Shopping"),r.Ob(),r.Pb(13,"div",11),r.Nb(14,"div",12),r.Ob(),r.Ob(),r.Ob(),r.Pb(15,"div",13),r.ic(16,tc,23,5,"div",14),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(17,"div",15),r.Pb(18,"div",16),r.Pb(19,"h4",17),r.jc(20,"Sammary"),r.Ob(),r.Pb(21,"div",18),r.Pb(22,"div",19),r.Pb(23,"div",20),r.Pb(24,"p",21),r.jc(25,"subtotal"),r.Ob(),r.Ob(),r.Pb(26,"div",20),r.Pb(27,"p",21),r.jc(28),r.Ob(),r.Ob(),r.Ob(),r.Pb(29,"div",22),r.Pb(30,"div",20),r.Pb(31,"p"),r.jc(32,"delivery + handling"),r.Ob(),r.Ob(),r.Pb(33,"div",20),r.Pb(34,"p"),r.jc(35),r.Ob(),r.Ob(),r.Ob(),r.Nb(36,"hr",23),r.Pb(37,"div",24),r.Pb(38,"div",20),r.Pb(39,"p",21),r.jc(40,"grand total"),r.Ob(),r.Ob(),r.Pb(41,"div",20),r.Pb(42,"p",21),r.jc(43),r.Ob(),r.Ob(),r.Ob(),r.Pb(44,"div",25),r.Pb(45,"div",26),r.jc(46,"Proceed To Checkout"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(47,"div",27)),2&t&&(r.Cb(16),r.bc("ngForOf",e.showitem),r.Cb(12),r.lc("$",e.totalprice,""),r.Cb(7),r.lc("$",e.veez,""),r.Cb(8),r.lc("$",e.totalpriceandveez,""))},directives:[D,wo],styles:[".icon[_ngcontent-%COMP%]{display:flex}.progress[_ngcontent-%COMP%]{width:100%;background-color:#eee;height:12px;border-radius:8px;overflow:hidden}.secundbar[_ngcontent-%COMP%]{width:0;background-color:#fde25a}#Noite2[_ngcontent-%COMP%]{transition:all 2s}.border[_ngcontent-%COMP%]{border-radius:15px}.fas[_ngcontent-%COMP%]{cursor:pointer}.space[_ngcontent-%COMP%]{height:50vh}.subtotal[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.Cartbtn[_ngcontent-%COMP%]{background-color:#8a61fd}.border1[_ngcontent-%COMP%]{border-radius:20px}"]}),t})();var nc=n("SjWa");let rc=(()=>{class t{constructor(){}ngOnInit(){new nc.Splide("#splide").mount()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:76,vars:0,consts:[[1,"contain","mt-5","p-3","mb-5"],[1,"main","border","text-center","pt-5"],[2,"font-size","40px","font-weight","700"],[1,"mt-4"],["routerLink","/product",1,"btn","btn-primary","mainbtn","text-light","border","px-4","py-2","mt-5"],[1,"hand"],["src","../../assets/hands_PNG921.png","alt",""],[1,"partener","px-5","text-center","mb-5"],[2,"font-family","'Yanone Kaffeesatz', sans-serif","font-size","40px","font-weight","700"],[1,"row","mt-5"],[1,"col-md-3","col-lg-2","col-xl-1","col-4","mb-3"],[1,"contain_partner"],["src","../../assets/partener/11.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/1.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/7.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/8.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/2.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/4.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/5.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/6.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/9.jpg","alt","",1,"img-fluid","border"],["src","../../assets/partener/10.png","alt","",1,"img-fluid","border"],["src","../../assets/partener/3.jpg","alt","",1,"img-fluid","border"],[1,"col-md-3","col-lg-2","col-xl-1","col-4","mb-5"],["src","../../assets/partener/12.jpg","alt","",1,"img-fluid","border"],[1,"betwen"],[1,"all","border","py-4","m-5"],[1,"new","container","mx-auto","text-left"],[1,"row","my-5"],[1,"col-md-6","col-12","mb-4","mr-5"],[1,"newcontain"],["src","../../assets/newarive/5f632e37ac3a5.jpg","alt","",1,"img-fluid","border"],[1,"col-md-5","col-12","mt-2"],[1,"row","fixbetween"],[1,"col-md-6","col-6","mb-5"],["src","../../assets/newarive/1.jpg","alt","",1,"img-fluid","border"],[1,"col-md-6","col-6"],["src","../../assets/newarive/2.jpg","alt","",1,"img-fluid","border"],["src","../../assets/newarive/3.jpg","alt","",1,"img-fluid","border"],["src","../../assets/newarive/4.jpg","alt","",1,"img-fluid","border"],["routerLink","/product",1,"div","text-center"],[1,"btn","btn-primary","mainbtn","text-light","border","px-4","py-2","mt-5"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"p",2),r.jc(3,"Discover Our New Collection..."),r.Ob(),r.Pb(4,"p",3),r.jc(5,"Lorem ipsum dolor sit amet consectetur adipisicing."),r.Ob(),r.Pb(6,"div",4),r.jc(7,"Our Products"),r.Ob(),r.Pb(8,"div",5),r.Nb(9,"img",6),r.Ob(),r.Ob(),r.Ob(),r.Pb(10,"div",7),r.Pb(11,"h4",8),r.jc(12,"Our partner"),r.Ob(),r.Pb(13,"div",9),r.Pb(14,"div",10),r.Pb(15,"div",11),r.Nb(16,"img",12),r.Ob(),r.Ob(),r.Pb(17,"div",10),r.Pb(18,"div",11),r.Nb(19,"img",13),r.Ob(),r.Ob(),r.Pb(20,"div",10),r.Pb(21,"div",11),r.Nb(22,"img",14),r.Ob(),r.Ob(),r.Pb(23,"div",10),r.Pb(24,"div",11),r.Nb(25,"img",15),r.Ob(),r.Ob(),r.Pb(26,"div",10),r.Pb(27,"div",11),r.Nb(28,"img",16),r.Ob(),r.Ob(),r.Pb(29,"div",10),r.Pb(30,"div",11),r.Nb(31,"img",17),r.Ob(),r.Ob(),r.Pb(32,"div",10),r.Pb(33,"div",11),r.Nb(34,"img",18),r.Ob(),r.Ob(),r.Pb(35,"div",10),r.Pb(36,"div",11),r.Nb(37,"img",19),r.Ob(),r.Ob(),r.Pb(38,"div",10),r.Pb(39,"div",11),r.Nb(40,"img",20),r.Ob(),r.Ob(),r.Pb(41,"div",10),r.Pb(42,"div",11),r.Nb(43,"img",21),r.Ob(),r.Ob(),r.Pb(44,"div",10),r.Pb(45,"div",11),r.Nb(46,"img",22),r.Ob(),r.Ob(),r.Pb(47,"div",23),r.Pb(48,"div",11),r.Nb(49,"img",24),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(50,"div",25),r.Pb(51,"div",26),r.Pb(52,"div",27),r.Pb(53,"h4",8),r.jc(54,"New arrival"),r.Ob(),r.Pb(55,"div",28),r.Pb(56,"div",29),r.Pb(57,"div",30),r.Nb(58,"img",31),r.Ob(),r.Ob(),r.Pb(59,"div",32),r.Pb(60,"div",33),r.Pb(61,"div",34),r.Pb(62,"div",30),r.Nb(63,"img",35),r.Ob(),r.Ob(),r.Pb(64,"div",36),r.Pb(65,"div",30),r.Nb(66,"img",37),r.Ob(),r.Ob(),r.Pb(67,"div",36),r.Pb(68,"div",30),r.Nb(69,"img",38),r.Ob(),r.Ob(),r.Pb(70,"div",36),r.Pb(71,"div",30),r.Nb(72,"img",39),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(73,"div",40),r.Pb(74,"div",41),r.jc(75,"Go Shoping Now!"),r.Ob(),r.Ob(),r.Ob())},directives:[wo],styles:[".border[_ngcontent-%COMP%]{border-radius:20px}.main[_ngcontent-%COMP%]{background-color:#f2f2f2;width:100%;height:50vh;overflow:hidden}.main[_ngcontent-%COMP%], .mainbtn[_ngcontent-%COMP%]{position:relative}.mainbtn[_ngcontent-%COMP%]{z-index:100;cursor:pointer!important}.hand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;position:relative;top:-80px;right:4%;z-index:0}@media only screen and (max-width:600px){.main[_ngcontent-%COMP%]{height:70vh}}.betwen[_ngcontent-%COMP%]{height:50px}.new[_ngcontent-%COMP%]{background-color:hsla(0,0%,94.9%,.16470588235294117)}.fixbetween[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),ic=(()=>{class t{constructor(t,e){this._ActivatedRoute=t,this._SendGetService=e,this.proudectnum=t.snapshot.paramMap.get("prodectid"),this._SendGetService.getalldata().subscribe(t=>{let e=t.filter(t=>t.id==this.proudectnum);this.prodectobject=Object.assign({},e[0]),this.isincart()})}isincart(){(JSON.parse(localStorage.getItem("cart"))||[]).find(t=>t.id===this.proudectnum)?(this.prodectobject=Object.assign(Object.assign({},this.prodectobject),{incart:"In Cart"}),this.disablebtn()):this.prodectobject=Object.assign(Object.assign({},this.prodectobject),{incart:"Add To Cart"})}disablebtn(){document.getElementById("ddddd").disabled=!0}addtocart(t,e){this._SendGetService.additem(this.prodectobject),this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value),this.isincart(),t.path[0].disabled=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ti),r.Mb(la))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-oneproudect"]],decls:35,vars:4,consts:[[1,"border","m-3"],[1,"container","pt-5"],[1,"row","mb-5"],[1,"col-md-6","p-4","col-12"],["alt","",1,"img-fluid","border",2,"max-height","650px",3,"src"],[1,"col-md-6","px-4","col-12","pt-5"],[2,"font-weight","800"],[1,"mt-5","mb-3"],[1,"size","mb-4","row","px-3"],[1,"sizeone",2,"background-color","#E3D4FD","font-weight","800"],[1,"sizeone",2,"background-color","#f5f5f5","font-weight","800"],[1,"color","mb-4"],[1,"colorone",2,"background-color","#FBCA00","font-weight","800"],[1,"colorone",2,"background-color","#FD9E87","font-weight","800"],[1,"colorone",2,"background-color","#B6DBF6","font-weight","800"],[1,"colorone",2,"background-color","#BFAAFC","font-weight","800"],[1,"colorone",2,"background-color","#CDD361","font-weight","800"],[1,"colorone",2,"background-color","#FEB43E","font-weight","800"],[1,"addtocart","mt-5","pt-4","text-center"],["id","ddddd",1,"btn","ddddd","border","px-5","py-2","text-light",2,"cursor","pointer","background-color","#8758FE",3,"click"],[1,"space",2,"height","200px"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Nb(4,"img",4),r.Ob(),r.Pb(5,"div",5),r.Pb(6,"h3",6),r.jc(7),r.Ob(),r.Pb(8,"p",6),r.jc(9),r.Ob(),r.Nb(10,"hr"),r.Pb(11,"p",7),r.jc(12,"select size"),r.Ob(),r.Pb(13,"div",8),r.Pb(14,"div",9),r.jc(15,"SM"),r.Ob(),r.Pb(16,"div",10),r.jc(17,"MD"),r.Ob(),r.Pb(18,"div",10),r.jc(19,"XL"),r.Ob(),r.Ob(),r.Nb(20,"hr"),r.Pb(21,"p",7),r.jc(22,"select color"),r.Ob(),r.Pb(23,"div",11),r.Nb(24,"div",12),r.Nb(25,"div",13),r.Nb(26,"div",14),r.Nb(27,"div",15),r.Nb(28,"div",16),r.Nb(29,"div",17),r.Ob(),r.Nb(30,"hr"),r.Pb(31,"div",18),r.Pb(32,"button",19),r.Wb("click",function(t){return e.addtocart(t,e.prodectobject.id)}),r.jc(33),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(34,"div",20)),2&t&&(r.Cb(4),r.bc("src",e.prodectobject.image,r.gc),r.Cb(3),r.kc(e.prodectobject.title),r.Cb(2),r.lc("$",e.prodectobject.price,""),r.Cb(24),r.kc(e.prodectobject.incart))},styles:[".border[_ngcontent-%COMP%]{border-radius:20px}.size[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sizeone[_ngcontent-%COMP%]{width:28%;height:45px;border-radius:12px;display:flex;justify-content:center;align-items:center}.color[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.colorone[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;align-items:center;border:3px solid #e6e6e6}.addtocart[_ngcontent-%COMP%], .colorone[_ngcontent-%COMP%]{display:flex;justify-content:center}.amount[_ngcontent-%COMP%]{width:20%;height:45px;border-radius:20px;display:flex;align-items:center;justify-content:space-between}@media only screen and (max-width:600px){.amount[_ngcontent-%COMP%]{width:30%}}"]}),t})();function oc(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",21),r.Pb(1,"div",22),r.Pb(2,"div",23),r.Pb(3,"div",24),r.Nb(4,"img",25),r.Ob(),r.Ob(),r.Pb(5,"div",26),r.Pb(6,"div"),r.Pb(7,"p",27),r.jc(8),r.Ob(),r.Ob(),r.Pb(9,"div",28),r.Pb(10,"div",29),r.Pb(11,"i",30),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().addminus(n,i.id)}),r.Ob(),r.Ob(),r.Pb(12,"div",31),r.jc(13),r.Ob(),r.Pb(14,"div",29),r.Pb(15,"i",32),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().addplus(n,i.id)}),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(16,"div",33),r.Pb(17,"div",34),r.Wb("click",function(){r.fc(t);const n=e.$implicit;return r.Yb().deletediv(n.id)}),r.Nb(18,"i",35),r.Ob(),r.Pb(19,"div",36),r.jc(20),r.Ob(),r.Ob(),r.Ob(),r.Nb(21,"hr"),r.Ob()}if(2&t){const t=e.$implicit;r.cc("id",t.id),r.Cb(4),r.bc("src",t.image,r.gc),r.Cb(4),r.kc(t.title),r.Cb(5),r.kc(t.amount),r.Cb(7),r.lc("$",t.price,"")}}let sc=(()=>{class t{constructor(t,e){this._SendGetService=t,this.wowService=e,this.showbaghere=document.querySelector(".showbaghere"),this.showbaaag=document.querySelector(".shopingbag"),this.veez=0,this.mycart=JSON.parse(localStorage.getItem("cart"))||[],this._SendGetService.addNew.subscribe(t=>{this.showitem=t}),this._SendGetService.showbag.subscribe(t=>{t&&this.showbag()}),t.totalprice.subscribe(t=>{0==t&&(this.veez=0,this.totalprice=0,this.totalpriceandveez=0),t>0&&(this.veez=2,this.totalprice=t,this.totalpriceandveez=this.totalprice+this.veez),t>99.99&&(this.veez=0,this.totalprice=t,this.totalpriceandveez=this.totalprice+this.veez)}),t.totalamount.subscribe(t=>{this.totalamount=t}),this._SendGetService.myprcent.subscribe(t=>{document.getElementById("Noite").style.width=`${t}%`})}backicon(){document.querySelector(".shopingbag").classList.remove("shopingbaghow")}showbag(){document.querySelector(".shopingbag").classList.add("shopingbaghow")}addplus(t,e){let n=this._SendGetService.addNew.value.find(t=>t.id==e);n.amount+=1,t.path[2].children[1].innerHTML=n.amount,this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value)}addminus(t,e){let n=this._SendGetService.addNew.value.find(t=>t.id==e);1===n.amount?(this.deletediv(e),this._SendGetService.sendThisToDelet(e)):(n.amount-=1,t.path[2].children[1].innerHTML=n.amount,this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value))}deletediv(t){this._SendGetService.sendThisToDelet(t);let e=this._SendGetService.addNew.value.find(e=>e.id===t);e.amount=1,this._SendGetService.deleteitem(e),this._SendGetService.savetolocal(this._SendGetService.addNew.value),this._SendGetService.calcuamount(this._SendGetService.addNew.value)}closebag(){this.backicon()}ngOnInit(){this.wowService.init(),this._SendGetService.myprcent.subscribe(t=>{document.getElementById("Noite").style.width=`${t}%`}),this.showbaghere=document.querySelector(".showbaghere")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la),r.Mb(Ku))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-shoping-bag"]],decls:42,vars:4,consts:[[1,"shopingbag","px-3","pt-4"],[1,"backicon",3,"click"],[1,"fas","fa-long-arrow-alt-right"],[2,"font-size","20px","font-weight","900"],[1,"dileveryfeez","mt-5"],[2,"font-size","12px","font-weight","800"],[1,"fas","fa-truck","fa-lg"],[1,"progress"],["id","Noite",1,"secundbar"],[1,"alldata","px-3","pt-2"],[1,"row","px-4","showbaghere",2,"display","flex","flex-direction","row","overflow-y","scroll","height","300px","justify-content","flex-start"],["class","divdelete",3,"id",4,"ngFor","ngForOf"],[1,"total","mt-2"],[1,"subtotal"],[1,"text"],[1,"mb-1"],[1,"subtotal",2,"color","#969696","font-size","smaller"],[1,"my-2"],[1,"subtotal","mb-4"],[1,"subtot","text-center"],["routerLink","/cart",1,"btn","Cartbtn","border1","px-4","text-light",3,"click"],[1,"divdelete",3,"id"],[1,"row"],[1,"col-4"],[1,"contain","text-center"],["alt","",1,"img-fluid","border",2,"border-radius","12px","max-height","80px",3,"src"],[1,"col-6","px-0",2,"display","flex","flex-direction","column","justify-content","space-between"],[2,"font-size","15px"],[1,"amount","border",2,"width","45%","height","23px","border-radius","20px","display","flex","justify-content","space-around"],[1,"1","pt-1",2,"font-size","12px","color","#969696","cursor","pointer"],[1,"iconhover","fas","fa-minus",3,"click"],[1,"1","number",2,"font-size","13px","font-weight","800","color","#4d4d4d"],[1,"iconhover","fas","fa-plus",3,"click"],[1,"col-2","price","text-right","pb-2",2,"display","flex","flex-direction","column","justify-content","space-between"],[2,"color","#969696","cursor","pointer",3,"click"],[1,"closebtn","far","fa-times-circle"],[1,"1","number",2,"font-size","14px","padding-top","2px","color","#4d4d4d"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Wb("click",function(){return e.backicon()}),r.Nb(2,"i",2),r.Ob(),r.Pb(3,"h5",3),r.jc(4,"Shopping bag"),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"p",5),r.Pb(7,"span"),r.Nb(8,"i",6),r.Ob(),r.jc(9," FREE SHIPPING IN ORDER OVER $100"),r.Ob(),r.Pb(10,"div",7),r.Nb(11,"div",8),r.Ob(),r.Ob(),r.Nb(12,"hr"),r.Pb(13,"div",9),r.Pb(14,"div",10),r.ic(15,oc,22,5,"div",11),r.Ob(),r.Ob(),r.Pb(16,"div",12),r.Pb(17,"div",13),r.Pb(18,"div",14),r.Pb(19,"p",15),r.jc(20,"subtotal"),r.Ob(),r.Ob(),r.Pb(21,"div",14),r.Pb(22,"p",15),r.jc(23),r.Ob(),r.Ob(),r.Ob(),r.Pb(24,"div",16),r.Pb(25,"div",14),r.Pb(26,"p"),r.jc(27,"delivery + handling"),r.Ob(),r.Ob(),r.Pb(28,"div",14),r.Pb(29,"p"),r.jc(30),r.Ob(),r.Ob(),r.Ob(),r.Nb(31,"hr",17),r.Pb(32,"div",18),r.Pb(33,"div",14),r.Pb(34,"p",15),r.jc(35,"grand total"),r.Ob(),r.Ob(),r.Pb(36,"div",14),r.Pb(37,"p",15),r.jc(38),r.Ob(),r.Ob(),r.Ob(),r.Pb(39,"div",19),r.Pb(40,"div",20),r.Wb("click",function(){return e.closebag()}),r.jc(41,"Cart"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Cb(15),r.bc("ngForOf",e.showitem),r.Cb(8),r.lc("$",e.totalprice,""),r.Cb(7),r.lc("$",e.veez,""),r.Cb(8),r.lc("$",e.totalpriceandveez,""))},directives:[D,wo],styles:[".shopingbag[_ngcontent-%COMP%]{width:20%;height:100%;background-color:#f8f8f8;position:fixed;top:0;right:-70%;border-left:1px dotted rgba(139,97,253,.4745098039215686);transition:all 1s;z-index:100}.shopingbaghow[_ngcontent-%COMP%]{right:0}.backicon[_ngcontent-%COMP%]{position:absolute;right:5%;top:1.5%;font-size:35px;color:#858585}.border[_ngcontent-%COMP%]{border-radius:12px}.border1[_ngcontent-%COMP%]{border-radius:20px}.progress[_ngcontent-%COMP%]{width:100%;background-color:#eee;height:12px;border-radius:8px;overflow:hidden}.secundbar[_ngcontent-%COMP%]{width:0;background-color:#fde25a}#Noite[_ngcontent-%COMP%]{transition:all 2s}.amount[_ngcontent-%COMP%]{width:45%;height:23px;border-radius:20px;display:flex;justify-content:space-around}.number[_ngcontent-%COMP%]{padding-top:2px}.price[_ngcontent-%COMP%]{flex-direction:column}.price[_ngcontent-%COMP%], .subtotal[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.Cartbtn[_ngcontent-%COMP%]{background-color:#8a61fd}.backicon[_ngcontent-%COMP%]{cursor:pointer}.backicon[_ngcontent-%COMP%]:hover{color:red}.showbaghere[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:7px;background-color:#f5f5f5}.showbaghere[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;background-color:#f5f5f5}.showbaghere[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px;background-color:#e6e6e6}@media only screen and (max-width:600px){.shopingbag[_ngcontent-%COMP%]{width:70%}.Cartbtn[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (min-width:600px){.shopingbag[_ngcontent-%COMP%]{width:50%}}@media only screen and (min-width:768px){.shopingbag[_ngcontent-%COMP%]{width:40%}}@media only screen and (min-width:992px){.shopingbag[_ngcontent-%COMP%]{width:30%}}@media only screen and (min-width:1200px){.shopingbag[_ngcontent-%COMP%]{width:24%}}"]}),t})();function ac(t,e){if(1&t&&(r.Pb(0,"div",24),r.Pb(1,"button",16),r.jc(2),r.Zb(3,"titlecase"),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.Cb(2),r.kc(r.ac(3,1,t))}}const uc=function(t){return["/oneproudect",t]};function cc(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",25),r.Pb(1,"div",26),r.Pb(2,"div",27),r.Pb(3,"button",28),r.Wb("click",function(n){r.fc(t);const i=e.$implicit;return r.Yb().addToCart(n,i.id)}),r.Nb(4,"i",29),r.Ob(),r.Nb(5,"img",30),r.Ob(),r.Pb(6,"p",31),r.jc(7),r.Ob(),r.Pb(8,"p",32),r.jc(9),r.Zb(10,"titlecase"),r.Ob(),r.Pb(11,"p"),r.jc(12),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.Cb(3),r.cc("id",t.id),r.Cb(2),r.bc("src",t.image,r.gc)("routerLink",r.dc(8,uc,t.id)),r.Cb(2),r.kc(t.title),r.Cb(2),r.kc(r.ac(10,6,t.catogry)),r.Cb(3),r.lc("$",t.price,"")}}function lc(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ul",33),r.Pb(1,"li",34),r.Wb("click",function(){r.fc(t);const n=e.index;return r.Yb().ChangePage(12*n)}),r.Pb(2,"a",35),r.jc(3),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.index;r.Cb(3),r.kc(t)}}let hc=(()=>{class t{constructor(t,e,n){this._SendGetService=t,this._Router=e,this.wowService=n,this.alldata=[],this.allsssdata=5,this.pagearray=[],this.catogery=[],this.PageNumArray=[],this.mycart=JSON.parse(localStorage.getItem("cart"))||[],this._SendGetService.deletbtn.subscribe(t=>{if(t){let e=Array.from(document.querySelectorAll(".cart")).find(e=>e.id==t);this.ffff(e)}}),this._SendGetService.getalldata().pipe(Object(bt.a)(t=>{const e=[];for(let n in t)e.push(Object.assign(Object.assign({},t[n]),{id:n}));return e})).subscribe(t=>{this.alldata=t,this.calculatpage(this.alldata),this.PageNumArray=this.alldata,this.alldata.forEach(t=>{this.catogery.push(t.catogry)}),this.catogery=[...new Set(this.catogery)]})}calculatpage(t){this.pagearray=t.slice(0,12);let e=Math.ceil(t.length/12);this.mypagearray=Array(e)}catfilter(){document.querySelectorAll(".catbtn").forEach(t=>{t.addEventListener("click",()=>{let e=t.innerHTML.toLowerCase();if("all"===e)this.calculatpage(this.alldata),this.PageNumArray=this.alldata,setTimeout(()=>{let t=document.querySelectorAll(".cart");this.isincart(t)},500);else{let t=this.alldata.filter(t=>t.catogry.toLowerCase()==e);this.calculatpage(t),this.PageNumArray=t,setTimeout(()=>{let t=document.querySelectorAll(".cart");this.isincart(t)},500)}})})}addToCart(t,e){if(t.target.classList.contains("addicon")){new sc(this._SendGetService,this.alldata).showbag(),t.path[1].innerHTML='<i class="fas fa-check text-light addicon"></i>',t.path[1].style.backgroundColor="#FDE25A",t.path[1].disabled=!0,t.path[1].cursor="not-allowed";let n=this.alldata.find(t=>t.id==e);this._SendGetService.additem(n),this._SendGetService.calcuamount(this._SendGetService.addNew.value),this._SendGetService.realtime(this._SendGetService.addNew.value)}}ChangePage(t){let e=t+12,n=[];for(let i=t;i<e;i++)n.push(this.PageNumArray[i]);let r=n.filter(t=>null!=t);this.pagearray=r,setTimeout(()=>{let t=document.querySelectorAll(".cart");this.isincart(t)},500)}ffff(t){if(null==t){let t=document.querySelectorAll(".cart");this.isincart(t)}else t.disabled=!1,t.innerHTML='<i class="fas fa-plus text-light addicon"></i>',t.style.backgroundColor="#8A61FD"}isincart(t){t.forEach(t=>{let e=t.id;this.mycart=JSON.parse(localStorage.getItem("cart"))||[],this.mycart.find(t=>t.id===e)&&(t.innerHTML='<i class="fas fa-check addicon text-light"></i>',t.style.backgroundColor="#FDE25A",t.disabled=!0,t.cursor="not-allowed")})}ngOnInit(){this.wowService.init(),this._Router.events.subscribe(t=>{t instanceof Jn&&window.scrollTo(0,0)}),setTimeout(()=>{let t=document.querySelectorAll(".cart");this.isincart(t),this.catfilter()},1e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la),r.Mb(_o),r.Mb(Ku))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-product"]],decls:27,vars:3,consts:[[1,"mb-5","mt-5","container"],[1,"space","border"],[1,"bubble"],[1,"cart3"],[1,"fab","fa-opencart"],[1,"allheadtext","text-center",2,"z-index","55"],[2,"font-weight","900","z-index","55"],[1,"mt-5",2,"font-weight","900","font-size","xx-small"],[1,"sendmail","border","px-1"],[1,"divsend2"],[1,"far","fa-envelope"],[1,"divsend","text-light","p-2"],[1,"fas","fa-share"],[1,"between"],[1,"container"],[1,"divflex","mb-5","w-100",2,"display","flex"],[1,"btn","catbtn","text-light","border","mr-3","px-3"],["class","category ",4,"ngFor","ngForOf"],[1,"row"],["class","col-md-6 col-6 col-lg-4 col-xl-3 mb-3",4,"ngFor","ngForOf"],[1,"page"],["aria-label","Page navigation example"],[1,"div",2,"display","flex"],["class","pagination",4,"ngFor","ngForOf"],[1,"category"],[1,"col-md-6","col-6","col-lg-4","col-xl-3","mb-3"],["data-wow-duration","0.5s","data-wow-delay","s",1,"contain","wow","animate__zoomIn"],[1,"imgandcart"],["title","Add to cart",1,"cart","btn","p-0","m-0",3,"id","click"],[1,"fas","fa-plus","text-light","addicon"],["alt","",1,"img-fluid","border","mb-2",2,"cursor","pointer",3,"src","routerLink"],[1,"mb-1"],[2,"color","rgba(114, 114, 114, 0.521)"],[1,"pagination"],[1,"page-item","pageclass",3,"click"],[1,"page-link"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Nb(2,"div",2),r.Pb(3,"div",3),r.Nb(4,"i",4),r.Ob(),r.Pb(5,"div",5),r.Pb(6,"h1",6),r.jc(7,"There Is More Coming..."),r.Ob(),r.Pb(8,"p",7),r.jc(9,"FEEL FREE TO CONTANT US"),r.Ob(),r.Ob(),r.Pb(10,"div",8),r.Pb(11,"div",9),r.Nb(12,"i",10),r.Ob(),r.Pb(13,"div",11),r.Nb(14,"i",12),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(15,"div",13),r.Pb(16,"div",14),r.Pb(17,"div",15),r.Pb(18,"button",16),r.jc(19,"All"),r.Ob(),r.ic(20,ac,4,3,"div",17),r.Ob(),r.Pb(21,"div",18),r.ic(22,cc,13,10,"div",19),r.Ob(),r.Ob(),r.Pb(23,"div",20),r.Pb(24,"nav",21),r.Pb(25,"div",22),r.ic(26,lc,4,1,"ul",23),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Cb(20),r.bc("ngForOf",e.catogery),r.Cb(2),r.bc("ngForOf",e.pagearray),r.Cb(4),r.bc("ngForOf",e.mypagearray))},directives:[D,wo],pipes:[F],styles:[".space[_ngcontent-%COMP%]{width:100%;height:45vh;background-color:#f2f2f2;flex-direction:column;justify-content:center;overflow:hidden;position:relative}.sendmail[_ngcontent-%COMP%], .space[_ngcontent-%COMP%]{display:flex;align-items:center}.sendmail[_ngcontent-%COMP%]{width:35%;height:40px;background-color:#fcfcfc;justify-content:space-between}.bubble[_ngcontent-%COMP%]{width:500px;height:500px;border-radius:50%;bottom:50%;left:-10%;background-color:#fde25a}.bubble[_ngcontent-%COMP%], .cart3[_ngcontent-%COMP%]{position:absolute}.cart3[_ngcontent-%COMP%]{top:0;left:6%;font-size:140px}.divsend[_ngcontent-%COMP%]{background-color:#8a61fd}.divsend[_ngcontent-%COMP%], .divsend2[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center}.border[_ngcontent-%COMP%]{border-radius:20px}.imgandcart[_ngcontent-%COMP%]{position:relative;overflow:hidden}.tedd[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:30px;color:#f8e99b}.cart[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-radius:50%;background-color:hsla(0,0%,100%,0);bottom:6%;right:4%;transition:all .5s}.contain[_ngcontent-%COMP%]:hover   .cart[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#8a61fd}.contain[_ngcontent-%COMP%]:hover   .addicon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;z-index:150}.addicon[_ngcontent-%COMP%]{display:none;font-size:large;width:40px;height:40px}.catbtn[_ngcontent-%COMP%]{background-color:#8a61fd;cursor:pointer}.catbtn[_ngcontent-%COMP%]:hover{background-color:#a690e2}.between[_ngcontent-%COMP%]{width:100%;height:60px}.page[_ngcontent-%COMP%]{display:flex;justify-content:center}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.page-link[_ngcontent-%COMP%]{color:#8a61fd!important}.pageclass[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width:600px){.space[_ngcontent-%COMP%]{width:100%;height:50vh}.allheadtext[_ngcontent-%COMP%], .sendmail[_ngcontent-%COMP%]{position:relative;top:20%}.sendmail[_ngcontent-%COMP%]{width:65%}.space[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}.bubble[_ngcontent-%COMP%]{bottom:70%;left:-15%}.cart3[_ngcontent-%COMP%]{font-size:90px;left:30%}.between[_ngcontent-%COMP%]{height:20px}.cart[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#8a61fd}.addicon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}}"]}),t})(),dc=(()=>{class t{constructor(t){this._HttpClient=t,this.token=new $e(null),this.token.next(JSON.parse(localStorage.getItem("token"))||null)}apiregister(t){return this._HttpClient.post("https://routeegypt.herokuapp.com/signup",t)}apilogin(t){return this._HttpClient.post("https://routeegypt.herokuapp.com/signin",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ss))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fc(t,e){1&t&&(r.Pb(0,"small",19),r.jc(1,"Please provide a valid name"),r.Ob())}function pc(t,e){1&t&&(r.Pb(0,"small",19),r.jc(1,"Please provide a valid name"),r.Ob())}function gc(t,e){1&t&&(r.Pb(0,"small",19),r.jc(1,"Please provide a valid email"),r.Ob())}function mc(t,e){1&t&&(r.Pb(0,"small",19),r.jc(1,"Please provide a valid password"),r.Ob())}function yc(t,e){if(1&t&&(r.Pb(0,"div",20),r.jc(1),r.Ob()),2&t){const t=r.Yb();r.Cb(1),r.lc(" ",t.massage," ")}}function vc(t,e){1&t&&(r.Pb(0,"small",17),r.jc(1,"Please provide a valid email"),r.Ob())}function bc(t,e){1&t&&(r.Pb(0,"small",17),r.jc(1,"Please provide a valid password"),r.Ob())}function _c(t,e){if(1&t&&(r.Pb(0,"div",18),r.jc(1),r.Ob()),2&t){const t=r.Yb();r.Cb(1),r.lc(" ",t.massage," ")}}const wc=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:rc},{path:"product",component:hc},{path:"cart",component:ec},{path:"oneproudect/:prodectid",component:ic},{path:"sginup",component:(()=>{class t{constructor(t,e){this._RegiterLoginService=t,this.wowService=e,this.signup=new Pe({first_name:new De(null,[Nt.required,Nt.minLength(3),Nt.maxLength(10)]),last_name:new De(null,[Nt.required,Nt.minLength(3),Nt.maxLength(10)]),email:new De(null,[Nt.required,Nt.email]),password:new De(null,[Nt.required,Nt.minLength(3),Nt.maxLength(10)])})}colectdata(t){let e=t.value;this._RegiterLoginService.apiregister({first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password}).subscribe(t=>{console.log(t),this.massage=null!=t.errors?t.errors.email.message:t.message})}ngOnInit(){this.wowService.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dc),r.Mb(Ku))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-sgin-up"]],decls:34,vars:15,consts:[[1,"backcolor"],[1,"parent"],[1,"container"],["data-wow-duration","0.7s","data-wow-delay","0s",1,"sginup","mx-auto","pt-5","wow","animate__zoomIn"],[1,"logo"],[1,"mb-0"],["action","",1,"form","w-50","mx-auto","mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","",2,"font-size","small"],["formControlName","first_name","type","text","name","","id","","aria-describedby","helpId","placeholder","First name",1,"form-control","form-control-sm","mb-2",2,"background-color","#faf7ff"],["style","font-size: x-small;color: brown !important;","id","helpId","class","form-text text-muted",4,"ngIf"],["formControlName","last_name","type","text","name","","id","","aria-describedby","helpId","placeholder","last name",1,"form-control","form-control-sm","mb-2",2,"background-color","#faf7ff"],["formControlName","email","type","text","name","","id","","aria-describedby","helpId","placeholder","email",1,"form-control","form-control-sm","mb-2",2,"background-color","#faf7ff"],["formControlName","password","type","password","name","","id","","aria-describedby","helpId","placeholder","password",1,"form-control","form-control-sm",2,"background-color","#faf7ff"],["routerLink","/sginin",2,"color","rgb(0, 0, 255) !important","text-decoration","underline","cursor","pointer"],["style","font-size: x-small;","class","alert text-center py-1 alert-danger","role","alert",4,"ngIf"],[1,"text-center","mt-4"],["type","submit",1,"btn","signupicon","px-5",3,"disabled"],[1,"space"],["id","helpId",1,"form-text","text-muted",2,"font-size","x-small","color","brown !important"],["role","alert",1,"alert","text-center","py-1","alert-danger",2,"font-size","x-small"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"p",5),r.jc(6,"R"),r.Ob(),r.Ob(),r.Pb(7,"form",6),r.Wb("ngSubmit",function(){return e.colectdata(e.signup)}),r.Pb(8,"div",7),r.Pb(9,"label",8),r.jc(10,"First name"),r.Ob(),r.Nb(11,"input",9),r.ic(12,fc,2,0,"small",10),r.Pb(13,"label",8),r.jc(14,"Last name"),r.Ob(),r.Nb(15,"input",11),r.ic(16,pc,2,0,"small",10),r.Pb(17,"label",8),r.jc(18,"Email"),r.Ob(),r.Nb(19,"input",12),r.ic(20,gc,2,0,"small",10),r.Pb(21,"label",8),r.jc(22,"Password"),r.Ob(),r.Nb(23,"input",13),r.ic(24,mc,2,0,"small",10),r.Ob(),r.Pb(25,"label",8),r.jc(26,"If you have account. "),r.Pb(27,"span",14),r.jc(28,"login"),r.Ob(),r.Ob(),r.ic(29,yc,2,1,"div",15),r.Pb(30,"div",16),r.Pb(31,"button",17),r.jc(32,"Sign Up"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(33,"div",18)),2&t&&(r.Cb(7),r.bc("formGroup",e.signup),r.Cb(4),r.Eb("is-valid","VALID"==e.signup.get("first_name").status),r.Cb(1),r.bc("ngIf",0!=e.signup.get("first_name").touched&&null!=e.signup.get("first_name").errors),r.Cb(3),r.Eb("is-valid","VALID"==e.signup.get("last_name").status),r.Cb(1),r.bc("ngIf",0!=e.signup.get("last_name").touched&&null!=e.signup.get("last_name").errors),r.Cb(3),r.Eb("is-valid","VALID"==e.signup.get("email").status),r.Cb(1),r.bc("ngIf",0!=e.signup.get("email").touched&&null!=e.signup.get("email").errors),r.Cb(3),r.Eb("is-valid","VALID"==e.signup.get("password").status),r.Cb(1),r.bc("ngIf",0!=e.signup.get("password").touched&&null!=e.signup.get("password").errors),r.Cb(5),r.bc("ngIf",null!=e.massage),r.Cb(2),r.bc("disabled","INVALID"===e.signup.status))},directives:[Fe,Jt,Ue,It,Yt,qe,k,wo],styles:[".backcolor[_ngcontent-%COMP%]{width:100%;background-image:url(bb.82540b8d93200bd52d03.jpg);background-size:cover;background-position:50%;height:100vh}.sginup[_ngcontent-%COMP%]{width:65%;height:55vh;background-color:#fff;border-radius:8px;border-top:6px solid #af81ff;position:relative}.parent[_ngcontent-%COMP%]{height:100vh;background-color:hsla(0,0%,57.3%,.7254901960784313)}.logo[_ngcontent-%COMP%], .parent[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]{position:absolute;width:120px;height:120px;bottom:88%;left:42%;border-radius:50%;background-color:#e3d4fd;border:4px solid #fff;z-index:10;color:#000;font-family:Acme,sans-serif!important;font-size:70px;font-weight:900}.signupicon[_ngcontent-%COMP%]{background-color:#af81ff;color:#fff;border-radius:20px}.signupicon[_ngcontent-%COMP%]:hover{background-color:#551eb4}@media only screen and (max-width:600px){.parent[_ngcontent-%COMP%]{align-items:baseline;padding-top:50px}.sginup[_ngcontent-%COMP%]{width:95%;height:67vh;padding-top:20px!important}.form[_ngcontent-%COMP%]{width:75%!important;margin-top:0!important}.logo[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;left:41%;top:0;font-size:35px;border:2px solid #caabff!important}}"]}),t})()},{path:"sginin",component:(()=>{class t{constructor(t,e){this._RegiterLoginService=t,this._Router=e,this.login=new Pe({email:new De(null,[Nt.required,Nt.email]),password:new De(null,[Nt.required,Nt.minLength(3),Nt.maxLength(10)])})}colectdata(t){let e=t.value;this._RegiterLoginService.apilogin({email:e.email,password:e.password}).subscribe(t=>{"success"!=t.message?this.massage=t.message:(this._RegiterLoginService.token.next(t.token),localStorage.setItem("token",JSON.stringify(t.token)),this._Router.navigate(["/cart"]))})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dc),r.Mb(_o))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-sginin"]],decls:26,vars:9,consts:[[1,"backcolor"],[1,"parent"],[1,"container"],["data-wow-duration","0.7s","data-wow-delay","0s",1,"sginup","mx-auto","pt-5","wow","animate__zoomIn"],[1,"logo"],[1,"mb-0"],["action","",1,"form","w-50","mx-auto","mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","",2,"font-size","small"],["formControlName","email","type","text","name","","id","","aria-describedby","helpId","placeholder","email",1,"form-control","form-control-sm","mb-2",2,"background-color","#faf7ff"],["style","font-size: x-small;color: brown !important;","id","helpId","class","form-text text-muted",4,"ngIf"],["formControlName","password","type","text","name","","id","","aria-describedby","helpId","placeholder","password",1,"form-control","form-control-sm",2,"background-color","#faf7ff"],["routerLink","/sginup",2,"color","rgb(0, 0, 255) !important","text-decoration","underline","cursor","pointer"],["style","font-size: x-small;","class","alert text-center py-1 alert-danger","role","alert",4,"ngIf"],[1,"text-center","mt-4"],["type","submit",1,"btn","signupicon","px-5",3,"disabled"],[1,"space"],["id","helpId",1,"form-text","text-muted",2,"font-size","x-small","color","brown !important"],["role","alert",1,"alert","text-center","py-1","alert-danger",2,"font-size","x-small"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"p",5),r.jc(6,"R"),r.Ob(),r.Ob(),r.Pb(7,"form",6),r.Wb("ngSubmit",function(){return e.colectdata(e.login)}),r.Pb(8,"div",7),r.Pb(9,"label",8),r.jc(10,"Email"),r.Ob(),r.Nb(11,"input",9),r.ic(12,vc,2,0,"small",10),r.Pb(13,"label",8),r.jc(14,"Password"),r.Ob(),r.Nb(15,"input",11),r.ic(16,bc,2,0,"small",10),r.Ob(),r.Pb(17,"label",8),r.jc(18,"If you don't have account. "),r.Pb(19,"span",12),r.jc(20,"sign up"),r.Ob(),r.Ob(),r.ic(21,_c,2,1,"div",13),r.Pb(22,"div",14),r.Pb(23,"button",15),r.jc(24,"Sign In"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(25,"div",16)),2&t&&(r.Cb(7),r.bc("formGroup",e.login),r.Cb(4),r.Eb("is-valid","VALID"==e.login.get("email").status),r.Cb(1),r.bc("ngIf",0!=e.login.get("email").touched&&null!=e.login.get("email").errors),r.Cb(3),r.Eb("is-valid","VALID"==e.login.get("password").status),r.Cb(1),r.bc("ngIf",0!=e.login.get("password").touched&&null!=e.login.get("password").errors),r.Cb(5),r.bc("ngIf",null!=e.massage),r.Cb(2),r.bc("disabled","INVALID"===e.login.status))},directives:[Fe,Jt,Ue,It,Yt,qe,k,wo],styles:[".backcolor[_ngcontent-%COMP%]{width:100%;background-image:url(bb.82540b8d93200bd52d03.jpg);background-size:cover;background-position:50%;height:100vh}.sginup[_ngcontent-%COMP%]{width:65%;height:55vh;background-color:#fff;border-radius:8px;border-top:6px solid #af81ff;position:relative}.parent[_ngcontent-%COMP%]{height:100vh;background-color:hsla(0,0%,57.3%,.7254901960784313)}.logo[_ngcontent-%COMP%], .parent[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]{position:absolute;width:120px;height:120px;bottom:88%;left:42%;border-radius:50%;background-color:#e3d4fd;border:4px solid #fff;z-index:10;color:#000;font-family:Acme,sans-serif!important;font-size:70px;font-weight:900}.signupicon[_ngcontent-%COMP%]{background-color:#af81ff;color:#fff;border-radius:20px}.signupicon[_ngcontent-%COMP%]:hover{background-color:#551eb4}@media only screen and (max-width:600px){.parent[_ngcontent-%COMP%]{align-items:baseline;padding-top:50px}.sginup[_ngcontent-%COMP%]{width:95%;height:50vh;padding-top:20px!important}.form[_ngcontent-%COMP%]{width:75%!important;margin-top:0!important}.logo[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;left:41%;top:0;font-size:35px;border:2px solid #caabff!important}}"]}),t})()},{path:"admin",component:Zu}];let Oc=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Ro.forRoot(wc)],Ro]}),t})();function Cc(t,e){1&t&&(r.Pb(0,"a",27),r.jc(1,"Register"),r.Ob())}function Ec(t,e){1&t&&(r.Pb(0,"a",28),r.jc(1,"Sign in"),r.Ob())}function Sc(t,e){1&t&&(r.Pb(0,"a",29),r.jc(1,"Account"),r.Ob())}function Tc(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",30),r.Wb("click",function(){return r.fc(t),r.Yb().logout()}),r.jc(1,"Log out"),r.Ob()}}let xc=(()=>{class t{constructor(t,e){this._SendGetService=t,this._RegiterLoginService=e,this.fake=0,this.token=null,this._RegiterLoginService.token.subscribe(t=>[this.token=t]),this._SendGetService.totalamount.subscribe(t=>{this.totalamout=t})}show(){this._SendGetService.showbagFun()}logout(){this._RegiterLoginService.token.next(null),localStorage.removeItem("token")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la),r.Mb(dc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-navbar"]],decls:38,vars:5,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-light","px-5",2,"background-color","#F2F2F2 !important"],[1,"logo"],[1,"mb-0"],["type","button","data-toggle","collapse","data-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","m-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active border",1,"nav-link"],["routerLink","/product","routerLinkActive","active border",1,"nav-link"],[1,"nav-link"],["routerLink","/admin",1,"nav-link"],[1,"navbar-nav","navOnMobile","mt-2"],[1,"dropdown","show"],["id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"mr-4","navicon","mb-0"],[1,"fas","fa-user-alt"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu",2,"position","absolute !important"],["class","dropdown-item","routerLink","/sginup",4,"ngIf"],["class","dropdown-item","routerLink","/sginin",4,"ngIf"],["class","dropdown-item","routerLink","/account",4,"ngIf"],["class","dropdown-item","routerLink","/sginin",3,"click",4,"ngIf"],[1,"mr-4","navicon","mb-0"],[1,"fas","fa-search"],[1,"liForAmount"],["routerLink","/cart","routerLinkActive","active border px-1",1,"mr-4","navicon","mb-0"],[1,"fas","fa-shopping-bag"],[1,"amount","text-light",2,"font-size","12px"],["routerLink","/sginup",1,"dropdown-item"],["routerLink","/sginin",1,"dropdown-item"],["routerLink","/account",1,"dropdown-item"],["routerLink","/sginin",1,"dropdown-item",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"nav",0),r.Pb(1,"div",1),r.Pb(2,"p",2),r.jc(3,"R"),r.Ob(),r.Ob(),r.Pb(4,"button",3),r.Nb(5,"span",4),r.Ob(),r.Pb(6,"div",5),r.Pb(7,"ul",6),r.Pb(8,"li",7),r.Pb(9,"a",8),r.jc(10,"Home"),r.Ob(),r.Ob(),r.Pb(11,"li",7),r.Pb(12,"a",9),r.jc(13,"Products"),r.Ob(),r.Ob(),r.Pb(14,"li",7),r.Pb(15,"a",10),r.jc(16,"About"),r.Ob(),r.Ob(),r.Pb(17,"li",7),r.Pb(18,"a",11),r.jc(19,"Locat Us"),r.Ob(),r.Ob(),r.Ob(),r.Pb(20,"ul",12),r.Pb(21,"li"),r.Pb(22,"div",13),r.Pb(23,"p",14),r.Nb(24,"i",15),r.Ob(),r.Pb(25,"div",16),r.ic(26,Cc,2,0,"a",17),r.ic(27,Ec,2,0,"a",18),r.ic(28,Sc,2,0,"a",19),r.ic(29,Tc,2,0,"a",20),r.Ob(),r.Ob(),r.Ob(),r.Pb(30,"li"),r.Pb(31,"p",21),r.Nb(32,"i",22),r.Ob(),r.Ob(),r.Pb(33,"li",23),r.Pb(34,"p",24),r.Nb(35,"i",25),r.Ob(),r.Pb(36,"div",26),r.jc(37),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Cb(26),r.bc("ngIf",null==e.token),r.Cb(1),r.bc("ngIf",null==e.token),r.Cb(1),r.bc("ngIf",null!=e.token),r.Cb(1),r.bc("ngIf",null!=e.token),r.Cb(8),r.kc(e.totalamout))},directives:[Oo,Eo,k,wo],styles:[".logo[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#000;border-radius:50%;color:#fff;display:flex;justify-content:center;align-items:center;font-size:30px;font-family:Acme,sans-serif!important}.nav-link[_ngcontent-%COMP%]{color:#3b3b3b!important;font-weight:900}.navicon[_ngcontent-%COMP%]{font-size:23px}.liForAmount[_ngcontent-%COMP%]{position:relative}.amount[_ngcontent-%COMP%]{position:absolute;width:16px;height:16px;border-radius:50%;background-color:#765aff;top:0;right:30%;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{color:#765aff!important}.border[_ngcontent-%COMP%]{border-radius:6px}@media only screen and (max-width:600px){.navOnMobile[_ngcontent-%COMP%]{display:flex;flex-direction:row}}"]}),t})(),Ic=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-dawbar"]],decls:14,vars:0,consts:[[1,"dwnbar","py-2"],[1,"container"],[1,"row"],[1,"col-md-6","col-6","d-flex","align-items-center"],[1,"logo","mr-4"],[1,"mb-0"],[1,"text-light","mb-0",2,"font-size","12px"],[1,"col-md-6","col-6","icon","text-light","text-right"],[1,"fab","fa-cc-visa","mr-3","dwnicon"],[1,"fab","fa-cc-mastercard","dwnicon"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"p",5),r.jc(6,"R"),r.Ob(),r.Ob(),r.Pb(7,"p",6),r.jc(8,"Copyright \xa9 2021, rafeek el-lam'y."),r.Ob(),r.Ob(),r.Pb(9,"div",7),r.Pb(10,"span"),r.Nb(11,"i",8),r.Ob(),r.Pb(12,"span"),r.Nb(13,"i",9),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob())},styles:[".dwnbar[_ngcontent-%COMP%]{background-color:#141414}.logo[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#000;border-radius:50%;color:#fff;display:flex;justify-content:center;align-items:center;font-size:30px;font-family:Acme,sans-serif!important}.dwnicon[_ngcontent-%COMP%]{font-size:23px}.icon[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}"]}),t})(),Ac=(()=>{class t{constructor(t){this._SendGetService=t,this.title="E-commerce",this._SendGetService.onload()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(la))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(t,e){1&t&&(r.Nb(0,"app-navbar"),r.Nb(1,"router-outlet"),r.Nb(2,"app-shoping-bag"),r.Nb(3,"app-dawbar"))},directives:[xc,So,sc,Ic],styles:[""]}),t})();function Dc(){return t=>t.lift(new Pc)}class Pc{call(t,e){return e.subscribe(new kc(t))}}class kc extends Je.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var jc=n("q/0M"),Nc=function(t,e){return(Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Rc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Fc,Mc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lc=Lc||{},Uc=Mc||self;function Vc(){}function qc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hc="closure_uid_"+(1e9*Math.random()>>>0),zc=0;function Wc(t,e,n){return t.call.apply(t.bind,arguments)}function Gc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Kc(t,e,n){return(Kc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wc:Gc).apply(null,arguments)}function Qc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $c(){return Date.now()}function Yc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Jc(){this.j=this.j,this.i=this.i}Jc.prototype.j=!1,Jc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Hc)&&t[Hc]||(t[Hc]=++zc)}(this)},Jc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Xc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Zc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tl(t){return Array.prototype.concat.apply([],arguments)}function el(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function nl(t){return/^[\s\xa0]*$/.test(t)}var rl,il=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ol(t,e){return-1!=t.indexOf(e)}function sl(t,e){return t<e?-1:t>e?1:0}t:{var al=Uc.navigator;if(al){var ul=al.userAgent;if(ul){rl=ul;break t}}rl=""}function cl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ll(t){var e={};for(var n in t)e[n]=t[n];return e}var hl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<hl.length;o++)n=hl[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fl(t){return fl[" "](t),t}fl[" "]=Vc;var pl,gl,ml=ol(rl,"Opera"),yl=ol(rl,"Trident")||ol(rl,"MSIE"),vl=ol(rl,"Edge"),bl=vl||yl,_l=ol(rl,"Gecko")&&!(ol(rl.toLowerCase(),"webkit")&&!ol(rl,"Edge"))&&!(ol(rl,"Trident")||ol(rl,"MSIE"))&&!ol(rl,"Edge"),wl=ol(rl.toLowerCase(),"webkit")&&!ol(rl,"Edge");function Ol(){var t=Uc.document;return t?t.documentMode:void 0}t:{var Cl="",El=(gl=rl,_l?/rv:([^\);]+)(\)|;)/.exec(gl):vl?/Edge\/([\d\.]+)/.exec(gl):yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(gl):wl?/WebKit\/(\S+)/.exec(gl):ml?/(?:Version)[ \/]?(\S+)/.exec(gl):void 0);if(El&&(Cl=El?El[1]:""),yl){var Sl=Ol();if(null!=Sl&&Sl>parseFloat(Cl)){pl=String(Sl);break t}}pl=Cl}var Tl={};function xl(t){return function(t,e){var n=Tl;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=il(String(pl)).split("."),r=il(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=sl(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||sl(0==s[2].length,0==a[2].length)||sl(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Il=Uc.document&&yl&&(Ol()||parseInt(pl,10))||void 0,Al=!yl||9<=Number(Il),Dl=yl&&!xl("9"),Pl=function(){if(!Uc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Uc.addEventListener("test",Vc,e),Uc.removeEventListener("test",Vc,e)}catch(n){}return t}();function kl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function jl(t,e){if(kl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(_l){t:{try{fl(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Nl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}kl.prototype.b=function(){this.defaultPrevented=!0},Yc(jl,kl);var Nl={2:"touch",3:"pen",4:"mouse"};jl.prototype.b=function(){jl.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Dl)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Rl="closure_listenable_"+(1e6*Math.random()|0),Fl=0;function Ml(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Fl,this.Y=this.Z=!1}function Ll(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ul(t){this.src=t,this.a={},this.b=0}function Vl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Xc(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ll(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ql(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ul.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ql(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ml(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Bl="closure_lm_"+(1e6*Math.random()|0),Hl={};function zl(t,e,n,r,i){if(r&&r.once)return Gl(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zl(t,e[o],n,r,i);return null}return n=th(n),t&&t[Rl]?t.va(e,n,Bc(r)?!!r.capture:!!r,i):Wl(t,e,n,!1,r,i)}function Wl(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Bc(i)?!!i.capture:!!i;if(s&&!Al)return null;var a=Xl(t);if(a||(t[Bl]=a=new Ul(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Jl,e=Al?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pl||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($l(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Gl(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gl(t,e[o],n,r,i);return null}return n=th(n),t&&t[Rl]?t.wa(e,n,Bc(r)?!!r.capture:!!r,i):Wl(t,e,n,!0,r,i)}function Kl(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Kl(t,e[o],n,r,i);else r=Bc(r)?!!r.capture:!!r,n=th(n),t&&t[Rl]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ql(o=t.a[e],n,r,i))&&(Ll(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Xl(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ql(e,n,r,i)),(n=-1<t?e[t]:null)&&Ql(n))}function Ql(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rl])Vl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($l(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xl(e))?(Vl(n,t),0==n.b&&(n.src=null,e[Bl]=null)):Ll(t)}}}function $l(t){return t in Hl?Hl[t]:Hl[t]="on"+t}function Yl(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ql(t),n.call(r,e)}function Jl(t,e){if(t.Y)return!0;if(!Al){if(!e)t:{e=["window","event"];for(var n=Uc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Yl(t,e=new jl(e,this))}return Yl(t,new jl(e,this))}function Xl(t){return(t=t[Bl])instanceof Ul?t:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function th(t){return"function"==typeof t?t:(t[Zl]||(t[Zl]=function(e){return t.handleEvent(e)}),t[Zl])}function eh(){Jc.call(this),this.c=new Ul(this),this.J=this,this.C=null}function nh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new kl(e,t);else if(e instanceof kl)e.target=e.target||t;else{var i=e;dl(e=new kl(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=rh(s,r,!0,e)&&i}if(i=rh(s=e.a=t,r,!0,e)&&i,i=rh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=rh(s=e.a=n[o],r,!1,e)&&i}function rh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Vl(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Yc(eh,Jc),eh.prototype[Rl]=!0,(Fc=eh.prototype).addEventListener=function(t,e,n,r){zl(this,t,e,n,r)},Fc.removeEventListener=function(t,e,n,r){Kl(this,t,e,n,r)},Fc.G=function(){if(eh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ll(n[r]);delete e.a[t],e.b--}}this.C=null},Fc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Fc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ih=Uc.JSON.stringify;function oh(){this.b=this.a=null}var sh,ah=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ch},function(t){t.reset()});function uh(){var t=fh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ch(){this.next=this.b=this.a=null}function lh(t){Uc.setTimeout(function(){throw t},0)}function hh(t,e){sh||function(){var t=Uc.Promise.resolve(void 0);sh=function(){t.then(ph)}}(),dh||(sh(),dh=!0),fh.add(t,e)}oh.prototype.add=function(t,e){var n=ah.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ch.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ch.prototype.reset=function(){this.next=this.b=this.a=null};var dh=!1,fh=new oh;function ph(){for(var t;t=uh();){try{t.a.call(t.b)}catch(n){lh(n)}var e=ah;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}dh=!1}function gh(t,e){eh.call(this),this.b=t||1,this.a=e||Uc,this.f=Kc(this.Za,this),this.g=$c()}function mh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function yh(t,e,n){if("function"==typeof t)n&&(t=Kc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Kc(t.handleEvent,t)}return 2147483647<Number(e)?-1:Uc.setTimeout(t,e||0)}function vh(t){t.a=yh(function(){t.a=null,t.c&&(t.c=!1,vh(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Yc(gh,eh),(Fc=gh.prototype).aa=!1,Fc.M=null,Fc.Za=function(){if(this.aa){var t=$c()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),nh(this,"tick"),this.aa&&(mh(this),this.start()))}},Fc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$c())},Fc.G=function(){gh.X.G.call(this),mh(this),delete this.a};var bh=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Nc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Uc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Jc);function _h(t){Jc.call(this),this.b=t,this.a={}}Yc(_h,Jc);var wh=[];function Oh(t,e,n,r){Array.isArray(n)||(n&&(wh[0]=n.toString()),n=wh);for(var i=0;i<n.length;i++){var o=zl(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ch(t){cl(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ql(t)},t),t.a={}}function Eh(){this.a=!0}function Sh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ih(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}_h.prototype.G=function(){_h.X.G.call(this),Ch(this)},_h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eh.prototype.info=function(){};var Th={},xh=null;function Ih(){return xh=xh||new eh}function Ah(t){kl.call(this,Th.Fa,t)}function Dh(t){var e=Ih();nh(e,new Ah(e,t))}function Ph(t,e){kl.call(this,Th.STAT_EVENT,t),this.stat=e}function kh(t){var e=Ih();nh(e,new Ph(e,t))}function jh(t){kl.call(this,Th.Ga,t)}function Nh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Uc.setTimeout(function(){t()},e)}Th.Fa="serverreachability",Yc(Ah,kl),Th.STAT_EVENT="statevent",Yc(Ph,kl),Th.Ga="timingevent",Yc(jh,kl);var Rh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Fh={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Mh(){}function Lh(){}Mh.prototype.a=null;var Uh,Vh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function qh(){kl.call(this,"d")}function Bh(){kl.call(this,"c")}function Hh(){}function zh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new _h(this),this.P=Wh,this.R=new gh(t=bl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Yc(qh,kl),Yc(Bh,kl),Yc(Hh,Mh),Uh=new Hh;var Wh=45e3,Gh={},Kh={};function Qh(t,e,n){t.H=1,t.i=md(ld(e)),t.j=n,t.I=!0,$h(t,null)}function $h(t,e){t.u=$c(),Xh(t),t.l=ld(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ad(n.b,"t",r),t.D=0,t.a=Ef(t.g,t.g.C?e:null),0<t.O&&(t.F=new bh(Kc(t.Ca,t,t.a),t.O)),Oh(t.J,t.a,"readystatechange",t.Xa),e=t.B?ll(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Dh(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Yh(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Jh(t,n);if(i==Kh){4==e&&(t.h=4,kh(14),r=!1),Sh(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gh){t.h=4,kh(15),Sh(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Sh(t.c,t.f,i,null),rd(t,i)}4==e&&0==n.length&&(t.h=1,kh(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),mf(e),e.F=!0,kh(11))):(Sh(t.c,t.f,n,"[Invalid Chunked Response]"),nd(t),ed(t))}function Jh(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Kh:(n=Number(e.substring(n,r)),isNaN(n)?Gh:(r+=1)+n>e.length?Kh:(e=e.substr(r,n),t.D=r+n,e))}function Xh(t){t.T=$c()+t.P,Zh(t,t.P)}function Zh(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Nh(Kc(t.Va,t),e)}function td(t){t.o&&(Uc.clearTimeout(t.o),t.o=null)}function ed(t){0==t.g.v||t.A||bf(t.g,t)}function nd(t){td(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,mh(t.R),Ch(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function rd(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Fd(n.b,t)))if(n.I=t.N,!t.C&&Fd(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(oC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;vf(n),af(n)}gf(n),kh(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Nh(Kc(n.Sa,n),6e3));if(1>=Rd(n.b)&&n.ea){try{n.ea()}catch(oC){}n.ea=void 0}}else wf(n,11)}else if((t.C||n.a==t)&&vf(n),!nl(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ol(l,"spdy")||ol(l,"quic")||ol(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Md(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,gd(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$c()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Cf(u,u.C?u.ga:null,u.fa),f.C){Ld(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(td(p),Xh(p)),u.a=f}else pf(u);0<n.g.length&&lf(n)}else"stop"!=i[0]&&"close"!=i[0]||wf(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wf(n,7):sf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Dh(4)}catch(oC){}}function id(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qc(t)||"string"==typeof t)Zc(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(qc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(qc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function od(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof od)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function sd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ad(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ad(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ad(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Fc=zh.prototype).setTimeout=function(t){this.P=t},Fc.Xa=function(t){t=t.target;var e=this.F;e&&3==ef(t)?e.f():this.Ca(t)},Fc.Ca=function(t){try{if(t==this.a)t:{var e=ef(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!bl&&!this.a.$())){this.A||4!=e||7==n||Dh(8==n||0>=r?3:2),td(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nl(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,kh(12),nd(this),ed(this);break t}Sh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,rd(this,u)}this.I?(Yh(this,e,o),bl&&this.b&&3==e&&(Oh(this.J,this.R,"tick",this.Wa),this.R.start())):(Sh(this.c,this.f,o,null),rd(this,o)),4==e&&nd(this),this.b&&!this.A&&(4==e?bf(this.g,this):(this.b=!1,Xh(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,kh(12)):(this.h=0,kh(13)),nd(this),ed(this)}}}catch(c){}},Fc.Wa=function(){if(this.a){var t=ef(this.a),e=this.a.$();this.D<e.length&&(td(this),Yh(this,t,e),this.b&&4!=t&&Xh(this))}},Fc.cancel=function(){this.A=!0,nd(this)},Fc.Va=function(){this.o=null;var t=$c();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Dh(3),kh(17)),nd(this),this.h=2,ed(this)):Zh(this,this.T-t)},(Fc=od.prototype).K=function(){sd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Fc.L=function(){return sd(this),this.a.concat()},Fc.get=function(t,e){return ad(this.b,t)?this.b[t]:e},Fc.set=function(t,e){ad(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Fc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ud=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cd(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof cd){this.a=void 0!==e?e:t.a,hd(this,t.f),this.j=t.j,dd(this,t.c),fd(this,t.h),this.g=t.g,e=t.b;var n=new Sd;n.c=e.c,e.a&&(n.a=new od(e.a),n.b=e.b),pd(this,n),this.i=t.i}else t&&(n=String(t).match(ud))?(this.a=!!e,hd(this,n[1]||"",!0),this.j=yd(n[2]||""),dd(this,n[3]||"",!0),fd(this,n[4]),this.g=yd(n[5]||"",!0),pd(this,n[6]||"",!0),this.i=yd(n[7]||"")):(this.a=!!e,this.b=new Sd(null,this.a))}function ld(t){return new cd(t)}function hd(t,e,n){t.f=n?yd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function dd(t,e,n){t.c=n?yd(e,!0):e}function fd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function pd(t,e,n){e instanceof Sd?(t.b=e,function(t,e){e&&!t.f&&(Td(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xd(this,e),Ad(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=vd(e,Cd)),t.b=new Sd(e,t.a))}function gd(t,e,n){t.b.set(e,n)}function md(t){return gd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$c()).toString(36)),t}function yd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}cd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(vd(e,_d,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(vd(e,_d,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(vd(n,"/"==n.charAt(0)?Od:wd,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",vd(n,Ed)),t.join("")};var _d=/[#\/\?@]/g,wd=/[#\?:]/g,Od=/[#\?]/g,Cd=/[#\?@]/g,Ed=/#/g;function Sd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Td(t){t.a||(t.a=new od,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xd(t,e){Td(t),e=Dd(t,e),ad(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ad((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&sd(t)))}function Id(t,e){return Td(t),e=Dd(t,e),ad(t.a.b,e)}function Ad(t,e,n){xd(t,e),0<n.length&&(t.c=null,t.a.set(Dd(t,e),el(n)),t.b+=n.length)}function Dd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Fc=Sd.prototype).add=function(t,e){Td(this),this.c=null,t=Dd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Fc.forEach=function(t,e){Td(this),this.a.forEach(function(n,r){Zc(n,function(n){t.call(e,n,r,this)},this)},this)},Fc.L=function(){Td(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Fc.K=function(t){Td(this);var e=[];if("string"==typeof t)Id(this,t)&&(e=tl(e,this.a.get(Dd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tl(e,t[n])}return e},Fc.set=function(t,e){return Td(this),this.c=null,Id(this,t=Dd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Fc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Fc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Pd=function(){return function(t,e){this.b=t,this.a=e}}();function kd(t){this.g=t||jd,t=Uc.PerformanceNavigationTiming?0<(t=Uc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Uc.ia&&Uc.ia.ya&&Uc.ia.ya()&&Uc.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var jd=10;function Nd(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Rd(t){return t.b?1:t.a?t.a.size:0}function Fd(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Md(t,e){t.a?t.a.add(e):t.b=e}function Ld(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ud(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Rc(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return el(t.c)}function Vd(){}function qd(){this.a=new Vd}function Bd(t,e,n){var r=n||"";try{id(t,function(t,n){var i=t;Bc(t)&&(i=ih(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(VC){throw e.push(r+"type="+encodeURIComponent("_badmap")),VC}}function Hd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}kd.prototype.cancel=function(){var t,e;if(this.c=Ud(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Rc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Vd.prototype.stringify=function(t){return Uc.JSON.stringify(t,void 0)},Vd.prototype.parse=function(t){return Uc.JSON.parse(t,void 0)};var zd=Uc.JSON.parse;function Wd(t){eh.call(this),this.headers=new od,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Gd,this.D=this.F=!1}Yc(Wd,eh);var Gd="",Kd=/^https?$/i,Qd=["POST","PUT"];function $d(t){return"content-type"==t.toLowerCase()}function Yd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Jd(t),Zd(t)}function Jd(t){t.u||(t.u=!0,nh(t,"complete"),nh(t,"error"))}function Xd(t){if(t.b&&void 0!==Lc&&(!t.s[1]||4!=ef(t)||2!=t.W()))if(t.l&&4==ef(t))yh(t.za,0,t);else if(nh(t,"readystatechange"),4==ef(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ud)[1]||null;if(!o&&Uc.self&&Uc.self.location){var s=Uc.self.location.protocol;o=s.substr(0,s.length-1)}i=!Kd.test(o?o.toLowerCase():"")}e=i}if(e)nh(t,"complete"),nh(t,"success");else{t.h=6;try{var a=2<ef(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Jd(t)}}finally{Zd(t)}}}function Zd(t,e){if(t.a){tf(t);var n=t.a,r=t.s[0]?Vc:null;t.a=null,t.s=null,e||nh(t,"ready");try{n.onreadystatechange=r}catch(VC){}}}function tf(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Uc.clearTimeout(t.m),t.m=null)}function ef(t){return t.a?t.a.readyState:0}function nf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return cl(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):gd(t,e,n))}function rf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function of(t){this.pa=0,this.g=[],this.c=new Eh,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=rf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=rf("baseRetryDelayMs",5e3,t),this.Ra=rf("retryDelaySeedMs",1e4,t),this.Ma=rf("forwardChannelMaxRetries",2,t),this.ma=rf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new kd(t&&t.concurrentRequestLimit),this.ka=new qd,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function sf(t){if(uf(t),3==t.v){var e=t.R++,n=ld(t.B);gd(n,"SID",t.J),gd(n,"RID",e),gd(n,"TYPE","terminate"),df(t,n),(e=new zh(t,t.c,e,void 0)).H=2,e.i=md(ld(n)),n=!1,Uc.navigator&&Uc.navigator.sendBeacon&&(n=Uc.navigator.sendBeacon(e.i.toString(),"")),!n&&Uc.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ef(e.g,null),e.a.ba(e.i)),e.u=$c(),Xh(e)}Of(t)}function af(t){t.a&&(mf(t),t.a.cancel(),t.a=null)}function uf(t){af(t),t.j&&(Uc.clearTimeout(t.j),t.j=null),vf(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Uc.clearTimeout(t.h),t.h=null)}function cf(t,e){t.g.push(new Pd(t.Oa++,e)),3==t.v&&lf(t)}function lf(t){Nd(t.b)||t.h||(t.h=!0,hh(t.Ba,t),t.u=0)}function hf(t,e){var n;n=e?e.f:t.R++;var r=ld(t.B);gd(r,"SID",t.J),gd(r,"RID",n),gd(r,"AID",t.P),df(t,r),t.i&&t.l&&nf(r,t.i,t.l),n=new zh(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ff(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Md(t.b,n),Qh(n,r,e)}function df(t,e){t.f&&id({},function(t,n){gd(e,n,t)})}function ff(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Kc(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Bd(l,s,"req"+c+"_")}catch(ep){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function pf(t){t.a||t.j||(t.T=1,hh(t.Aa,t),t.o=0)}function gf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Nh(Kc(t.Aa,t),_f(t,t.o)),t.o++,0))}function mf(t){null!=t.s&&(Uc.clearTimeout(t.s),t.s=null)}function yf(t){t.a=new zh(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ld(t.la);gd(e,"RID","rpc"),gd(e,"SID",t.J),gd(e,"CI",t.H?"0":"1"),gd(e,"AID",t.P),df(t,e),gd(e,"TYPE","xmlhttp"),t.i&&t.l&&nf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=md(ld(e)),n.j=null,n.I=!0,$h(n,t)}function vf(t){null!=t.m&&(Uc.clearTimeout(t.m),t.m=null)}function bf(t,e){var n=null;if(t.a==e){vf(t),mf(t),t.a=null;var r=2}else{if(!Fd(t.b,e))return;n=e.s,Ld(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$c()-e.u;var i=t.u;nh(r=Ih(),new jh(r,n,e,i)),lf(t)}else pf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Rd(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Nh(Kc(t.Ba,t,e),_f(t,t.u)),t.u++,0)))}(t,e)||2==r&&gf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wf(t,5);break;case 4:wf(t,10);break;case 3:wf(t,6);break;default:wf(t,2)}}function _f(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function wf(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Kc(t.Ya,t);n||(n=new cd("//www.google.com/images/cleardot.gif"),Uc.location&&"http"==Uc.location.protocol||hd(n,"https"),md(n)),function(t,e){var n=new Eh;if(Uc.Image){var r=new Image;r.onload=Qc(Hd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qc(Hd,n,r,"TestLoadImage: error",!1,e),r.onabort=Qc(Hd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qc(Hd,n,r,"TestLoadImage: timeout",!1,e),Uc.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else kh(2);t.v=0,t.f&&t.f.ra(e),Of(t),uf(t)}function Of(t){t.v=0,t.I=-1,t.f&&(0==Ud(t.b).length&&0==t.g.length||(t.b.c.length=0,el(t.g),t.g.length=0),t.f.qa())}function Cf(t,e,n){var r=function(t){return t instanceof cd?ld(t):new cd(t,void 0)}(n);if(""!=r.c)e&&dd(r,e+"."+r.c),fd(r,r.h);else{var i=Uc.location;r=function(t,e,n,r){var i=new cd(null,void 0);return t&&hd(i,t),e&&dd(i,e),n&&fd(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&cl(t.V,function(t,e){gd(r,e,t)}),n=t.na,(e=t.A)&&n&&gd(r,e,n),gd(r,"VER",t.ha),df(t,r),r}function Ef(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wd(t.Na)).F=t.C,e}function Sf(){}function Tf(){if(yl&&!(10<=Number(Il)))throw Error("Environmental error: no available transport.")}function xf(t,e){eh.call(this),this.a=new of(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!nl(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nl(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Df(this)}function If(t){qh.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Af(){Bh.call(this),this.status=1}function Df(t){this.a=t}(Fc=Wd.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Uh),this.a.onreadystatechange=Kc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Yd(this,o)}t=n||"";var i=new od(this.headers);r&&id(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=$d,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Uc.FormData&&t instanceof Uc.FormData,!(0<=Xc(Qd,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{tf(this),0<this.o&&((this.D=function(t){return yl&&xl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Kc(this.xa,this)):this.m=yh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Yd(this,o)}},Fc.xa=function(){void 0!==Lc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,nh(this,"timeout"),this.abort(8))},Fc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,nh(this,"complete"),nh(this,"abort"),Zd(this))},Fc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Zd(this,!0)),Wd.X.G.call(this)},Fc.za=function(){this.j||(this.A||this.l||this.g?Xd(this):this.Ua())},Fc.Ua=function(){Xd(this)},Fc.W=function(){try{return 2<ef(this)?this.a.status:-1}catch(gl){return-1}},Fc.$=function(){try{return this.a?this.a.responseText:""}catch(gl){return""}},Fc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),zd(e)}},Fc.ua=function(){return this.h},Fc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Fc=of.prototype).ha=8,Fc.v=1,Fc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new zh(this,this.c,t,void 0),r=this.l;if(this.O&&(r?dl(r=ll(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ff(this,n,e),gd(i=ld(this.B),"RID",t),gd(i,"CVER",22),this.A&&gd(i,"X-HTTP-Session-Id",this.A),df(this,i),this.i&&r&&nf(i,this.i,r),Md(this.b,n),this.Ia&&gd(i,"TYPE","init"),this.da?(gd(i,"$req",e),gd(i,"SID","null"),n.U=!0,Qh(n,i,null)):Qh(n,i,e),this.v=2}}else 3==this.v&&(t?hf(this,t):0==this.g.length||Nd(this.b)||hf(this))},Fc.Aa=function(){if(this.j=null,yf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Nh(Kc(this.Ta,this),t)}},Fc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kh(10),af(this),yf(this))},Fc.Sa=function(){null!=this.m&&(this.m=null,af(this),gf(this),kh(19))},Fc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),kh(2)):(this.c.info("Failed to ping google.com"),kh(1))},(Fc=Sf.prototype).ta=function(){},Fc.sa=function(){},Fc.ra=function(){},Fc.qa=function(){},Fc.Ja=function(){},Tf.prototype.a=function(t,e){return new xf(t,e)},Yc(xf,eh),xf.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;kh(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Cf(t,null,t.fa),lf(t)},xf.prototype.close=function(){sf(this.a)},xf.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,cf(this.a,e)}else this.l?((e={}).__data__=ih(t),cf(this.a,e)):cf(this.a,t)},xf.prototype.G=function(){this.a.f=null,delete this.f,sf(this.a),delete this.a,xf.X.G.call(this)},Yc(If,qh),Yc(Af,Bh),Yc(Df,Sf),Df.prototype.ta=function(){nh(this.a,"a")},Df.prototype.sa=function(t){nh(this.a,new If(t))},Df.prototype.ra=function(t){nh(this.a,new Af(t))},Df.prototype.qa=function(){nh(this.a,"b")},Tf.prototype.createWebChannel=Tf.prototype.a,xf.prototype.send=xf.prototype.h,xf.prototype.open=xf.prototype.g,xf.prototype.close=xf.prototype.close,Rh.NO_ERROR=0,Rh.TIMEOUT=8,Rh.HTTP_ERROR=6,Fh.COMPLETE="complete",Lh.EventType=Vh,Vh.OPEN="a",Vh.CLOSE="b",Vh.ERROR="c",Vh.MESSAGE="d",eh.prototype.listen=eh.prototype.va,Wd.prototype.listenOnce=Wd.prototype.wa,Wd.prototype.getLastError=Wd.prototype.Qa,Wd.prototype.getLastErrorCode=Wd.prototype.ua,Wd.prototype.getStatus=Wd.prototype.W,Wd.prototype.getResponseJson=Wd.prototype.Pa,Wd.prototype.getResponseText=Wd.prototype.$,Wd.prototype.send=Wd.prototype.ba;var Pf=Rh,kf=Fh,jf=Th,Nf=Lh,Rf=Wd,Ff=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ff.o=-1;var Mf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ga.c)(e,t),e}(Error),Uf=new jc.b("@firebase/firestore");function Vf(){return Uf.logLevel}function qf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uf.logLevel<=jc.a.DEBUG){var r=e.map(zf);Uf.debug.apply(Uf,Object(ga.f)(["Firestore (8.3.2): "+t],r))}}function Bf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uf.logLevel<=jc.a.ERROR){var r=e.map(zf);Uf.error.apply(Uf,Object(ga.f)(["Firestore (8.3.2): "+t],r))}}function Hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uf.logLevel<=jc.a.WARN){var r=e.map(zf);Uf.warn.apply(Uf,Object(ga.f)(["Firestore (8.3.2): "+t],r))}}function zf(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(VC){return t}}function Wf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.2) INTERNAL ASSERTION FAILED: "+t;throw Bf(e),new Error(e)}function Gf(t,e){t||Wf()}function Kf(t,e){return t}function Qf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $f=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Qf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yf(t,e){return t<e?-1:t>e?1:0}function Jf(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Xf(t){return t+"\0"}var Zf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lf(Mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lf(Mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lf(Mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lf(Mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Yf(this.nanoseconds,t.nanoseconds):Yf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tp=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ep(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function np(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ip=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wf(),void 0===n?n=t.length-e:n>t.length-e&&Wf(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ip),sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return sp.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Lf(Mf.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lf(Mf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Lf(Mf.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ip),up=function(){function t(t){this.fields=t,t.sort(ap.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Jf(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),cp=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Yf(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();cp.EMPTY_BYTE_STRING=new cp("");var lp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hp(t){if(Gf(!!t),"string"==typeof t){var e=0,n=lp.exec(t);if(Gf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dp(t.seconds),nanos:dp(t.nanos)}}function dp(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fp(t){return"string"==typeof t?cp.fromBase64String(t):cp.fromUint8Array(t)}function pp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gp(t){var e=t.mapValue.fields.__previous_value__;return pp(e)?gp(e):e}function mp(t){var e=hp(t.mapValue.fields.__local_write_time__.timestampValue);return new Zf(e.seconds,e.nanos)}function yp(t){return null==t}function vp(t){return 0===t&&1/t==-1/0}function bp(t){return"number"==typeof t&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _p=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(op.fromString(e))},t.fromName=function(e){return new t(op.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===op.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return op.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new op(e.slice()))},t}();function wp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pp(t)?4:10:Wf()}function Op(t,e){var n=wp(t);if(n!==wp(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mp(t).isEqual(mp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hp(t.timestampValue),r=hp(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return fp(t.bytesValue).isEqual(fp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return dp(t.geoPointValue.latitude)===dp(e.geoPointValue.latitude)&&dp(t.geoPointValue.longitude)===dp(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return dp(t.integerValue)===dp(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=dp(t.doubleValue),r=dp(e.doubleValue);return n===r?vp(n)===vp(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jf(t.arrayValue.values||[],e.arrayValue.values||[],Op);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ep(n)!==ep(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Op(n[i],r[i])))return!1;return!0}(t,e);default:return Wf()}}function Cp(t,e){return void 0!==(t.values||[]).find(function(t){return Op(t,e)})}function Ep(t,e){var n=wp(t),r=wp(e);if(n!==r)return Yf(n,r);switch(n){case 0:return 0;case 1:return Yf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=dp(t.integerValue||t.doubleValue),r=dp(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Sp(t.timestampValue,e.timestampValue);case 4:return Sp(mp(t),mp(e));case 5:return Yf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=fp(t),r=fp(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yf(n[i],r[i]);if(0!==o)return o}return Yf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yf(dp(t.latitude),dp(e.latitude));return 0!==n?n:Yf(dp(t.longitude),dp(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ep(n[i],r[i]);if(o)return o}return Yf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Yf(r[s],o[s]);if(0!==a)return a;var u=Ep(n[r[s]],i[o[s]]);if(0!==u)return u}return Yf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wf()}}function Sp(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yf(t,e);var n=hp(t),r=hp(e),i=Yf(n.seconds,r.seconds);return 0!==i?i:Yf(n.nanos,r.nanos)}function Tp(t){return xp(t)}function xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=hp(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fp(t.bytesValue).toBase64():"referenceValue"in t?_p.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=xp(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+xp(t.fields[o])}return e+"}"}(t.mapValue):Wf();var e}function Ip(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ap(t){return!!t&&"integerValue"in t}function Dp(t){return!!t&&"arrayValue"in t}function Pp(t){return!!t&&"nullValue"in t}function kp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}var Np=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(ap.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Op(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===wp(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=jp(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(ap.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!jp(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Rp(t){var e=[];return np(t.fields||{},function(t,n){var r=new ap([t]);if(jp(n)){var i=Rp(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new up(e)}var Fp=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,tp.min(),Np.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Np.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Np.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Np.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Np.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Mp=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Lp(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Mp(t,e,n,r,i,o,s)}function Up(t){var e=Kf(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Tp(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Xp(e.startAt)),e.endAt&&(n+="|ub:",n+=Xp(e.endAt)),e.h=n}return e.h}function Vp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!tg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Op(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ng(t.startAt,e.startAt)&&ng(t.endAt,e.endAt)}function qp(t){return _p.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Bp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ga.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Hp(t,n,r):"array-contains"===n?new Kp(t,r):"in"===n?new Qp(t,r):"not-in"===n?new $p(t,r):"array-contains-any"===n?new Yp(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new zp(t,n):new Wp(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ep(e,this.value)):null!==e&&wp(this.value)===wp(e)&&this.m(Ep(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wf()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=_p.fromName(r.referenceValue),i}return Object(ga.c)(e,t),e.prototype.matches=function(t){var e=_p.comparator(t.key,this.key);return this.m(e)},e}(Bp),zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Gp(0,n),r}return Object(ga.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bp),Wp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Gp(0,n),r}return Object(ga.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bp);function Gp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return _p.fromName(t.referenceValue)})}var Kp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ga.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Dp(e)&&Cp(e.arrayValue,this.value)},e}(Bp),Qp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ga.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Cp(this.value.arrayValue,e)},e}(Bp),$p=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ga.c)(e,t),e.prototype.matches=function(t){if(Cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Cp(this.value.arrayValue,e)},e}(Bp),Yp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ga.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Cp(e.value.arrayValue,t)})},e}(Bp),Jp=function(t,e){this.position=t,this.before=e};function Xp(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Tp(t)}).join(",")}var Zp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function tg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function eg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_p.comparator(_p.fromName(s.referenceValue),n.key):Ep(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ng(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Op(t.position[n],e.position[n]))return!1;return!0}var rg=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ig(t,e,n,r,i,o,s,a){return new rg(t,e,n,r,i,o,s,a)}function og(t){return new rg(t)}function sg(t){return!yp(t.limit)&&"F"===t.limitType}function ag(t){return!yp(t.limit)&&"L"===t.limitType}function ug(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function lg(t){return null!==t.collectionGroup}function hg(t){var e=Kf(t);if(null===e.p){e.p=[];var n=cg(e),r=ug(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Zp(n)),e.p.push(new Zp(ap.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Zp(ap.keyField(),u))}}}return e.p}function dg(t){var e=Kf(t);if(!e.T)if("F"===e.limitType)e.T=Lp(e.path,e.collectionGroup,hg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=hg(e);r<i.length;r++){var o=i[r];n.push(new Zp(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Jp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Jp(e.startAt.position,!e.startAt.before):null;e.T=Lp(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function fg(t,e,n){return new rg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pg(t,e){return Vp(dg(t),dg(e))&&t.limitType===e.limitType}function gg(t){return Up(dg(t))+"|lt:"+t.limitType}function mg(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Tp(e.value);var e}).join(", ")+"]"),yp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Xp(t.startAt)),t.endAt&&(e+=", endAt: "+Xp(t.endAt)),"Target("+e+")"}(dg(t))+"; limitType="+t.limitType+")"}function yg(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_p.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!eg(t.startAt,hg(t),e)||t.endAt&&eg(t.endAt,hg(t),e))}(t,e)}function vg(t){return function(e,n){for(var r=!1,i=0,o=hg(t);i<o.length;i++){var s=o[i],a=bg(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function bg(t,e,n){var r=t.field.isKeyField()?_p.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ep(r,i):Wf()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wf()}}function _g(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function wg(t){return{integerValue:""+t}}function Og(t,e){return bp(e)?wg(e):_g(t,e)}var Cg=function(){this._=void 0};function Eg(t,e,n){return t instanceof xg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ig?Ag(t,e):t instanceof Dg?Pg(t,e):function(t,e){var n=Tg(t,e),r=jg(n)+jg(t.A);return Ap(n)&&Ap(t.A)?wg(r):_g(t.R,r)}(t,e)}function Sg(t,e,n){return t instanceof Ig?Ag(t,e):t instanceof Dg?Pg(t,e):n}function Tg(t,e){return t instanceof kg?Ap(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e}(Cg),Ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ga.c)(e,t),e}(Cg);function Ag(t,e){for(var n=Ng(e),r=function(t){n.some(function(e){return Op(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Dg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ga.c)(e,t),e}(Cg);function Pg(t,e){for(var n=Ng(e),r=function(t){n=n.filter(function(e){return!Op(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ga.c)(e,t),e}(Cg);function jg(t){return dp(t.integerValue||t.doubleValue)}function Ng(t){return Dp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rg=function(t,e){this.field=t,this.transform=e},Fg=function(t,e){this.version=t,this.transformResults=e},Mg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Lg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ug=function(){};function Vg(t,e,n){t instanceof Wg?function(t,e,n){var r=t.value.clone(),i=Qg(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gg?function(t,e,n){if(Lg(t.precondition,e)){var r=Qg(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Kg(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function qg(t,e,n){t instanceof Wg?function(t,e,n){if(Lg(t.precondition,e)){var r=t.value.clone(),i=$g(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(zg(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Gg?function(t,e,n){if(Lg(t.precondition,e)){var r=$g(t.fieldTransforms,n,e),i=e.data;i.setAll(Kg(t)),i.setAll(r),e.convertToFoundDocument(zg(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Lg(t.precondition,e)&&e.convertToNoDocument(tp.min())}(t,e)}function Bg(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Tg(o.transform,s||null);null!=a&&(null==n&&(n=Np.empty()),n.set(o.field,a))}return n||null}function Hg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jf(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ig&&e instanceof Ig||t instanceof Dg&&e instanceof Dg?Jf(t.elements,e.elements,Op):t instanceof kg&&e instanceof kg?Op(t.A,e.A):t instanceof xg&&e instanceof xg}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function zg(t){return t.isFoundDocument()?t.version:tp.min()}var Wg=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ga.c)(e,t),e}(Ug),Gg=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(ga.c)(e,t),e}(Ug);function Kg(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Qg(t,e,n){var r=new Map;Gf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Sg(s,a,n[i]))}return r}function $g(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Eg(a,u,e))}return r}var Yg,Jg,Xg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ga.c)(e,t),e}(Ug),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ga.c)(e,t),e}(Ug),tm=function(t){this.count=t};function em(t){switch(t){case Mf.OK:return Wf();case Mf.CANCELLED:case Mf.UNKNOWN:case Mf.DEADLINE_EXCEEDED:case Mf.RESOURCE_EXHAUSTED:case Mf.INTERNAL:case Mf.UNAVAILABLE:case Mf.UNAUTHENTICATED:return!1;case Mf.INVALID_ARGUMENT:case Mf.NOT_FOUND:case Mf.ALREADY_EXISTS:case Mf.PERMISSION_DENIED:case Mf.FAILED_PRECONDITION:case Mf.ABORTED:case Mf.OUT_OF_RANGE:case Mf.UNIMPLEMENTED:case Mf.DATA_LOSS:return!0;default:return Wf()}}function nm(t){if(void 0===t)return Bf("GRPC error has no .code"),Mf.UNKNOWN;switch(t){case Yg.OK:return Mf.OK;case Yg.CANCELLED:return Mf.CANCELLED;case Yg.UNKNOWN:return Mf.UNKNOWN;case Yg.DEADLINE_EXCEEDED:return Mf.DEADLINE_EXCEEDED;case Yg.RESOURCE_EXHAUSTED:return Mf.RESOURCE_EXHAUSTED;case Yg.INTERNAL:return Mf.INTERNAL;case Yg.UNAVAILABLE:return Mf.UNAVAILABLE;case Yg.UNAUTHENTICATED:return Mf.UNAUTHENTICATED;case Yg.INVALID_ARGUMENT:return Mf.INVALID_ARGUMENT;case Yg.NOT_FOUND:return Mf.NOT_FOUND;case Yg.ALREADY_EXISTS:return Mf.ALREADY_EXISTS;case Yg.PERMISSION_DENIED:return Mf.PERMISSION_DENIED;case Yg.FAILED_PRECONDITION:return Mf.FAILED_PRECONDITION;case Yg.ABORTED:return Mf.ABORTED;case Yg.OUT_OF_RANGE:return Mf.OUT_OF_RANGE;case Yg.UNIMPLEMENTED:return Mf.UNIMPLEMENTED;case Yg.DATA_LOSS:return Mf.DATA_LOSS;default:return Wf()}}(Jg=Yg||(Yg={}))[Jg.OK=0]="OK",Jg[Jg.CANCELLED=1]="CANCELLED",Jg[Jg.UNKNOWN=2]="UNKNOWN",Jg[Jg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jg[Jg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jg[Jg.NOT_FOUND=5]="NOT_FOUND",Jg[Jg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jg[Jg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jg[Jg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jg[Jg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jg[Jg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jg[Jg.ABORTED=10]="ABORTED",Jg[Jg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jg[Jg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jg[Jg.INTERNAL=13]="INTERNAL",Jg[Jg.UNAVAILABLE=14]="UNAVAILABLE",Jg[Jg.DATA_LOSS=15]="DATA_LOSS";var rm=function(){function t(t,e){this.comparator=t,this.root=e||om.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,om.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,om.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new im(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new im(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new im(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new im(this.root,t,this.comparator,!0)},t}(),im=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),om=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wf();if(this.right.isRed())throw Wf();var t=this.left.check();if(t!==this.right.check())throw Wf();return t+(this.isRed()?0:1)},t}();om.EMPTY=null,om.RED=!0,om.BLACK=!1,om.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new om(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var sm=function(){function t(t){this.comparator=t,this.data=new rm(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new am(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new am(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),am=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),um=new rm(_p.comparator);function cm(){return um}var lm=new rm(_p.comparator);function hm(){return lm}var dm=new rm(_p.comparator);function fm(){return dm}var pm=new sm(_p.comparator);function gm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var mm=new sm(Yf);function ym(){return mm}var vm=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,bm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(tp.min(),r,ym(),cm(),gm())},t}(),bm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(cp.EMPTY_BYTE_STRING,n,gm(),gm(),gm())},t}(),_m=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},wm=function(t,e){this.targetId=t,this.V=e},Om=function(t,e,n,r){void 0===n&&(n=cp.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cm=function(){function t(){this.S=0,this.D=Tm(),this.C=cp.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=gm(),e=gm(),n=gm();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wf()}}),new bm(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Tm()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Em=function(){function t(t){this.W=t,this.G=new Map,this.H=cm(),this.J=Sm(),this.Y=new sm(Yf)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Wf()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(qp(i))if(0===n){var o=new _p(i.path);this.tt(e,o,Fp.newNoDocument(o,tp.min()))}else Gf(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&qp(o.target)){var s=new _p(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Fp.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=gm();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new vm(t,n,this.Y,this.H,r);return this.H=cm(),this.J=Sm(),this.Y=new sm(Yf),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Cm,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new sm(Yf),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||qf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Cm),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Sm(){return new rm(_p.comparator)}function Tm(){return new rm(_p.comparator)}var xm={asc:"ASCENDING",desc:"DESCENDING"},Im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Am=function(t,e){this.databaseId=t,this.I=e};function Dm(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pm(t,e){return t.I?e.toBase64():e.toUint8Array()}function km(t,e){return Dm(t,e.toTimestamp())}function jm(t){return Gf(!!t),tp.fromTimestamp(function(t){var e=hp(t);return new Zf(e.seconds,e.nanos)}(t))}function Nm(t,e){return function(t){return new op(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Rm(t){var e=op.fromString(t);return Gf(oy(e)),e}function Fm(t,e){return Nm(t.databaseId,e.path)}function Mm(t,e){var n=Rm(e);if(n.get(1)!==t.databaseId.projectId)throw new Lf(Mf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Lf(Mf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _p(qm(n))}function Lm(t,e){return Nm(t.databaseId,e)}function Um(t){var e=Rm(t);return 4===e.length?op.emptyPath():qm(e)}function Vm(t){return new op(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qm(t){return Gf(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Bm(t,e,n){return{name:Fm(t,e),fields:n.toProto().mapValue.fields}}function Hm(t,e,n){var r=Mm(t,e.name),i=jm(e.updateTime),o=new Np({mapValue:{fields:e.fields}}),s=Fp.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function zm(t,e){var n;if(e instanceof Wg)n={update:Bm(t,e.key,e.value)};else if(e instanceof Xg)n={delete:Fm(t,e.key)};else if(e instanceof Gg)n={update:Bm(t,e.key,e.data),updateMask:iy(e.fieldMask)};else{if(!(e instanceof Zg))return Wf();n={verify:Fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xg)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ig)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dg)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kg)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Wf()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:km(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wf()}(t,e.precondition)),n}function Wm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mg.updateTime(jm(t.updateTime)):void 0!==t.exists?Mg.exists(t.exists):Mg.none()}(e.currentDocument):Mg.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Gf("REQUEST_TIME"===e.setToServerValue),n=new xg):"appendMissingElements"in e?n=new Ig(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Dg(e.removeAllFromArray.values||[]):"increment"in e?n=new kg(t,e.increment):Wf();var r=ap.fromServerFormat(e.fieldPath);return new Rg(r,n)}(t,e)}):[];if(e.update){var i=Mm(t,e.update.name),o=new Np({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new up((t.fieldPaths||[]).map(function(t){return ap.fromServerFormat(t)}))}(e.updateMask);return new Gg(i,o,s,n,r)}return new Wg(i,o,n,r)}if(e.delete){var a=Mm(t,e.delete);return new Xg(a,n)}if(e.verify){var u=Mm(t,e.verify);return new Zg(u,n)}return Wf()}function Gm(t,e){return{documents:[Lm(t,e.path)]}}function Km(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Lm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(kp(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NAN"}};if(Pp(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kp(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NOT_NAN"}};if(Pp(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ty(t.field),op:Zm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ty(t.field),direction:Xm(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||yp(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ym(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ym(e.endAt)),n}function Qm(t){var e=Um(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=$m(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Zp(ey(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return yp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Jm(n.startAt));var l=null;return n.endAt&&(l=Jm(n.endAt)),ig(e,i,a,s,u,"F",c,l)}function $m(t){return t?void 0!==t.unaryFilter?[ry(t)]:void 0!==t.fieldFilter?[ny(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return $m(t)}).reduce(function(t,e){return t.concat(e)}):Wf():[]}function Ym(t){return{before:t.before,values:t.position}}function Jm(t){return new Jp(t.values||[],!!t.before)}function Xm(t){return xm[t]}function Zm(t){return Im[t]}function ty(t){return{fieldPath:t.canonicalString()}}function ey(t){return ap.fromServerFormat(t.fieldPath)}function ny(t){return Bp.create(ey(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wf()}}(t.fieldFilter.op),t.fieldFilter.value)}function ry(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ey(t.unaryFilter.field);return Bp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ey(t.unaryFilter.field);return Bp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ey(t.unaryFilter.field);return Bp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ey(t.unaryFilter.field);return Bp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wf()}}function iy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function oy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function sy(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=uy(e)),e=ay(t.get(n),e);return uy(e)}function ay(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function uy(t){return t+"\x01\x01"}function cy(t){var e=t.length;if(Gf(e>=2),2===e)return Gf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),op.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Wf(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Wf()}o=s+2}return new op(r)}var ly=function(t,e){this.seconds=t,this.nanoseconds=e},hy=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hy.store="owner",hy.key="owner";var dy=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};dy.store="mutationQueues",dy.keyPath="userId";var fy=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fy.store="mutations",fy.keyPath="batchId",fy.userMutationsIndex="userMutationsIndex",fy.userMutationsKeyPath=["userId","batchId"];var py=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,sy(e)]},t.key=function(t,e,n){return[t,sy(e),n]},t}();py.store="documentMutations",py.PLACEHOLDER=new py;var gy=function(t,e){this.path=t,this.readTime=e},my=function(t,e){this.path=t,this.version=e},yy=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yy.store="remoteDocuments",yy.readTimeIndex="readTimeIndex",yy.readTimeIndexPath="readTime",yy.collectionReadTimeIndex="collectionReadTimeIndex",yy.collectionReadTimeIndexPath=["parentPath","readTime"];var vy=function(t){this.byteSize=t};vy.store="remoteDocumentGlobal",vy.key="remoteDocumentGlobalKey";var by=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};by.store="targets",by.keyPath="targetId",by.queryTargetsIndexName="queryTargetsIndex",by.queryTargetsKeyPath=["canonicalId","targetId"];var _y=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};_y.store="targetDocuments",_y.keyPath=["targetId","path"],_y.documentTargetsIndex="documentTargetsIndex",_y.documentTargetsKeyPath=["path","targetId"];var wy=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wy.key="targetGlobalKey",wy.store="targetGlobal";var Oy=function(t,e){this.collectionId=t,this.parent=e};Oy.store="collectionParents",Oy.keyPath=["collectionId","parent"];var Cy=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Cy.store="clientMetadata",Cy.keyPath="clientId";var Ey=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ey.store="bundles",Ey.keyPath="bundleId";var Sy=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sy.store="namedQueries",Sy.keyPath="name";var Ty=Object(ga.f)(Object(ga.f)([],Object(ga.f)(Object(ga.f)([],Object(ga.f)(Object(ga.f)([],Object(ga.f)(Object(ga.f)([],[dy.store,fy.store,py.store,yy.store,by.store,hy.store,wy.store,_y.store]),[Cy.store])),[vy.store])),[Oy.store])),[Ey.store,Sy.store]),xy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iy=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ay=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Dy=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Py=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ay,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ny(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Uy(e.target.error);n.ft.reject(new Ny(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ny(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(qf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Fy(e)},t}(),ky=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ma.o)())&&Bf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return qf("SimpleDb","Removing database:",t),My(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ma.o)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n=this;return Object(ga.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(qf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ny(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Lf(Mf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ny(t,n))},i.onupgradeneeded=function(t){qf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){qf("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(ga.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(ga.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Py.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Dy.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return qf("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),jy=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return My(this.Pt.delete())},t}(),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,Mf.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ga.c)(e,t),e}(Lf);function Ry(t){return"IndexedDbTransactionError"===t.name}var Fy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(qf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(qf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),My(n)},t.prototype.add=function(t){return qf("SimpleDb","ADD",this.store.name,t,t),My(this.store.add(t))},t.prototype.get=function(t){var e=this;return My(this.store.get(t)).next(function(n){return void 0===n&&(n=null),qf("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return qf("SimpleDb","DELETE",this.store.name,t),My(this.store.delete(t))},t.prototype.count=function(){return qf("SimpleDb","COUNT",this.store.name),My(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){qf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Dy(function(n,r){e.onerror=function(t){var e=Uy(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Dy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jy(i),s=e(i.primaryKey,i.value,o);if(s instanceof Dy){var a=s.catch(function(t){return o.done(),Dy.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Dy.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function My(t){return new Dy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Uy(t.target.error);n(e)}})}var Ly=!1;function Uy(t){var e=ky._t(Object(ma.o)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Lf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ly||(Ly=!0,setTimeout(function(){throw r},0)),r}}return t}var Vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ga.c)(e,t),e}(Iy);function qy(t,e){var n=Kf(t);return ky.It(n.Mt,e)}var By=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Vg(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&qg(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&qg(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tp.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jf(this.mutations,t.mutations,function(t,e){return Hg(t,e)})&&Jf(this.baseMutations,t.baseMutations,function(t,e){return Hg(t,e)})},t}(),Hy=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Gf(e.mutations.length===r.length);for(var i=fm(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),zy=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=tp.min()),void 0===o&&(o=tp.min()),void 0===s&&(s=cp.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Wy=function(t){this.Lt=t};function Gy(t,e){if(e.document)return Hm(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=_p.fromSegments(e.noDocument.path),r=Jy(e.noDocument.readTime),i=Fp.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=_p.fromSegments(e.unknownDocument.path);return r=Jy(e.unknownDocument.version),Fp.newUnknownDocument(o,r)}return Wf()}function Ky(t,e,n){var r=Qy(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Fm(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Dm(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new yy(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Yy(e.version);return s=e.hasCommittedMutations,new yy(null,new gy(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Yy(e.version);return new yy(new my(c,l),null,null,!0,r,i)}return Wf()}function Qy(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $y(t){var e=new Zf(t[0],t[1]);return tp.fromTimestamp(e)}function Yy(t){var e=t.toTimestamp();return new ly(e.seconds,e.nanoseconds)}function Jy(t){var e=new Zf(t.seconds,t.nanoseconds);return tp.fromTimestamp(e)}function Xy(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Wm(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Wm(t.Lt,e)}),o=Zf.fromMillis(e.localWriteTimeMs);return new By(e.batchId,o,n,i)}function Zy(t){var e,n,r=Jy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Jy(t.lastLimboFreeSnapshotVersion):tp.min();return void 0!==t.query.documents?(Gf(1===(n=t.query).documents.length),e=dg(og(Um(n.documents[0])))):e=function(t){return dg(Qm(t))}(t.query),new zy(e,t.targetId,0,t.lastListenSequenceNumber,r,i,cp.fromBase64String(t.resumeToken))}function tv(t,e){var n,r=Yy(e.snapshotVersion),i=Yy(e.lastLimboFreeSnapshotVersion);n=qp(e.target)?Gm(t.Lt,e.target):Km(t.Lt,e.target);var o=e.resumeToken.toBase64();return new by(e.targetId,Up(e.target),r,o,e.sequenceNumber,i,n)}function ev(t){var e=Qm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fg(e,e.limit,"L"):e}var nv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return rv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Jy(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return rv(t).put({bundleId:(n=e).id,createTime:Yy(jm(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return iv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ev(e.bundledQuery),readTime:Jy(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return iv(t).put(function(t){return{name:t.name,readTime:Yy(jm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function rv(t){return qy(t,Ey.store)}function iv(t){return qy(t,Sy.store)}var ov=function(){function t(){this.Bt=new sv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Dy.resolve()},t.prototype.getCollectionParents=function(t,e){return Dy.resolve(this.Bt.getEntries(e))},t}(),sv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new sm(op.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sm(op.comparator)).toArray()},t}(),av=function(){function t(){this.qt=new sv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:sy(i)};return uv(t).put(o)}return Dy.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Xf(e),""],!1,!0);return uv(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(cy(o.parent))}return n})},t}();function uv(t){return qy(t,Oy.store)}var cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function hv(t,e,n){var r=t.store(fy.store),i=t.store(py.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Gf(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=py.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Dy.waitFor(o).next(function(){return c})}function dv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wf();e=t.noDocument}return JSON.stringify(e).length}lv.DEFAULT_COLLECTION_PERCENTILE=10,lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lv.DEFAULT=new lv(41943040,lv.DEFAULT_COLLECTION_PERCENTILE,lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lv.DISABLED=new lv(-1,0,0);var fv=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Gf(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gv(t).Ot({index:fy.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=mv(t),s=gv(t);return s.add({}).next(function(a){Gf("number"==typeof a);for(var u=new By(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return zm(t.Lt,e)}),i=n.mutations.map(function(e){return zm(t.Lt,e)});return new fy(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new sm(function(t,e){return Yf(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=py.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,py.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Dy.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gv(t).get(e).next(function(t){return t?(Gf(t.userId===n.userId),Xy(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Dy.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gv(t).Ot({index:fy.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Gf(e.batchId>=r),o=Xy(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gv(t).Ot({index:fy.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gv(t).Nt(fy.userMutationsIndex,n).next(function(t){return t.map(function(t){return Xy(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=py.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return mv(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=cy(r[1]);if(a===n.userId&&e.path.isEqual(c))return gv(t).get(u).next(function(t){if(!t)throw Wf();Gf(t.userId===n.userId),o.push(Xy(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sm(Yf),i=[];return e.forEach(function(e){var o=py.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=mv(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=cy(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Dy.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=py.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new sm(Yf);return mv(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=cy(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gv(t).get(e).next(function(t){if(null===t)throw Wf();Gf(t.userId===n.userId),r.push(Xy(n.R,t))}))}),Dy.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return hv(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Dy.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Dy.resolve();var r=IDBKeyRange.lowerBound(py.prefixForUser(e.userId)),i=[];return mv(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=cy(t[1]);i.push(o)}else r.done()}).next(function(){Gf(0===i.length)})})},t.prototype.containsKey=function(t,e){return pv(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return yv(t).get(this.userId).next(function(t){return t||new dy(e.userId,-1,"")})},t}();function pv(t,e,n){var r=py.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return mv(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function gv(t){return qy(t,fy.store)}function mv(t){return qy(t,py.store)}function yv(t){return qy(t,dy.store)}var vv=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bv=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new vv(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return tp.fromTimestamp(new Zf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return _v(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Gf(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return _v(t).Ot(function(s,a){var u=Zy(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Dy.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return _v(t).Ot(function(t,n){var r=Zy(n);e(r)})},t.prototype.Xt=function(t){return wv(t).get(wy.key).next(function(t){return Gf(null!==t),t})},t.prototype.Zt=function(t,e){return wv(t).put(wy.key,e)},t.prototype.te=function(t,e){return _v(t).put(tv(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Up(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _v(t).Ot({range:r,index:by.queryTargetsIndexName},function(t,n,r){var o=Zy(n);Vp(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Ov(t);return e.forEach(function(e){var s=sy(e.path);i.push(o.put(new _y(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Dy.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Ov(t);return Dy.forEach(e,function(e){var o=sy(e.path);return Dy.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Ov(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ov(t),i=gm();return r.Ot({range:n,kt:!0},function(t,e,n){var r=cy(t[1]),o=new _p(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=sy(e.path),r=IDBKeyRange.bound([n],[Xf(n)],!1,!0),i=0;return Ov(t).Ot({index:_y.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return _v(t).get(e).next(function(t){return t?Zy(t):null})},t}();function _v(t){return qy(t,by.store)}function wv(t){return qy(t,wy.store)}function Ov(t){return qy(t,_y.store)}function Cv(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){if(t.code!==Mf.FAILED_PRECONDITION||t.message!==xy)throw t;return qf("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Ev(t,e){var n=t[1],r=e[1],i=Yf(t[0],e[0]);return 0===i?Yf(n,r):i}var Sv=function(){function t(t){this.ne=t,this.buffer=new sm(Ev),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ev(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Tv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;qf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ga.b)(e,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ry(e=n.sent())?(qf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Cv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),xv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Dy.resolve(Ff.o);var r=new Sv(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qf("LruGarbageCollector","Garbage collection skipped; disabled"),Dy.resolve(cv)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(qf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cv):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(qf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Vf()<=jc.a.DEBUG&&qf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Dy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Iv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new xv(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Av(t,n)},t.prototype.removeReference=function(t,e,n){return Av(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Av(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return yv(t).$t(function(r){return pv(t,r,e).next(function(t){return t&&(n=!0),Dy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Ov(t).delete([0,sy(s.path)])})});i.push(u)}}).next(function(){return Dy.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Av(t,e)},t.prototype.we=function(t,e){var n,r=Ov(t),i=Ff.o;return r.Ot({index:_y.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ff.o&&e(new _p(cy(n)),i),i=s,n=o):i=Ff.o}).next(function(){i!==Ff.o&&e(new _p(cy(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Av(t,e){return Ov(t).put(function(t,e){return new _y(0,sy(t.path),e)}(e,t.currentSequenceNumber))}var Dv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){np(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return rp(this.inner)},t}(),Pv=function(){function t(){this.changes=new Dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:tp.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Fp.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Dy.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Rv(t).put(Fv(e),n)},t.prototype.removeEntry=function(t,e){var n=Rv(t),r=Fv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Rv(t).get(Fv(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Rv(t).get(Fv(e)).next(function(t){return{document:n.ye(e,t),size:dv(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=cm();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=cm(),i=new rm(_p.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,dv(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Dy.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Rv(t).Ot({range:r},function(t,e,r){for(var s=_p.fromSegments(t);o&&_p.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=cm(),o=e.path.length+1,s={};if(n.isEqual(tp.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Qy(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=yy.collectionReadTimeIndex}return Rv(t).Ot(s,function(t,n,s){if(t.length===o){var a=Gy(r.R,n);e.path.isPrefixOf(a.key.path)?yg(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new jv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Nv(t).get(vy.key).next(function(t){return Gf(!!t),t})},t.prototype.me=function(t,e){return Nv(t).put(vy.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gy(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(tp.min()))return n}return Fp.newInvalidDocument(t)},t}(),jv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ga.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new sm(function(t,e){return Yf(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Ky(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=dv(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Ky(e.Ie.R,Fp.newNoDocument(o,tp.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Dy.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Pv);function Nv(t){return qy(t,vy.store)}function Rv(t){return qy(t,yy.store)}function Fv(t){return t.path.toArray()}var Mv=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Gf(n<r&&n>=0&&r<=11);var o=new Py("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hy.store)}(t),function(t){t.createObjectStore(dy.store,{keyPath:dy.keyPath}),t.createObjectStore(fy.store,{keyPath:fy.keyPath,autoIncrement:!0}).createIndex(fy.userMutationsIndex,fy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(py.store)}(t),Lv(t),function(t){t.createObjectStore(yy.store)}(t));var s=Dy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(_y.store),t.deleteObjectStore(by.store),t.deleteObjectStore(wy.store)}(t),Lv(t)),s=s.next(function(){return function(t){var e=t.store(wy.store),n=new wy(0,0,tp.min().toTimestamp(),0);return e.put(wy.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(fy.store).Nt().next(function(n){t.deleteObjectStore(fy.store),t.createObjectStore(fy.store,{keyPath:fy.keyPath,autoIncrement:!0}).createIndex(fy.userMutationsIndex,fy.userMutationsKeyPath,{unique:!0});var r=e.store(fy.store),i=n.map(function(t){return r.put(t)});return Dy.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Cy.store,{keyPath:Cy.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(vy.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yy.store);e.createIndex(yy.readTimeIndex,yy.readTimeIndexPath,{unique:!1}),e.createIndex(yy.collectionReadTimeIndex,yy.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ey.store,{keyPath:Ey.keyPath})}(t),function(t){t.createObjectStore(Sy.store,{keyPath:Sy.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(yy.store).Ot(function(t,n){e+=dv(n)}).next(function(){var n=new vy(e);return t.store(vy.store).put(vy.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(dy.store),r=t.store(fy.store);return n.Nt().next(function(n){return Dy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(fy.userMutationsIndex,i).next(function(r){return Dy.forEach(r,function(r){Gf(r.userId===n.userId);var i=Xy(e.R,r);return hv(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(_y.store),n=t.store(yy.store);return t.store(wy.store).get(wy.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new op(n),s=function(t){return[0,sy(t)]}(o);r.push(e.get(s).next(function(n){return n?Dy.resolve():function(n){return e.put(new _y(0,sy(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Dy.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Oy.store,{keyPath:Oy.keyPath});var n=e.store(Oy.store),r=new sv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:sy(i)})}};return e.store(yy.store).Ot({kt:!0},function(t,e){var n=new op(t);return i(n.popLast())}).next(function(){return e.store(py.store).Ot({kt:!0},function(t,e){var n=cy(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(by.store);return n.Ot(function(t,r){var i=Zy(r),o=tv(e.R,i);return n.put(o)})},t}();function Lv(t){t.createObjectStore(_y.store,{keyPath:_y.keyPath}).createIndex(_y.documentTargetsIndex,_y.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(by.store,{keyPath:by.keyPath}).createIndex(by.queryTargetsIndexName,by.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wy.store)}var Uv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vv=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Lf(Mf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iv(this,i),this.Le=n+"main",this.R=new Wy(u),this.Be=new ky(this.Le,11,new Mv(this.R)),this.qe=new bv(this.referenceDelegate,this.R),this.Ut=new av,this.Ue=function(t,e){return new kv(t,e)}(this.R,this.Ut),this.Qe=new nv,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Bf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Lf(Mf.FAILED_PRECONDITION,Uv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ff(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ga.b)(e,void 0,void 0,function(){return Object(ga.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ga.b)(e,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ga.b)(e,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Bv(e).put(new Cy(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ry(e))return qf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return qf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return qv(t).get(hy.key).next(function(t){return Dy.resolve(e.tn(t))})},t.prototype.en=function(t){return Bv(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ga.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=qy(t,Cy.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Dy.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Dy.resolve(!0):qv(t).get(hy.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Lf(Mf.FAILED_PRECONDITION,Uv);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bv(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&qf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ga.b)(this,void 0,void 0,function(){var t=this;return Object(ga.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[hy.store,Cy.store],function(e){var n=new Vy(e,Ff.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Bv(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return fv.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return qf("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ty,function(o){return r=new Vy(o,i.Ne?i.Ne.next():Ff.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Bf("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Lf(Mf.FAILED_PRECONDITION,xy);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return qv(t).get(hy.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Lf(Mf.FAILED_PRECONDITION,Uv)})},t.prototype.Ze=function(t){var e=new hy(this.clientId,this.allowTabSynchronization,Date.now());return qv(t).put(hy.key,e)},t.yt=function(){return ky.yt()},t.prototype.Xe=function(t){var e=this,n=qv(t);return n.get(hy.key).next(function(t){return e.tn(t)?(qf("IndexedDbPersistence","Releasing primary lease."),n.delete(hy.key)):Dy.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Bf("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return qf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Bf("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bf("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function qv(t){return qy(t,hy.store)}function Bv(t){return qy(t,Cy.store)}function Hv(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var zv=function(t,e){this.progress=t,this.wn=e},Wv=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return _p.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):lg(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new _p(e)).next(function(t){var e=hm();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=hm();return this.Ut.getCollectionParents(t,i).next(function(s){return Dy.forEach(s,function(s){var a=function(t,e){return new rg(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Fp.newInvalidDocument(c),r=r.insert(c,l)),qg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){yg(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=gm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Gg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Gv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=gm(),i=gm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Kv=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(tp.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(sg(e)||ag(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Vf()<=jc.a.DEBUG&&qf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),mg(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new sm(vg(t));return e.forEach(function(e,r){yg(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Vf()<=jc.a.DEBUG&&qf("QueryEngine","Using full collection scan to execute query:",mg(e)),this.Sn.getDocumentsMatchingQuery(t,e,tp.min())},t}(),Qv=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new rm(Yf),this.kn=new Dv(function(t){return Up(t)},Vp),this.On=tp.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Wv(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function $v(t,e,n,r){return new Qv(t,e,n,r)}function Yv(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:return n=Kf(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Wv(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=gm(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Jv(t,e){var n=Kf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Dy.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Gf(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Xv(t){var e=Kf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Zv(t,e){var n=Kf(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Gf(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=cm();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(tb(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(tp.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Dy.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function tb(t,e,n,r,i){var o=gm();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=cm();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(tp.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):qf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function eb(t,e){var n=Kf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function nb(t,e){var n=Kf(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Dy.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new zy(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function rb(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:r=Kf(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ry(s=a.sent()))throw s;return qf("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ib(t,e,n){var r=Kf(t),i=tp.min(),o=gm();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Kf(t),i=r.kn.get(n);return void 0!==i?Dy.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,dg(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:tp.min(),n?o:gm())}).next(function(t){return{documents:t,Bn:o}})})}function ob(t,e){var n=Kf(t),r=Kf(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function sb(t){var e=Kf(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Kf(t),i=cm(),o=Qy(n),s=Rv(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:yy.readTimeIndex,range:a},function(t,e){var n=Gy(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:$y(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function ab(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){return[2,(e=Kf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Rv(t),n=tp.min();return e.Ot({index:yy.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=$y(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function ub(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(ga.d)(this,function(p){switch(p.label){case 0:for(i=Kf(t),o=gm(),s=cm(),a=fm(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,nb(i,function(t){return dg(og(op.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return tb(t,d,s,tp.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function cb(t,e,n){return void 0===n&&(n=gm()),Object(ga.b)(this,void 0,void 0,function(){var r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return[4,nb(t,dg(ev(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Kf(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=jm(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(cp.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var lb=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Dy.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:jm(n.createTime)}),Dy.resolve()},t.prototype.getNamedQuery=function(t,e){return Dy.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:ev(t.bundledQuery),readTime:jm(t.readTime)}}(e)),Dy.resolve()},t}(),hb=function(){function t(){this.Wn=new sm(db.Gn),this.zn=new sm(db.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new db(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new db(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new _p(new op([])),r=new db(n,t),i=new db(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new _p(new op([])),n=new db(e,t),r=new db(e,t+1),i=gm();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new db(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),db=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return _p.comparator(t.key,e.key)||Yf(t.ns,e.ns)},t.Hn=function(t,e){return Yf(t.ns,e.ns)||_p.comparator(t.key,e.key)},t}(),fb=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new sm(db.Gn)}return t.prototype.checkEmpty=function(t){return Dy.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new By(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new db(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Dy.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Dy.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Dy.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Dy.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Dy.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new db(e,0),i=new db(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Dy.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sm(Yf);return e.forEach(function(t){var e=new db(t,0),i=new db(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Dy.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;_p.isDocumentKey(i)||(i=i.child(""));var o=new db(new _p(i),0),s=new sm(Yf);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Dy.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Gf(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Dy.forEach(e.mutations,function(i){var o=new db(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new db(e,0),r=this.rs.firstAfterOrEqual(n);return Dy.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Dy.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),pb=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new rm(_p.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Dy.resolve(n?n.document.clone():Fp.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=cm();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Fp.newInvalidDocument(t))}),Dy.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=cm(),i=new _p(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||yg(e,u)&&(r=r.insert(u.key,u.clone()))}return Dy.resolve(r)},t.prototype.fs=function(t,e){return Dy.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new gb(this)},t.prototype.getSize=function(t){return Dy.resolve(this.size)},t}(),gb=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ga.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Dy.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Pv),mb=function(){function t(t){this.persistence=t,this.ds=new Dv(function(t){return Up(t)},Vp),this.lastRemoteSnapshotVersion=tp.min(),this.highestTargetId=0,this.ws=0,this._s=new hb,this.targetCount=0,this.ys=vv.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Dy.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Dy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Dy.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Dy.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Dy.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new vv(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Dy.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Dy.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Dy.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Dy.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Dy.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Dy.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Dy.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Dy.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Dy.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Dy.resolve(n)},t.prototype.containsKey=function(t,e){return Dy.resolve(this._s.containsKey(e))},t}(),yb=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ff(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mb(this),this.Ut=new ov,this.Ue=function(t,e){return new pb(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Wy(e),this.Qe=new lb(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new fb(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;qf("MemoryPersistence","Starting transaction:",t);var i=new vb(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Dy.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),vb=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ga.c)(e,t),e}(Iy),bb=function(){function t(t){this.persistence=t,this.As=new hb,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wf()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Dy.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Dy.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Dy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dy.forEach(this.vs,function(r){var i=_p.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Dy.or([function(){return Dy.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),_b=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function wb(t,e){return"firestore_clients_"+t+"_"+e}function Ob(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Cb(t,e){return"firestore_targets_"+t+"_"+e}_b.UNAUTHENTICATED=new _b(null),_b.GOOGLE_CREDENTIALS=new _b("google-credentials-uid"),_b.FIRST_PARTY=new _b("first-party-uid");var Eb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Lf(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Bf("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lf(i.error.code,i.error.message)),o?new t(e,i.state,r):(Bf("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ym(),s=0;i&&s<r.activeTargetIds.length;++s)i=bp(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Bf("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),xb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Bf("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ib=function(){function t(){this.activeTargetIds=ym()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ab=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new rm(Yf),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=wb(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ib),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(ga.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(wb(this.persistenceKey,r)))&&(o=Tb.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Cb(this.persistenceKey,t));if(n){var r=Sb.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Cb(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return qf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){qf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){qf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(qf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Bf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ga.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(ga.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ff.o;if(null!=t)try{var n=JSON.parse(t);Gf("number"==typeof n),e=n}catch(t){Bf("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ff.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Eb(this.currentUser,t,e,n),i=Ob(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ob(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Cb(this.persistenceKey,t),i=new Sb(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Tb.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Eb.Vs(new _b(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Sb.Vs(r,e)},t.prototype.js=function(t){return xb.Vs(t)},t.prototype.ii=function(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(qf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ym();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Db=function(){function t(){this.li=new Ib,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ib,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Pb=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),kb=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){qf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){qf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nb=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Rb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ga.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Rf;s.listenOnce(kf.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Pf.NO_ERROR:var e=s.getResponseJson();qf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Pf.TIMEOUT:qf("Connection",'RPC "'+t+'" timed out'),o(new Lf(Mf.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:var n=s.getStatus();if(qf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Mf).indexOf(e)>=0?e:Mf.UNKNOWN}(r.status);o(new Lf(a,r.message))}else o(new Lf(Mf.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Lf(Mf.UNAVAILABLE,"Connection failed."));break;default:Wf()}}finally{qf("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Tf,i=Ih(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(ma.v)()||Object(ma.y)()||Object(ma.s)()||Object(ma.u)()||Object(ma.z)()||Object(ma.r)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");qf("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Nb({Ei:function(t){c?qf("Connection","Not sending because WebChannel is closed:",t):(u||(qf("Connection","Opening WebChannel transport."),a.open(),u=!0),qf("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Nf.EventType.OPEN,function(){c||qf("Connection","WebChannel transport opened.")}),h(a,Nf.EventType.CLOSE,function(){c||(c=!0,qf("Connection","WebChannel transport closed"),l.Vi())}),h(a,Nf.EventType.ERROR,function(t){c||(c=!0,Hf("Connection","WebChannel transport errored:",t),l.Vi(new Lf(Mf.UNAVAILABLE,"The operation could not be completed")))}),h(a,Nf.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Gf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){qf("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Yg[t];if(void 0!==e)return nm(e)}(i),s=r.message;void 0===o&&(o=Mf.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Lf(o,s)),a.close()}else qf("Connection","WebChannel received:",n),l.Si(n)}}),h(i,jf.STAT_EVENT,function(t){10===t.stat?qf("Connection","Detected buffering proxy"):11===t.stat&&qf("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);qf("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return qf("RestConnection","Received: ",t),t},function(e){throw Hf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.2",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+jb[t]},t}());function Fb(){return"undefined"!=typeof window?window:null}function Mb(){return"undefined"!=typeof document?document:null}function Lb(t){return new Am(t,!0)}var Ub=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&qf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Vb=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ub(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Mf.RESOURCE_EXHAUSTED?(Bf(e.toString()),Bf("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Mf.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Lf(Mf.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ga.b)(t,void 0,void 0,function(){return Object(ga.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return qf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(qf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),qb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(ga.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wf()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Gf(void 0===e||"string"==typeof e),cp.fromBase64String(e||"")):(Gf(void 0===e||e instanceof Uint8Array),cp.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Mf.UNKNOWN:nm(t.code);return new Lf(e,t.message||"")}(a);n=new Om(r,i,o,s||null)}else if("documentChange"in e){i=Mm(t,(r=e.documentChange).document.name),o=jm(r.document.updateTime);var a=new Np({mapValue:{fields:r.document.fields}}),u=(s=Fp.newFoundDocument(i,o,a),r.targetIds||[]);n=new _m(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Mm(t,(r=e.documentDelete).document),o=r.readTime?jm(r.readTime):tp.min(),a=Fp.newNoDocument(i,o),n=new _m([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Mm(t,(r=e.documentRemove).document),n=new _m([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wf();var c=e.filter;i=new tm(r=c.count||0),n=new wm(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return tp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?tp.min():e.readTime?jm(e.readTime):tp.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Vm(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=qp(r)?{documents:Gm(t,r)}:{query:Km(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Pm(t,e.resumeToken):e.snapshotVersion.compareTo(tp.min())>0&&(n.readTime=Dm(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wf()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Vm(this.R),e.removeTarget=t,this.cr(e)},e}(Vb),Bb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(ga.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Gf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Gf(void 0!==e),t.map(function(t){return function(t,e){var n=jm(t.updateTime?t.updateTime:e);return n.isEqual(tp.min())&&(n=jm(e)),new Fg(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=jm(t.commitTime);return this.listener.Tr(n,e)}return Gf(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Vm(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return zm(e.R,t)})};this.cr(n)},e}(Vb),Hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ga.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Lf(Mf.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Mf.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Mf.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),zb=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Bf(e),this.Vr=!1):qf("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Wb=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ga.b)(o,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return t_(this)?(qf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return(e=Kf(t)).$r.add(4),[4,Kb(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Gb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new zb(n,r)};function Gb(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:if(!t_(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Kb(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qb(t,e){var n=Kf(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Zb(n)?Xb(n):g_(n).er()&&Yb(n,e))}function $b(t,e){var n=Kf(t),r=g_(n);n.Or.delete(e),r.er()&&Jb(n,e),0===n.Or.size&&(r.er()?r.ir():t_(n)&&n.Br.set("Unknown"))}function Yb(t,e){t.qr.U(e.targetId),g_(t).mr(e)}function Jb(t,e){t.qr.U(e),g_(t).yr(e)}function Xb(t){t.qr=new Em({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),g_(t).start(),t.Br.Sr()}function Zb(t){return t_(t)&&!g_(t).tr()&&t.Or.size>0}function t_(t){return 0===Kf(t).$r.size}function e_(t){t.qr=void 0}function n_(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){return t.Or.forEach(function(e,n){Yb(t,e)}),[2]})})}function r_(t,e){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(n){return e_(t),Zb(t)?(t.Br.Nr(e),Xb(t)):t.Br.set("Unknown"),[2]})})}function i_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Om&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),qf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,o_(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _m?t.qr.X(e):e instanceof wm?t.qr.rt(e):t.qr.et(e),n.isEqual(tp.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Xv(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(cp.EMPTY_BYTE_STRING,n.snapshotVersion)),Jb(t,e);var r=new zy(n.target,e,1,n.sequenceNumber);Yb(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return qf("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,o_(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function o_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r=this;return Object(ga.d)(this,function(i){switch(i.label){case 0:if(!Ry(e))throw e;return t.$r.add(1),[4,Kb(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Xv(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ga.b)(r,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return qf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Gb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function s_(t,e){return e().catch(function(n){return o_(t,n,e)})}function a_(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:e=Kf(t),n=m_(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return t_(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,eb(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=m_(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,o_(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return u_(e)&&c_(e),[2]}})})}function u_(t){return t_(t)&&!m_(t).tr()&&t.kr.length>0}function c_(t){m_(t).start()}function l_(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){return m_(t).Ar(),[2]})})}function h_(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n,r;return Object(ga.d)(this,function(i){for(e=m_(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function d_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Hy.from(r,e,n),[4,s_(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,a_(t)];case 2:return o.sent(),[2]}})})}function f_(t,e){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(n){switch(n.label){case 0:return e&&m_(t).pr?[4,function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return em(r=e.code)&&r!==Mf.ABORTED?(n=t.kr.shift(),m_(t).sr(),[4,s_(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,a_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return u_(t)&&c_(t),[2]}})})}function p_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return n=Kf(t),e?(n.$r.delete(2),[4,Gb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Kb(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function g_(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Kf(t);return r.br(),new qb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:n_.bind(null,t),Ri:r_.bind(null,t),_r:i_.bind(null,t)}),t.Mr.push(function(n){return Object(ga.b)(e,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Zb(t)?Xb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),e_(t),e.label=3;case 3:return[2]}})})})),t.Ur}function m_(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Kf(t);return r.br(),new Bb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:l_.bind(null,t),Ri:f_.bind(null,t),Ir:h_.bind(null,t),Tr:d_.bind(null,t)}),t.Mr.push(function(n){return Object(ga.b)(e,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,a_(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(qf("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var y_=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ay,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lf(Mf.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function v_(t,e){if(Bf("AsyncQueue",e+": "+t),Ry(t))return new Lf(Mf.UNAVAILABLE,e+": "+t);throw t}var b_=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||_p.comparator(e.key,n.key)}:function(t,e){return _p.comparator(t.key,e.key)},this.keyedMap=hm(),this.sortedSet=new rm(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),__=function(){function t(){this.Kr=new rm(_p.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Wf():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),w_=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,b_.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),O_=function(){this.Wr=void 0,this.listeners=[]},C_=function(){this.queries=new Dv(function(t){return gg(t)},pg),this.onlineState="Unknown",this.Gr=new Set};function E_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ga.d)(this,function(c){switch(c.label){case 0:if(n=Kf(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new O_),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=v_(a,"Initialization of query '"+mg(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&I_(n),[2]}})})}function S_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ga.d)(this,function(a){return n=Kf(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function T_(t,e){for(var n=Kf(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&I_(n)}function x_(t,e,n){var r=Kf(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function I_(t){t.Gr.forEach(function(t){t.next()})}var A_=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new w_(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=w_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),D_=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),P_=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Mm(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Hm(this.R,t.document,!1):Fp.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return jm(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new P_(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||gm()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return[4,ub(this.localStore,new P_(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,cb(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zv(Object.assign({},this.progress),t))]}})})}}();var k_=function(t){this.key=t},j_=function(t){this.key=t},N_=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=gm(),this.mutatedKeys=gm(),this.lo=vg(t),this.fo=new b_(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new __,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=sg(this.query)&&i.size===this.query.limit?i.last():null,c=ag(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=yg(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),sg(this.query)||ag(this.query))for(;s.size>this.query.limit;){var l=sg(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wf()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new w_(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new __,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=gm(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new j_(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new k_(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gm();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return w_.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),R_=function(t,e,n){this.query=t,this.targetId=e,this.view=n},F_=function(t){this.key=t,this.bo=!1},M_=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Dv(function(t){return gg(t)},pg),this.Vo=new Map,this.So=new Set,this.Do=new rm(_p.comparator),this.Co=new Map,this.No=new hb,this.xo={},this.Fo=new Map,this.ko=vv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function L_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:return n=fw(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,nb(n.localStore,dg(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,U_(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Qb(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function U_(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(ga.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ib(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(X_(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,ib(t.localStore,e,!0)];case 1:return i=l.sent(),o=new N_(e,i.Bn),s=o._o(i.documents),a=bm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),X_(t,n,u.To),c=new R_(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function V_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return n=Kf(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!pg(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,rb(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),$b(n.remoteStore,r.targetId),Y_(n,r.targetId)}).catch(Cv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Y_(n,r.targetId),[4,rb(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function q_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:r=pw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Kf(t),i=Zf.now(),o=e.reduce(function(t,e){return t.add(e.key)},gm());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Bg(c,n.get(c.key));null!=l&&s.push(new Gg(c.key,l,Rp(l.toProto().mapValue),Mg.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new rm(Yf)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ew(r,i.changes)];case 3:return a.sent(),[4,a_(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=v_(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function B_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:n=Kf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Zv(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Gf(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Gf(r.bo):t.removedDocuments.size>0&&(Gf(r.bo),r.bo=!1))}),[4,ew(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Cv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function H_(t,e,n){var r=Kf(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Kf(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&I_(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function z_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(ga.d)(this,function(c){switch(c.label){case 0:return(r=Kf(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new rm(_p.comparator)).insert(o,Fp.newNoDocument(o,tp.min())),a=gm().add(o),u=new vm(tp.min(),new Map,new sm(Yf),s,a),[4,B_(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),tw(r),[3,4];case 2:return[4,rb(r.localStore,e,!1).then(function(){return Y_(r,e,n)}).catch(Cv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function W_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:n=Kf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Jv(n.localStore,e)];case 2:return i=o.sent(),$_(n,r,null),Q_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ew(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function G_(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:r=Kf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Kf(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Gf(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),$_(r,e,n),Q_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ew(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function K_(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:t_((n=Kf(t)).remoteStore)||qf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Kf(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=v_(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Q_(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function $_(t,e,n){var r=Kf(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Y_(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||J_(t,e)})}function J_(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&($b(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),tw(t))}function X_(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof k_?(t.No.addReference(o.key,e),Z_(t,o)):o instanceof j_?(qf("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||J_(t,o.key)):Wf()}}function Z_(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(qf("SyncEngine","New document in limbo: "+n),t.So.add(r),tw(t))}function tw(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new _p(op.fromString(e)),r=t.ko.next();t.Co.set(r,new F_(n)),t.Do=t.Do.insert(n,r),Qb(t.remoteStore,new zy(dg(og(n.path)),r,2,Ff.o))}}function ew(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:return r=Kf(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gv.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(ga.d)(this,function(l){switch(l.label){case 0:n=Kf(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Dy.forEach(e,function(e){return Dy.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Dy.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ry(r=l.sent()))throw r;return qf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function nw(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return(n=Kf(t)).currentUser.isEqual(e)?[3,3]:(qf("SyncEngine","User change. New user:",e.toKey()),[4,Yv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Lf(Mf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ew(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function rw(t,e){var n=Kf(t),r=n.Co.get(e);if(r&&r.bo)return gm().add(r.key);var i=gm(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function iw(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return[4,ib((n=Kf(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&X_(n,e.targetId,i.To),i)]}})})}function ow(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){return[2,sb((e=Kf(t)).localStore).then(function(t){return ew(e,t)})]})})}function sw(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o;return Object(ga.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Kf(t),r=Kf(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Dy.resolve(null)})})}((i=Kf(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,a_(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($_(i,e,r||null),Q_(i,e),function(t,e){Kf(Kf(t)._n).Gt(e)}(i.localStore,e)):Wf(),s.label=4;case 4:return[4,ew(i,o)];case 5:return s.sent(),[3,7];case 6:qf("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function aw(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ga.d)(this,function(c){switch(c.label){case 0:return fw(n=Kf(t)),pw(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uw(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,p_(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Qb(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Y_(n,e),rb(n.localStore,e,!0)}),$b(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,uw(n,a)];case 5:return c.sent(),function(t){var e=Kf(t);e.Co.forEach(function(t,n){$b(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new rm(_p.comparator)}(n),n.Oo=!1,[4,p_(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function uw(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(ga.d)(this,function(g){switch(g.label){case 0:n=Kf(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,nb(n.localStore,dg(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,iw(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ob(n.localStore,a)];case 8:return p=g.sent(),[4,nb(n.localStore,p)];case 9:return u=g.sent(),[4,U_(n,cw(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cw(t){return ig(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lw(t){var e=Kf(t);return Kf(Kf(e.localStore).persistence).fn()}function hw(t,e,n,r){return Object(ga.b)(this,void 0,void 0,function(){var i,o,s;return Object(ga.d)(this,function(a){switch(a.label){case 0:return(i=Kf(t)).Oo?(qf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sb(i.localStore)];case 3:return o=a.sent(),s=vm.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ew(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,rb(i.localStore,e,!0)];case 6:return a.sent(),Y_(i,e,r),[3,8];case 7:Wf(),a.label=8;case 8:return[2]}})})}function dw(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(ga.d)(this,function(d){switch(d.label){case 0:if(!(r=fw(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(qf("SyncEngine","Adding an already active target "+s),[3,5]):[4,ob(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,nb(r.localStore,a)];case 3:return u=d.sent(),[4,U_(r,cw(a),u.targetId,!1)];case 4:d.sent(),Qb(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ga.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,rb(r.localStore,t,!1).then(function(){$b(r.remoteStore,t),Y_(r,t)}).catch(Cv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function fw(t){var e=Kf(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z_.bind(null,e),e.vo._r=T_.bind(null,e.eventManager),e.vo.Mo=x_.bind(null,e.eventManager),e}function pw(t){var e=Kf(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G_.bind(null,e),e}var gw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return this.R=Lb(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return $v(this.persistence,new Kv,t.initialUser,this.R)},t.prototype.qo=function(t){return new yb(bb.bs,this.R)},t.prototype.Bo=function(t){return new Db},t.prototype.terminate=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ga.c)(e,t),e.prototype.initialize=function(e){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ab(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,pw(this.Ko.syncEngine)];case 4:return n.sent(),[4,a_(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return $v(this.persistence,new Kv,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Tv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Hv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lv.withCacheSize(this.cacheSizeBytes):lv.DEFAULT;return new Vv(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Fb(),Mb(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Db},e}(gw),yw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ga.c)(e,t),e.prototype.initialize=function(e){return Object(ga.b)(this,void 0,void 0,function(){var n,r=this;return Object(ga.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ab?(this.sharedClientState.syncEngine={ui:sw.bind(null,n),ai:hw.bind(null,n),hi:dw.bind(null,n),fn:lw.bind(null,n),ci:ow.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ga.b)(r,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return[4,aw(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Fb();if(!Ab.yt(e))throw new Lf(Mf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ab(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(mw),vw=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n=this;return Object(ga.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return H_(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nw.bind(null,this.syncEngine),[4,p_(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new C_},t.prototype.createDatastore=function(t){var e=Lb(t.databaseInfo.databaseId),n=new Rb(t.databaseInfo);return function(t,e,n){return new Hb(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return H_(s.syncEngine,t,0)},o=kb.yt()?new kb:new Pb,new Wb(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new M_(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return e=Kf(t),qf("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Kb(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),bw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),_w=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ay,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new D_(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n=this;return Object(ga.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Lf(Mf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(ga.d)(this,function(u){switch(u.label){case 0:return n=Kf(t),r=Vm(n.R)+"/documents",i={documents:e.map(function(t){return Fm(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Gf(!!e.found);var n=Mm(t,e.found.name),r=jm(e.found.updateTime),i=new Np({mapValue:{fields:e.found.fields}});return Fp.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Gf(!!e.missing),Gf(!!e.readTime);var n=Mm(t,e.missing),r=jm(e.readTime);return Fp.newNoDocument(n,r)}(t,e):Wf()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Gf(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Xg(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e=this;return Object(ga.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=_p.fromPath(n);e.mutations.push(new Zg(r,e.precondition(r)))}),[4,function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return n=Kf(t),r=Vm(n.R)+"/documents",i={writes:e.map(function(t){return zm(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wf();e=tp.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Lf(Mf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Mg.updateTime(e):Mg.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(tp.min()))throw new Lf(Mf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mg.updateTime(e)}return Mg.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ww=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ub(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ga.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ga.d)(this,function(r){return t=new _w(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!yp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!em(e)}return!1},t}(),Ow=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=_b.UNAUTHENTICATED,this.clientId=$f.u(),this.credentialListener=function(){},this.receivedInitialUser=new Ay,this.credentials.setChangeListener(function(t){qf("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Lf(Mf.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ay;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ga.b)(t,void 0,void 0,function(){var t,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=v_(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Cw(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ga.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),qf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ga.b)(i,void 0,void 0,function(){return Object(ga.d)(this,function(t){switch(t.label){case 0:return[4,Yv(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ew(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Sw(t)];case 1:return n=i.sent(),qf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ga.b)(this,void 0,void 0,function(){var n,r;return Object(ga.d)(this,function(i){switch(i.label){case 0:return(n=Kf(t)).asyncQueue.verifyOperationInProgress(),qf("RemoteStore","RemoteStore received new credentials"),r=t_(n),n.$r.add(3),[4,Kb(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Gb(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Sw(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(qf("FirestoreClient","Using default OfflineComponentProvider"),[4,Cw(t,new gw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Tw(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(qf("FirestoreClient","Using default OnlineComponentProvider"),[4,Ew(t,new vw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function xw(t){return Sw(t).then(function(t){return t.persistence})}function Iw(t){return Sw(t).then(function(t){return t.localStore})}function Aw(t){return Tw(t).then(function(t){return t.remoteStore})}function Dw(t){return Tw(t).then(function(t){return t.syncEngine})}function Pw(t){return Object(ga.b)(this,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return[4,Tw(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=L_.bind(null,e.syncEngine),n.onUnlisten=V_.bind(null,e.syncEngine),n)]}})})}function kw(t,e,n){var r=this;void 0===n&&(n={});var i=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(r,void 0,void 0,function(){var r;return Object(ga.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bw({next:function(o){e.enqueueAndForget(function(){return S_(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Lf(Mf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Lf(Mf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new A_(og(n.path),o,{includeMetadataChanges:!0,so:!0});return E_(t,s)},[4,Pw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function jw(t,e,n){var r=this;void 0===n&&(n={});var i=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(r,void 0,void 0,function(){var r;return Object(ga.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bw({next:function(n){e.enqueueAndForget(function(){return S_(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Lf(Mf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new A_(n,o,{includeMetadataChanges:!0,so:!0});return E_(t,s)},[4,Pw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Nw=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Rw=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fw=new Map,Mw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Lw=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(_b.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Uw=function(){function t(t){var e=this;this.oc=null,this.currentUser=_b.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(qf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gf("string"==typeof n.accessToken),new Mw(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Gf(null===t||"string"==typeof t),new _b(t)},t}(),Vw=function(){function t(t,e){this.ac=t,this.hc=e,this.type="FirstParty",this.user=_b.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),qw=function(){function t(t,e){this.ac=t,this.hc=e}return t.prototype.getToken=function(){return Promise.resolve(new Vw(this.ac,this.hc))},t.prototype.setChangeListener=function(t){t(_b.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Bw(t,e,n){if(!n)throw new Lf(Mf.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zw(t,e,n,r){if(!0===e&&!0===r)throw new Lf(Mf.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ww(t){if(!_p.isDocumentKey(t))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gw(t){if(_p.isDocumentKey(t))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Kw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wf()}function Qw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lf(Mf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kw(t);throw new Lf(Mf.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $w(t,e){if(e<=0)throw new Lf(Mf.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Yw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Lf(Mf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lf(Mf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Jw=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,t instanceof Rw?(this._databaseId=t,this._credentials=new Lw):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Lf(Mf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rw(t.options.projectId)}(t),this._credentials=new Uw(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Lf(Mf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Lf(Mf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Lw;switch(t.type){case"gapi":var e=t.client;return Gf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new qw(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Lf(Mf.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Fw.get(this))&&(qf("ComponentProvider","Removing Datastore"),Fw.delete(this),t.terminate()),Promise.resolve();var t},t}(),Xw=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tO(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Zw=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),tO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,og(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(ga.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Xw(this.firestore,null,new _p(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Zw);function eO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ma.n)(t),Bw("collection","path",e),t instanceof Jw)return Gw(n=op.fromString.apply(op,Object(ga.f)([e],r))),new tO(t,null,n);if(!(t instanceof Xw||t instanceof tO))throw new Lf(Mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gw(n=op.fromString.apply(op,Object(ga.f)([t.path],r)).child(op.fromString(e))),new tO(t.firestore,null,n)}function nO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ma.n)(t),1===arguments.length&&(e=$f.u()),Bw("doc","path",e),t instanceof Jw)return Ww(n=op.fromString.apply(op,Object(ga.f)([e],r))),new Xw(t,null,new _p(n));if(!(t instanceof Xw||t instanceof tO))throw new Lf(Mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ww(n=t._path.child(op.fromString.apply(op,Object(ga.f)([e],r)))),new Xw(t.firestore,t instanceof tO?t._converter:null,new _p(n))}function rO(t,e){return t=Object(ma.n)(t),e=Object(ma.n)(e),(t instanceof Xw||t instanceof tO)&&(e instanceof Xw||e instanceof tO)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function iO(t,e){return t=Object(ma.n)(t),e=Object(ma.n)(e),t instanceof Zw&&e instanceof Zw&&t.firestore===e.firestore&&pg(t._query,e._query)&&t._converter===e._converter}var oO=function(){function t(){var t=this;this.lc=Promise.resolve(),this.fc=[],this.dc=!1,this.wc=[],this._c=null,this.mc=!1,this.yc=[],this.Zi=new Ub(this,"async_queue_retry"),this.gc=function(){var e=Mb();e&&qf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Mb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.dc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ec(),this.Tc(t)},t.prototype.enterRestrictedMode=function(){if(!this.dc){this.dc=!0;var t=Mb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gc)}},t.prototype.enqueue=function(t){return this.Ec(),this.dc?new Promise(function(t){}):this.Tc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.fc.push(t),e.Ic()})},t.prototype.Ic=function(){return Object(ga.b)(this,void 0,void 0,function(){var t,e=this;return Object(ga.d)(this,function(n){switch(n.label){case 0:if(0===this.fc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fc[0]()];case 2:return n.sent(),this.fc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ry(t=n.sent()))throw t;return qf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.fc.length>0&&this.Zi.ji(function(){return e.Ic()}),n.label=5;case 5:return[2]}})})},t.prototype.Tc=function(t){var e=this,n=this.lc.then(function(){return e.mc=!0,t().catch(function(t){throw e._c=t,e.mc=!1,Bf("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.mc=!1,t})});return this.lc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ec(),this.yc.indexOf(t)>-1&&(e=0);var i=y_.createAndSchedule(this,t,e,n,function(t){return r.Ac(t)});return this.wc.push(i),i},t.prototype.Ec=function(){this._c&&Wf()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Rc=function(){return Object(ga.b)(this,void 0,void 0,function(){var t;return Object(ga.d)(this,function(e){switch(e.label){case 0:return[4,t=this.lc];case 1:e.sent(),e.label=2;case 2:if(t!==this.lc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.bc=function(t){for(var e=0,n=this.wc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.vc=function(t){var e=this;return this.Rc().then(function(){e.wc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.wc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Rc()})},t.prototype.Pc=function(t){this.yc.push(t)},t.prototype.Ac=function(t){var e=this.wc.indexOf(t);this.wc.splice(e,1)},t}();function sO(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ay,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var aO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new oO,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ga.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||cO(this),this._firestoreClient.terminate()},e}(Jw);function uO(t){return t._firestoreClient||cO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cO(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Nw(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ow(t._credentials,t._queue,r)}function lO(t,e,n){var r=this,i=new Ay;return t.asyncQueue.enqueue(function(){return Object(ga.b)(r,void 0,void 0,function(){var r;return Object(ga.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Cw(t,n)];case 1:return o.sent(),[4,Ew(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Mf.FAILED_PRECONDITION||t.code===Mf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function hO(t){if(t._initialized||t._terminated)throw new Lf(Mf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ap(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),fO=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(cp.fromBase64String(e))}catch(e){throw new Lf(Mf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(cp.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),pO=function(t){this._methodName=t},gO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lf(Mf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lf(Mf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Yf(this._lat,t._lat)||Yf(this._long,t._long)},t}(),mO=/^__.*__$/,yO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gg(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wg(t,this.data,e,this.fieldTransforms)},t}(),vO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Gg(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function bO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wf()}}var _O=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Vc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Sc",{get:function(){return this.settings.Sc},enumerable:!1,configurable:!0}),t.prototype.Dc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Cc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.xc(t),r},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.Vc(),r},t.prototype.kc=function(t){return this.Dc({path:void 0,Nc:!0})},t.prototype.Oc=function(t){return VO(t,this.settings.methodName,this.settings.$c||!1,this.path,this.settings.Mc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Vc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.xc(this.path.get(t))},t.prototype.xc=function(t){if(0===t.length)throw this.Oc("Document fields must not be empty");if(bO(this.Sc)&&mO.test(t))throw this.Oc('Document fields cannot begin and end with "__"')},t}(),wO=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Lb(t)}return t.prototype.Lc=function(t,e,n,r){return void 0===r&&(r=!1),new _O({Sc:t,methodName:e,Mc:n,path:ap.emptyPath(),Nc:!1,$c:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function OO(t){var e=t._freezeSettings(),n=Lb(t._databaseId);return new wO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CO(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Lc(o.merge||o.mergeFields?2:0,e,n,i);FO("Data must be an object, but it was:",s,r);var a,u,c=NO(r,s);if(o.merge)a=new up(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=MO(e,d[h],n);if(!s.contains(f))throw new Lf(Mf.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");qO(l,f)||l.push(f)}a=new up(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new yO(new Np(c),a,u)}var EO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Sc)throw t.Oc(1===t.Sc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pO);function SO(t,e,n){return new _O({Sc:3,Mc:e.settings.Mc,methodName:t._methodName,Nc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var TO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype._toFieldTransform=function(t){return new Rg(t.path,new xg)},e.prototype.isEqual=function(t){return t instanceof e},e}(pO),xO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(ga.c)(e,t),e.prototype._toFieldTransform=function(t){var e=SO(this,t,!0),n=this.Bc.map(function(t){return jO(t,e)}),r=new Ig(n);return new Rg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pO),IO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(ga.c)(e,t),e.prototype._toFieldTransform=function(t){var e=SO(this,t,!0),n=this.Bc.map(function(t){return jO(t,e)}),r=new Dg(n);return new Rg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pO),AO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ga.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new kg(t.R,Og(t.R,this.qc));return new Rg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pO);function DO(t,e,n,r){var i=t.Lc(1,e,n);FO("Data must be an object, but it was:",i,r);var o=[],s=Np.empty();np(r,function(t,r){var a=UO(e,t,n);r=Object(ma.n)(r);var u=i.Fc(a);if(r instanceof EO)o.push(a);else{var c=jO(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new up(o);return new vO(s,a,i.fieldTransforms)}function PO(t,e,n,r,i,o){var s=t.Lc(1,e,n),a=[MO(e,r,n)],u=[i];if(o.length%2!=0)throw new Lf(Mf.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(MO(e,o[c])),u.push(o[c+1]);for(var l=[],h=Np.empty(),d=a.length-1;d>=0;--d)if(!qO(l,a[d])){var f=a[d],p=u[d];p=Object(ma.n)(p);var g=s.Fc(f);if(p instanceof EO)l.push(f);else{var m=jO(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new up(l);return new vO(h,y,s.fieldTransforms)}function kO(t,e,n,r){return void 0===r&&(r=!1),jO(n,t.Lc(r?4:3,e))}function jO(t,e){if(RO(t=Object(ma.n)(t)))return FO("Unsupported field value:",e,t),NO(t,e);if(t instanceof pO)return function(t,e){if(!bO(e.Sc))throw e.Oc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Oc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nc&&4!==e.Sc)throw e.Oc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=jO(o[i],e.kc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ma.n)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Og(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Zf.fromDate(t);return{timestampValue:Dm(e.R,n)}}if(t instanceof Zf)return n=new Zf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Dm(e.R,n)};if(t instanceof gO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fO)return{bytesValue:Pm(e.R,t._byteString)};if(t instanceof Xw){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Oc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Nm(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Oc("Unsupported field value: "+Kw(t))}(t,e)}function NO(t,e){var n={};return rp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):np(t,function(t,r){var i=jO(r,e.Cc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function RO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zf||t instanceof gO||t instanceof fO||t instanceof Xw||t instanceof pO)}function FO(t,e,n){if(!RO(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Kw(n);throw e.Oc("an object"===r?t+" a custom object":t+" "+r)}}function MO(t,e,n){if((e=Object(ma.n)(e))instanceof dO)return e._internalPath;if("string"==typeof e)return UO(t,e);throw VO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var LO=new RegExp("[~\\*/\\[\\]]");function UO(t,e,n){if(e.search(LO)>=0)throw VO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(dO.bind.apply(dO,Object(ga.f)([void 0],e.split(".")))))._internalPath}catch(r){throw VO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function VO(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Lf(Mf.INVALID_ARGUMENT,(a+=". ")+t+u)}function qO(t,e){return t.some(function(t){return t.isEqual(e)})}var BO=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xw(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(zO("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),HO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(BO);function zO(t,e){return"string"==typeof e?UO(t,e):e instanceof dO?e._internalPath:e._delegate._internalPath}var WO=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),GO=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(ga.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new KO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(zO("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(BO),KO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(GO),QO=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new WO(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new KO(n._firestore,n._userDataWriter,r.key,r,new WO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lf(Mf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new KO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new WO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new KO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new WO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:$O(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function $O(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wf()}}function YO(t,e){return t instanceof GO&&e instanceof GO?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof QO&&e instanceof QO&&t._firestore===e._firestore&&iO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function JO(t){if(ag(t)&&0===t.explicitOrderBy.length)throw new Lf(Mf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var XO=function(){};function ZO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var tC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Uc=e,i.Qc=n,i.Kc=r,i.type="where",i}return Object(ga.c)(e,t),e.prototype._apply=function(t){var e=OO(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){aC(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(sC(r,t,l[c]));a={arrayValue:{values:u}}}else a=sC(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||aC(s,o),a=kO(n,"where",s,"in"===o||"not-in"===o);var h=Bp.create(i,o,a);return function(t,e){if(e.g()){var n=cg(t);if(null!==n&&!n.isEqual(e.field))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ug(t);null!==r&&uC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Lf(Mf.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Uc,this.Qc,this.Kc);return new Zw(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new rg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(XO),eC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Uc=e,r.jc=n,r.type="orderBy",r}return Object(ga.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zp(e,n);return function(t,e){if(null===ug(t)){var n=cg(t);null!==n&&uC(0,n,e.field)}}(t,r),r}(t._query,this.Uc,this.jc);return new Zw(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new rg(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(XO),nC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Wc=n,i.Gc=r,i}return Object(ga.c)(e,t),e.prototype._apply=function(t){return new Zw(t.firestore,t._converter,fg(t._query,this.Wc,this.Gc))},e}(XO),rC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(ga.c)(e,t),e.prototype._apply=function(t){var e=oC(t,this.type,this.zc,this.Hc);return new Zw(t.firestore,t._converter,function(t,e){return new rg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(XO),iC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(ga.c)(e,t),e.prototype._apply=function(t){var e=oC(t,this.type,this.zc,this.Hc);return new Zw(t.firestore,t._converter,function(t,e){return new rg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(XO);function oC(t,e,n,r){if(n[0]=Object(ma.n)(n[0]),n[0]instanceof BO)return function(t,e,n,r,i){if(!r)throw new Lf(Mf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=hg(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Ip(e,r.key));else{var c=r.data.field(u.field);if(pp(c))throw new Lf(Mf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Jp(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=OO(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Lf(Mf.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!lg(t)&&-1!==c.indexOf("/"))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(op.fromString(c));if(!_p.isDocumentKey(l))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new _p(l);a.push(Ip(e,h))}else{var d=kO(n,r,c);a.push(d)}}return new Jp(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function sC(t,e,n){if("string"==typeof(n=Object(ma.n)(n))){if(""===n)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lg(e)&&-1!==n.indexOf("/"))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(op.fromString(n));if(!_p.isDocumentKey(r))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ip(t,new _p(r))}if(n instanceof Xw)return Ip(t,n._key);throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Kw(n)+".")}function aC(t,e){if(!Array.isArray(t)||0===t.length)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uC(t,e,n){if(!n.isEqual(e))throw new Lf(Mf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var cC=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dp(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wf()}},t.prototype.convertObject=function(t,e){var n=this,r={};return np(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new gO(dp(t.latitude),dp(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=gp(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mp(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=hp(t);return new Zf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=op.fromString(t);Gf(oy(n));var r=new Rw(n.get(1),n.get(3)),i=new _p(n.popFirst(5));return r.isEqual(e)||Bf("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function lC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var hC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ga.c)(e,t),e.prototype.convertBytes=function(t){return new fO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xw(this.firestore,null,e)},e}(cC),dC=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=OO(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=fC(t,this._firestore),i=lC(r._converter,e,n),o=CO(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Mg.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=fC(t,this._firestore);return o="string"==typeof(e=Object(ma.n)(e))||e instanceof dO?PO(this._dataReader,"WriteBatch.update",s._key,e,n,r):DO(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Mg.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=fC(t,this._firestore);return this._mutations=this._mutations.concat(new Xg(e._key,Mg.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Lf(Mf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fC(t,e){if((t=Object(ma.n)(t)).firestore!==e)throw new Lf(Mf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var pC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ga.c)(e,t),e.prototype.convertBytes=function(t){return new fO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xw(this.firestore,null,e)},e}(cC);function gC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Qw(t,Xw);var o=Qw(t.firestore,aO),s=OO(o);return yC(o,[("string"==typeof(e=Object(ma.n)(e))||e instanceof dO?PO(s,"updateDoc",t._key,e,n,r):DO(s,"updateDoc",t._key,e)).toMutation(t._key,Mg.exists(!0))])}function mC(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(ma.n)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||sO(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(sO(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Xw)c=Qw(t.firestore,aO),l=og(t._key.path),u={next:function(e){i[a]&&i[a](vC(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Qw(t,Zw);c=Qw(f.firestore,aO),l=f._query;var p=new pC(c);u={next:function(t){i[a]&&i[a](new QO(c,p,f,t))},error:i[a+1],complete:i[a+2]},JO(t._query)}return function(t,e,n,r){var i=this,o=new bw(r),s=new A_(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(i,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return e=E_,[4,Pw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(i,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return e=S_,[4,Pw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(uO(c),l,h,u)}function yC(t,e){return function(t,e){var n=this,r=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var n;return Object(ga.d)(this,function(i){switch(i.label){case 0:return n=q_,[4,Dw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(uO(t),e)}function vC(t,e,n){var r=n.docs.get(e._key),i=new pC(t);return new GO(t,i,e._key,r,new WO(n.hasPendingWrites,n.fromCache),e._converter)}var bC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ga.c)(e,t),e.prototype.get=function(e){var n=this,r=fC(e,this._firestore),i=new pC(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new GO(n._firestore,i,r._key,t._document,new WO(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=OO(t)}return t.prototype.get=function(t){var e=this,n=fC(t,this._firestore),r=new hC(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wf();var i=t[0];if(i.isFoundDocument())return new BO(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new BO(e._firestore,r,n._key,null,n._converter);throw Wf()})},t.prototype.set=function(t,e,n){var r=fC(t,this._firestore),i=lC(r._converter,e,n),o=CO(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=fC(t,this._firestore);return o="string"==typeof(e=Object(ma.n)(e))||e instanceof dO?PO(this._dataReader,"Transaction.update",s._key,e,n,r):DO(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=fC(t,this._firestore);return this._transaction.delete(e._key),this},t}());function _C(){if("undefined"==typeof Uint8Array)throw new Lf(Mf.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wC(){if("undefined"==typeof atob)throw new Lf(Mf.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var OC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return wC(),new t(fO.fromBase64String(e))},t.fromUint8Array=function(e){return _C(),new t(fO.fromUint8Array(e))},t.prototype.toBase64=function(){return wC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return _C(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),CC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){hO(t=Qw(t,aO));var n=uO(t),r=t._freezeSettings(),i=new vw;return lO(n,i,new mw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){hO(t=Qw(t,aO));var e=uO(t),n=t._freezeSettings(),r=new vw;return lO(e,r,new yw(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Lf(Mf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ay;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ga.b)(e,void 0,void 0,function(){var e;return Object(ga.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ga.b)(this,void 0,void 0,function(){return Object(ga.d)(this,function(e){switch(e.label){case 0:return ky.yt()?[4,ky.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Hv(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),EC=function(){function t(t,e,n){var r=this;this._delegate=e,this.Jc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Rw||(this.Yc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Qw(t,Jw))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Hf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ga.b)(e,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return[4,xw(t)];case 1:return e=r.sent(),[4,Aw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Kf(t);return e.$r.delete(0),Gb(e)}(n))]}})})})}(uO(Qw(this._delegate,aO)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ga.b)(e,void 0,void 0,function(){var e,n;return Object(ga.d)(this,function(r){switch(r.label){case 0:return[4,xw(t)];case 1:return e=r.sent(),[4,Aw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ga.b)(this,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return(e=Kf(t)).$r.add(0),[4,Kb(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(uO(Qw(this._delegate,aO)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&zw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Jc.enableMultiTabIndexedDbPersistence(this):this.Jc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Jc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Yc&&(this.Yc._removeServiceInstance("firestore"),this.Yc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(e,void 0,void 0,function(){var e;return Object(ga.d)(this,function(r){switch(r.label){case 0:return e=K_,[4,Dw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(uO(Qw(this._delegate,aO)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bw(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Kf(t).Gr.add(e),e.next()},[4,Pw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var e;return Object(ga.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Kf(t).Gr.delete(e)},[4,Pw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(uO(t=Qw(t,aO)),sO(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yc)throw new Lf(Mf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new LC(this,eO(this._delegate,t))}catch(t){throw DC(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new AC(this,nO(this._delegate,t))}catch(t){throw DC(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new RC(this,function(t,e){if(t=Qw(t,Jw),Bw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zw(t,null,function(t){return new rg(op.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw DC(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var n;return Object(ga.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Tw(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ww(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(uO(t),function(n){return e(new bC(t,n))})}(this._delegate,function(n){return t(new TC(e,n))})},t.prototype.batch=function(){var t=this;return uO(this._delegate),new xC(new dC(this._delegate,function(e){return yC(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Lf(Mf.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Lf(Mf.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),SC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ga.c)(e,t),e.prototype.convertBytes=function(t){return new OC(new fO(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return AC.Xc(e,this.firestore,null)},e}(cC),TC=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new SC(t)}return t.prototype.get=function(t){var e=this,n=UC(t);return this._delegate.get(n).then(function(t){return new jC(e._firestore,new GO(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=UC(t);return n?(Hw("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=UC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ga.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=UC(t);return this._delegate.delete(e),this},t}(),xC=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=UC(t);return n?(Hw("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=UC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ga.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=UC(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),IC=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new KO(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new NC(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.Zc=function(e,n){var r=t.tu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new SC(e),n),i.set(n,o)),o},t}();IC.tu=new WeakMap;var AC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new SC(t)}return t.eu=function(e,n,r){if(e.length%2!=0)throw new Lf(Mf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Xw(n._delegate,r,new _p(e)))},t.Xc=function(e,n,r){return new t(n,new Xw(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new LC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new LC(this.firestore,eO(this._delegate,t))}catch(t){throw DC(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ma.n)(t))instanceof Xw&&rO(this._delegate,t)},t.prototype.set=function(t,e){e=Hw("DocumentReference.set",e);try{return function(t,e,n){t=Qw(t,Xw);var r=Qw(t.firestore,aO),i=lC(t._converter,e,n);return yC(r,[CO(OO(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Mg.none())])}(this._delegate,t,e)}catch(t){throw DC(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gC(this._delegate,t):gC.apply(void 0,Object(ga.f)([this._delegate,t,e],n))}catch(t){throw DC(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return yC(Qw((t=this._delegate).firestore,aO),[new Xg(t._key,Mg.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=PC(e),i=kC(e,function(e){return new jC(t.firestore,new GO(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return mC(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Qw(t,Xw);var e=Qw(t.firestore,aO),n=uO(e),r=new pC(e);return function(t,e){var n=this,r=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var n;return Object(ga.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i;return Object(ga.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Kf(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Lf(Mf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=v_(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Iw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new GO(e,r,t._key,n,new WO(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Qw(t,Xw);var e=Qw(t.firestore,aO);return kw(uO(e),t._key,{source:"server"}).then(function(n){return vC(e,t,n)})}(this._delegate):function(t){t=Qw(t,Xw);var e=Qw(t.firestore,aO);return kw(uO(e),t._key).then(function(n){return vC(e,t,n)})}(this._delegate)).then(function(t){return new jC(e.firestore,new GO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?IC.Zc(this.firestore,e):null))},t}();function DC(t,e,n){return t.message=t.message.replace(e,n),t}function PC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!sO(r))return r}return{}}function kC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=sO(t[0])?t[0]:sO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new AC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return YO(this._delegate,t._delegate)},t}(),NC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ga.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(jC),RC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new SC(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ZO(this._delegate,function(t,e,n){var r=e,i=zO("where",t);return new tC(i,r,n)}(e,n,r)))}catch(e){throw DC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ZO(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=zO("orderBy",t);return new eC(r,n)}(e,n)))}catch(e){throw DC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ZO(this._delegate,function(t){return $w("limit",t),new nC("limit",t,"F")}(e)))}catch(e){throw DC(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ZO(this._delegate,function(t){return $w("limitToLast",t),new nC("limitToLast",t,"L")}(e)))}catch(e){throw DC(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ZO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rC("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw DC(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ZO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rC("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw DC(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ZO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iC("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw DC(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ZO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iC("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw DC(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return iO(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Qw(t,Zw);var e=Qw(t.firestore,aO),n=uO(e),r=new pC(e);return function(t,e){var n=this,r=new Ay;return t.asyncQueue.enqueueAndForget(function(){return Object(ga.b)(n,void 0,void 0,function(){var n;return Object(ga.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ga.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(ga.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ib(t,e,!0)];case 1:return a=u.sent(),r=new N_(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=v_(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Iw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new QO(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Qw(t,Zw);var e=Qw(t.firestore,aO),n=uO(e),r=new pC(e);return jw(n,t._query,{source:"server"}).then(function(n){return new QO(e,r,t,n)})}(this._delegate):function(t){t=Qw(t,Zw);var e=Qw(t.firestore,aO),n=uO(e),r=new pC(e);return JO(t._query),jw(n,t._query).then(function(n){return new QO(e,r,t,n)})}(this._delegate)).then(function(t){return new MC(e.firestore,new QO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=PC(e),i=kC(e,function(e){return new MC(t.firestore,new QO(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return mC(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?IC.Zc(this.firestore,e):null))},t}(),FC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new NC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),MC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new RC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new NC(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new FC(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new NC(n._firestore,r))})},t.prototype.isEqual=function(t){return YO(this._delegate,t._delegate)},t}(),LC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ga.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new AC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new AC(this.firestore,void 0===t?nO(this._delegate):nO(this._delegate,t))}catch(t){throw DC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Qw(t.firestore,aO),r=nO(t),i=lC(t._converter,e);return yC(n,[CO(OO(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Mg.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new AC(e.firestore,t)})},e.prototype.isEqual=function(t){return rO(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?IC.Zc(this.firestore,t):null))},e}(RC);function UC(t){return Qw(t,Xw)}var VC,qC=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(dO.bind.apply(dO,Object(ga.f)([void 0],t)))}return t.documentId=function(){return new t(ap.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ma.n)(t))instanceof dO&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),BC=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new TO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new EO("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xO("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new IO("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new AO("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),HC={Firestore:EC,GeoPoint:gO,Timestamp:Zf,Blob:OC,Transaction:TC,WriteBatch:xC,DocumentReference:AC,DocumentSnapshot:jC,Query:RC,QueryDocumentSnapshot:NC,QuerySnapshot:MC,CollectionReference:LC,FieldPath:qC,FieldValue:BC,setLogLevel:function(t){Uf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function zC(t,e){return function(t,e=Os.b){return new yt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function WC(t,e){return zC(t,e).pipe(Object(bt.a)(t=>({payload:t,type:"query"})))}function GC(t,e){return WC(t,e).pipe(_n(void 0),Dc(),Object(bt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function KC(t,e,n){return GC(t,n).pipe(wn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return QC(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return QC(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QC(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Ss(),Object(bt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function QC(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function $C(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new ya.a("firestore",function(t){return function(t,e){return new EC(t,new aO(t,e),new CC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},HC)))})(VC=pa.a),VC.registerVersion("@firebase/firestore","2.2.2");class YC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=GC(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(_n(void 0),Dc(),En(([t,e])=>e.length>0||!t),Object(bt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$C(t);return KC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return WC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(js.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new JC(this.ref.doc(t),this.afs)}}class JC{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rE(n,e);return new YC(r,i,this.afs)}snapshotChanges(){return zC(this.ref,this.afs.schedulers.outsideAngular).pipe(_n(void 0),Dc(),Object(bt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(bt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wt.a)(this.ref.get(t)).pipe(Object(js.b)(this.afs.schedulers.insideAngular))}}class XC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?GC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),En(t=>t.length>0),this.afs.keepUnstableUntilFirst):GC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$C(t);return KC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return WC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(js.b)(this.afs.schedulers.insideAngular))}}const ZC=new r.r("angularfire2.enableFirestorePersistence"),tE=new r.r("angularfire2.firestore.persistenceSettings"),eE=new r.r("angularfire2.firestore.settings"),nE=new r.r("angularfire2.firestore.use-emulator");function rE(t,e=(t=>t)){return{query:e(t),ref:t}}let iE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ks.d(o),this.keepUnstableUntilFirst=Object(ks.h)(this.schedulers);const c=Object(ks.g)(t,o,e);!Qs.a.auth&&u&&Object(ks.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ks.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(wt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(VC){return"undefined"!=typeof console&&console.warn(VC),Object(Ge.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ge.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rE(n,e),o=this.schedulers.ngZone.run(()=>r);return new YC(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new XC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new JC(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ks.c),r.Tb(ks.b,8),r.Tb(ZC,8),r.Tb(eE,8),r.Tb(r.C),r.Tb(r.A),r.Tb(tE,8),r.Tb(nE,8),r.Tb(qs,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ks.c),Object(r.Tb)(ks.b,8),Object(r.Tb)(ZC,8),Object(r.Tb)(eE,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(tE,8),Object(r.Tb)(nE,8),Object(r.Tb)(qs,8))},token:t,providedIn:"any"}),t})(),oE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ZC,useValue:!0},{provide:tE,useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[iE]}),t})(),sE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[Ac]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[mt,Oc,ze,ws,Wu,We,zu,oE,ks.a.initializeApp({apiKey:"AIzaSyAU8Vc44u9keQnz_KvD2T9UY9jmXdStGmc",authDomain:"e-commarce-cd02e.firebaseapp.com",databaseURL:"https://e-commarce-cd02e-default-rtdb.firebaseio.com",projectId:"e-commarce-cd02e",storageBucket:"e-commarce-cd02e.appspot.com",messagingSenderId:"185501605672",appId:"1:185501605672:web:3ea5abb4b5bb88e388fa1d"})]]}),t})();Object(r.U)(),pt().bootstrapModule(sE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);